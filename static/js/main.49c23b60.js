/*! For license information please see main.49c23b60.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var u=i||"<<anonymous>>",s=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+s+"` was not specified in `"+u+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,u,a,s].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var j,M=Object.assign;function F(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case _:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function $(e,t){J(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,Ie=null;function _e(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){Ee?Ie?Ie.push(e):Ie=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=Ie;if(Ie=Ee=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==Ee||null!==Ie)&&(Ne(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Re=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var je=!1,Me=null,Fe=!1,Ve=null,Ue={onError:function(e){je=!0,Me=e}};function Be(e,t,n,r,i,a,o,u,s){je=!1,Me=null,Le.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(qe(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,It,_t,St=!1,Tt=[],Ct=null,Nt=null,At=null,Ot=new Map,Dt=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function jt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void _t(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){St=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Ot.forEach(Vt),Dt.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Ot.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var zt=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,zt.transition=a}}function Gt(e,t,n,r){var i=kt,a=zt.transition;zt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,zt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=Xt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=jt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=jt(Nt,e,t,n,r,i),!0;case"mouseover":return At=jt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,jt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,jt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Xt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),dn=an(fn),hn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(M({},hn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function _n(){return In}var Sn=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Sn),Cn=an(M({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),An=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=M({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(On),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var jn=l&&"TextEvent"in window&&!Ln,Mn=l&&(!Pn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Wn(e,t,n,r){Se(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){Fr(e,0)}function Xn(e){if(H(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(l){var $n;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Xn(Hn)){var t=[];Wn(t,Hn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Hn)}function ar(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Ir={};function _r(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Er[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=_r("animationend"),Tr=_r("animationiteration"),Cr=_r("animationstart"),Nr=_r("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),s(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Pr=Or[Rr];Dr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Dr(Sr,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),je){if(!je)throw Error(a(198));var l=Me;je=!1,Me=null,Fe||(Fe=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Sr:case Tr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=dn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=De(p,d))&&l.push(Wr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:bi(s),h=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,gi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Hr(h))p++;for(h=0,v=d;v;v=Hr(v))h++;for(;0<p-h;)l=Hr(l),p--;for(;0<h-p;)d=Hr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Hr(l),d=Hr(d)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Kn(u))if(Jn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&qn&&(g=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,qn=!0)),0<(y=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Pn&&Un(e,t)?(e=en(),Zt=$t=Jt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=De(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],Ei=-1;function Ii(e){return{current:e}}function _i(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Si(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ni=Ii(!1),Ai=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){_i(Ni),_i(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Si(Ci,t),Si(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return M({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Si(Ci,e),Si(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,_i(Ni),_i(Ci),Si(Ci,e)):_i(Ni),Si(Ni,n)}var Fi=null,Vi=!1,Ui=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),He(Ze,qi),i}finally{kt=t,Ui=!1}}return null}var zi=[],Ki=0,Wi=null,Gi=0,Hi=[],Qi=0,Xi=null,Yi=1,Ji="";function $i(e,t){zi[Ki++]=Gi,zi[Ki++]=Wi,Wi=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=Yi,Hi[Qi++]=Ji,Hi[Qi++]=Xi,Xi=e;var r=Yi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Yi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=zi[--Ki],zi[Ki]=null,Gi=zi[--Ki],zi[Ki]=null;for(;e===Xi;)Xi=Hi[--Qi],Hi[Qi]=null,Ji=Hi[--Qi],Hi[Qi]=null,Yi=Hi[--Qi],Hi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ci(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;_i(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Sa=null;function Ta(e){null===Sa?Sa=[e]:Sa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ja(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=M({},f,d);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=h,s=f):l=l.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);js|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function qa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function za(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=_a(a):(i=Di(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=_a(a):(a=Di(t)?Ai:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ga(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Ga(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Ga(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&$i(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&$i(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&$i(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=h(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&$i(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=d(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&$i(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&$i(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===E){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ga(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===E?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pc(o.type,o.key,o.props,null,r.mode,s)).ref=Ga(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=Xa(!0),Ja=Xa(!1),$a={},Za=Ii($a),eo=Ii($a),to=Ii($a);function no(e){if(e===$a)throw Error(a(174));return e}function ro(e,t){switch(Si(to,t),Si(eo,e),Si(Za,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Za),Si(Za,t)}function io(){_i(Za),_i(eo),_i(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Si(eo,e),Si(Za,n))}function oo(e){eo.current===e&&(_i(Za),_i(eo))}var uo=Ii(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function _o(){var e=0!==bo;return bo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=d,u=r):c=c.next=d,vo.lanes|=f,js|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,js|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Po.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,jo(t)&&Mo(e)}function Lo(e,t,n){return n((function(){jo(t)&&Mo(e)}))}function jo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Mo(e){var t=Na(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function Bo(e,t,n,r){var i=So();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function qo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function zo(e,t){return Bo(8390656,8,e,t)}function Ko(e,t){return qo(2048,8,e,t)}function Wo(e,t){return qo(4,2,e,t)}function Go(e,t){return qo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qo(4,4,Ho.bind(null,t,e),n)}function Xo(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,js|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:_a,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:_a,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Fo,useDebugValue:Xo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=So();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Ns.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:_a,useCallback:Yo,useContext:_a,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Jo,useReducer:No,useRef:Uo,useState:function(){return No(Co)},useDebugValue:Xo,useDeferredValue:function(e){return $o(To(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},cu={readContext:_a,useCallback:Yo,useContext:_a,useEffect:Ko,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Go,useMemo:Jo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:Xo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:$o(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function du(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Ws=r),du(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){du(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){du(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ya(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=_o(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Eu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function _u(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Rs,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Rs,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Si(Rs,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Si(Rs,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Su(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Di(n)?Ai:Ci.current;return a=Oi(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=_o(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Di(n)){var a=!0;ji(t)}else a=!1;if(Ia(t,i),null===t.stateNode)zu(e,t),za(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=_a(c):c=Oi(t,c=Di(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Aa=!1;var d=t.memoizedState;o.state=d,Ma(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Ni.current||Aa?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Aa||qa(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=_a(s):s=Oi(t,s=Di(n)?Ai:Ci.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&Ka(t,o,r,s),Aa=!1,d=t.memoizedState,o.state=d,Ma(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Ni.current||Aa?("function"===typeof h&&(Ua(t,n,h,r),p=t.memoizedState),(c=Aa||qa(t,n,c,r,d,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Su(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return ha(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Du,Ru,Pu,Lu={dehydrated:null,treeContext:null,retryLane:0};function ju(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=jc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=ju(n),t.memoizedState=Lu,e):Fu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=ju(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nc(r,e,i,-1))}return vc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Qi++]=Yi,Hi[Qi++]=Ji,Hi[Qi++]=Xi,Yi=e.id,Ji=e.overflow,Xi=t),t=Fu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?ju(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fu(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),js|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Di(t.type)&&Ri(),Gu(t),null;case 3:return r=t.stateNode,io(),_i(Ni),_i(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[hi]=r,Du(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Pu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Gu(t),null;case 13:if(_i(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ps&&(Ps=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),null===e&&qr(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(_i(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>qs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Je()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=uo.current,Si(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),_i(Ni),_i(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(_i(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Pu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xu=!1,Yu=!1,Ju="function"===typeof WeakSet?WeakSet:Set,$u=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function ds(e,t,n){for(n=n.child;null!==n;)hs(e,t,n),n=n.sibling}function hs(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,ds(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),qt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,ds(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,ds(e,t,n),Yu=r):ds(e,t,n);break;default:ds(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));hs(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ic(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],d=c[u+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):k(i,f,d,l)}switch(s){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Je())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for($u=e,f=e.child;null!==f;){for(d=$u=f;null!==$u;){switch(p=(h=$u).child,h.tag){case 0:case 11:case 14:case 15:ns(4,h,h.return);break;case 1:Zu(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:Zu(h,h.return);break;case 22:if(null!==h.memoizedState){ws(d);continue}}null!==p?(p.return=h,$u=p):ws(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){$u=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==$u;){var i=$u,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=Xu;var c=Yu;if(Xu=o,(Yu=s)&&!c)for($u=i;null!==$u;)s=(o=$u).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,$u=s):xs(i);for(;null!==a;)$u=a,ks(a,t,n),a=a.sibling;$u=i,Xu=u,Yu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$u=a):bs(e)}}function bs(e){for(;null!==$u;){var t=$u;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&qt(d)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(h){Ic(t,t.return,h)}}if(t===e){$u=null;break}if(null!==(n=t.sibling)){n.return=t.return,$u=n;break}$u=t.return}}function ws(e){for(;null!==$u;){var t=$u;if(t===e){$u=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$u=n;break}$u=t.return}}function xs(e){for(;null!==$u;){var t=$u;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){$u=null;break}var u=t.sibling;if(null!==u){u.return=t.return,$u=u;break}$u=t.return}}var Es,Is=Math.ceil,_s=b.ReactCurrentDispatcher,Ss=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Os=0,Ds=0,Rs=Ii(0),Ps=0,Ls=null,js=0,Ms=0,Fs=0,Vs=null,Us=null,Bs=0,qs=1/0,zs=null,Ks=!1,Ws=null,Gs=null,Hs=!1,Qs=null,Xs=0,Ys=0,Js=null,$s=-1,Zs=0;function ec(){return 0!==(6&Cs)?Je():-1!==$s?$s:$s=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Ms|=n),4===Ps&&uc(e,Os)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(qs=Je()+500,Vi&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===Ns?Os:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&qi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if($s=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===Ns?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ns===e&&Os===t||(zs=null,qs=Je()+500,dc(e,t));;)try{gc();break}catch(s){hc(e,s)}wa(),_s.current=o,Cs=i,null!==As?t=0:(Ns=null,Os=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,dc(e,0),uc(e,r),rc(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,dc(e,0),uc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Us,zs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Us,zs),t);break}wc(e,Us,zs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Us,zs),r);break}wc(e,Us,zs);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Us,Us=n,null!==t&&oc(t)),e}function oc(e){null===Us?Us=e:Us.push.apply(Us,e)}function uc(e,t){for(t&=~Fs,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=dt(e,0);if(0===(1&t))return rc(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,dc(e,0),uc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,zs),rc(e,Je()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(qs=Je()+500,Vi&&qi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&qi()}}function fc(){Ds=Rs.current,_i(Rs)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),_i(Ni),_i(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:_i(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ns=e,As=e=Rc(e.current,null),Os=Ds=t,Ps=0,Ls=null,Fs=Ms=js=0,Us=Vs=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Sa=null}return e}function hc(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ss.current=null,null===n||null===n.return){Ps=1,Ls=t,As=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ps&&(Ps=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,ja(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Gs||!Gs.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,ja(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,As===n&&null!==n&&(As=n=n.return);continue}break}}function pc(){var e=_s.current;return _s.current=ou,null===e?ou:e}function vc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===Ns||0===(268435455&js)&&0===(268435455&Ms)||uc(Ns,Os)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ns===e&&Os===t||(zs=null,dc(e,t));;)try{yc();break}catch(i){hc(e,i)}if(wa(),Cs=n,_s.current=r,null!==As)throw Error(a(261));return Ns=null,Os=0,Ps}function yc(){for(;null!==As;)kc(As)}function gc(){for(;null!==As&&!Xe();)kc(As)}function kc(e){var t=Es(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?bc(e):As=t,Ss.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Ds)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Ps=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Ps&&(Ps=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Ss.current=null,function(e,t){if(ei=Kt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(c=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(s=u),h===o&&++f===r&&(c=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,$u=t;null!==$u;)if(e=(t=$u).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$u=e;else for(;null!==$u;){t=$u;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$u=e;break}$u=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Hs&&(Hs=!1,Qs=e,Xs=i),o=e.pendingLanes,0===o&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Ws,Ws=null,e;0!==(1&Xs)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Js?Ys++:(Ys=0,Js=e):Ys=0,qi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Qs){var e=bt(Xs),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Xs=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,$u=e.current;null!==$u;){var o=$u,u=o.child;if(0!==(16&$u.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for($u=l;null!==$u;){var f=$u;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var d=f.child;if(null!==d)d.return=f,$u=d;else for(;null!==$u;){var h=(f=$u).sibling,p=f.return;if(as(f),f===l){$u=null;break}if(null!==h){h.return=p,$u=h;break}$u=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$u=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,$u=u;else e:for(;null!==$u;){if(0!==(2048&(o=$u).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$u=g;break e}$u=o.return}}var k=e.current;for($u=k;null!==$u;){var b=(u=$u).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,$u=b;else e:for(u=k;null!==$u;){if(0!==(2048&(s=$u).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Ic(s,s.return,x)}if(s===u){$u=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,$u=w;break e}$u=s.return}}if(Cs=i,qi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function Ec(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Os&n)===n&&(4===Ps||3===Ps&&(130023424&Os)===Os&&500>Je()-Bs?dc(e,0):Fs|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Na(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Nc(e,t){return He(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Ac(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Lc(n.children,i,o,t);case I:u=8,i|=8;break;case _:return(e=Oc(12,n,t,2|i)).elementType=_,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=qc(null),n=e.current,(a=Ra(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),ha();break;case 5:ao(t);break;case 1:Di(t.type)&&ji(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Si(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Si(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,_u(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=_o();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,ji(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Eu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Ma(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Su(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Mu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Si(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ea(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ea(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=_a(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Eu(e,t,r,i=ma(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),zu(e,t),t.tag=1,Di(r)?(e=!0,ji(t)):e=!1,Ia(t,n),za(t,r,i),Wa(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return _u(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,qr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}Yc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Yc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Je()),0===(6&Cs)&&(qs=Je()+500,qi()))}break;case 13:lc((function(){var t=Na(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Na(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},It=function(){return kt},_t=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ne=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Se,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(S),S=-1),p=!0;var a=h;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,I=!1,_=null,S=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?E():(I=!1,_=null)}}else I=!1}if("function"===typeof k)E=function(){k(A)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,D=O.port2;O.port1.onmessage=A,E=function(){D.postMessage(null)}}else E=function(){y(A,0)};function R(e){_=e,I||(I=!0,E())}function P(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(S),S=-1):m=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".28cb0dcd.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="my-app:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var d=function(t,n){u.onerror=u.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/ivanlamo01/El-bebedero-firebase/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkmy_app=self.webpackChunkmy_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return oi},SDK_VERSION:function(){return ha},_DEFAULT_ENTRY_NAME:function(){return ea},_addComponent:function(){return ia},_addOrOverwriteComponent:function(){return aa},_apps:function(){return na},_clearComponents:function(){return ca},_components:function(){return ra},_getProvider:function(){return ua},_registerComponent:function(){return oa},_removeServiceInstance:function(){return sa},deleteApp:function(){return ya},getApp:function(){return va},getApps:function(){return ma},initializeApp:function(){return pa},onLog:function(){return ba},registerVersion:function(){return ka},setLogLevel:function(){return wa}});var t,r=n(791),i=n.t(r,2),a=n(250);function o(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||s(e,t)||c()}function f(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e){return function(e){if(Array.isArray(e))return u(e)}(e)||f(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function v(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function I(e){var t=w();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E(this,n)}}function _(e,t,n){return _=w()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i},_.apply(null,arguments)}function S(e){var t="function"===typeof Map?new Map:void 0;return S=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _(e,arguments,b(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,e)},S(e)}function T(e){return o(e)||f(e)||s(e)||c()}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var A,O="popstate";function D(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){return{usr:e.state,key:e.key,idx:t}}function P(e,t,n,r){return void 0===n&&(n=null),N({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?j(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function j(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,d=null,h=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-h;h=e,d&&d({action:f,location:y.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:L(e);return D(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,l.replaceState(N({},l.state,{idx:h}),""));var y={get action(){return f},get location(){return e(u,l)},listen:function(e){if(d)throw new Error("A history only accepts one active listener");return u.addEventListener(O,v),d=e,function(){u.removeEventListener(O,v),d=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=P(y.location,e,n);r&&r(i,e);var a=R(i,h=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(s){u.location.assign(o)}c&&d&&d({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=P(y.location,e,n);r&&r(i,e);var a=R(i,h=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&d&&d({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}function F(e,t,n){void 0===n&&(n="/");var r=H(("string"===typeof t?j(t):t).pathname||"/",n);if(null==r)return null;var i=V(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=K(i[o],G(r));return a}function V(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(D(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=$([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(D(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),V(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:z(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=C(U(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function U(e){var t=e.split("/");if(0===t.length)return[];var n=T(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=U(i.join("/")),s=[];return s.push.apply(s,d(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,d(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(A||(A={}));var B=/^:\w+$/,q=function(e){return"*"===e};function z(e,t){var n=e.split("/"),r=n.length;return n.some(q)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!q(e)})).reduce((function(e,t){return e+(B.test(t)?3:""===t?1:10)}),r)}function K(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=W({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:$([i,l.pathname]),pathnameBase:Z($([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=$([i,l.pathnameBase]))}return a}function W(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Q("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return Q(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function G(e){try{return decodeURI(e)}catch(t){return Q(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Q(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function X(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Y(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function J(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=j(e):(D(!(i=N({},e)).pathname||!i.pathname.includes("?"),X("?","pathname","search",i)),D(!i.pathname||!i.pathname.includes("#"),X("#","pathname","hash",i)),D(!i.search||!i.search.includes("#"),X("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?j(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ee(a),hash:te(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),d=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!d||(l.pathname+="/"),l}var $=function(e){return e.join("/").replace(/\/\/+/g,"/")},Z=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ee=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},te=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ne=function(e){k(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return y(n)}(S(Error));function re(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ie=["post","put","patch","delete"],ae=(new Set(ie),["get"].concat(ie));new Set(ae),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}var ue="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},se=r.useState,ce=r.useEffect,le=r.useLayoutEffect,fe=r.useDebugValue;function de(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!ue(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,i.useSyncExternalStore;var he=r.createContext(null);var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext(null);var ye=r.createContext(null);var ge=r.createContext({outlet:null,matches:[]});var ke=r.createContext(null);function be(){return null!=r.useContext(ye)}function we(){return be()||D(!1),r.useContext(ye).location}function xe(){be()||D(!1);var e=r.useContext(me),t=e.basename,n=e.navigator,i=r.useContext(ge).matches,a=we().pathname,o=JSON.stringify(Y(i).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);r.useEffect((function(){u.current=!0}));var s=r.useCallback((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=J(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:$([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return s}function Ee(){var e=r.useContext(ge).matches,t=e[e.length-1];return t?t.params:{}}function Ie(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(ge).matches,a=we().pathname,o=JSON.stringify(Y(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return J(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function _e(){var e=function(){var e,t=r.useContext(ke),n=Oe(Te.UseRouteError),i=De(Te.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=re(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Se,Te,Ce=function(e){k(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return y(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(ge.Provider,{value:this.props.routeContext},r.createElement(ke.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function Ne(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(he);return a&&a.static&&a.staticContext&&n.route.errorElement&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ge.Provider,{value:t},i)}function Ae(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||D(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,c=n?o.route.errorElement||r.createElement(_e,null):null,l=t.concat(i.slice(0,u+1)),f=function(){return r.createElement(Ne,{match:o,routeContext:{outlet:e,matches:l}},s?c:void 0!==o.route.element?o.route.element:e)};return n&&(o.route.errorElement||0===u)?r.createElement(Ce,{location:n.location,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function Oe(e){var t=r.useContext(pe);return t||D(!1),t}function De(e){var t=function(e){var t=r.useContext(ge);return t||D(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||D(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Se||(Se={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Te||(Te={}));var Re;function Pe(e){D(!1)}function Le(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,d=void 0!==f&&f;be()&&D(!1);var h=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:h,navigator:l,static:d}}),[h,l,d]);"string"===typeof u&&(u=j(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,x=v.state,E=void 0===x?null:x,I=v.key,_=void 0===I?"default":I,S=r.useMemo((function(){var e=H(y,h);return null==e?null:{pathname:e,search:k,hash:w,state:E,key:_}}),[h,y,k,w,E,_]);return null==S?null:r.createElement(me.Provider,{value:p},r.createElement(ye.Provider,{children:o,value:{location:S,navigationType:c}}))}function je(e){var n=e.children,i=e.location,a=r.useContext(he);return function(e,n){be()||D(!1);var i,a=r.useContext(me).navigator,o=r.useContext(pe),u=r.useContext(ge).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,we());if(n){var d,h="string"===typeof n?j(n):n;"/"===l||(null==(d=h.pathname)?void 0:d.startsWith(l))||D(!1),i=h}else i=f;var p=i.pathname||"/",v=F(e,{pathname:"/"===l?p:p.slice(l.length)||"/"}),m=Ae(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:$([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:$([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,o||void 0);return n&&m?r.createElement(ye.Provider,{value:{location:oe({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},m):m}(a&&!n?a.router.routes:Fe(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Re||(Re={}));var Me=new Promise((function(){}));r.Component;function Fe(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e))if(e.type!==r.Fragment){e.type!==Pe&&D(!1),e.props.index&&e.props.children&&D(!1);var a=[].concat(d(t),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Fe(e.props.children,a)),n.push(o)}else n.push.apply(n,Fe(e.props.children,t))})),n}function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function Ue(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function qe(e){var t=e.basename,n=e.children,i=e.window,a=r.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),M((function(e,t){var n=e.location;return P("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:L(t)}),null,e)}({window:i,v5Compat:!0}));var o=a.current,u=l(r.useState({action:o.action,location:o.location}),2),s=u[0],c=u[1];return r.useLayoutEffect((function(){return o.listen(c)}),[o]),r.createElement(Le,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var ze="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ke=r.forwardRef((function(e,t){var n=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,u=e.state,s=e.target,c=e.to,l=e.preventScrollReset,f=Ue(e,Be),d="string"===typeof c?c:L(c),h=/^[a-z+]+:\/\//i.test(d)||d.startsWith("//"),p=d,v=!1;if(ze&&h){var m=new URL(window.location.href),y=d.startsWith("//")?new URL(m.protocol+d):new URL(d);y.origin===m.origin?p=y.pathname+y.search+y.hash:v=!0}var g=function(e,t){var n=(void 0===t?{}:t).relative;be()||D(!1);var i=r.useContext(me),a=i.basename,o=i.navigator,u=Ie(e,{relative:n}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:$([a,c])),o.createHref({pathname:f,search:l,hash:s})}(p,{relative:i}),k=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,c=xe(),l=we(),f=Ie(e,{relative:s});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:L(l)===L(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(p,{replace:o,state:u,target:s,preventScrollReset:l,relative:i});return r.createElement("a",Ve({},f,{href:h?d:g,onClick:v||a?n:function(e){n&&n(e),e.defaultPrevented||k(e)},ref:t,target:s}))}));var We,Ge;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(We||(We={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ge||(Ge={}));function He(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(){Ye=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f={};function d(){}function h(){}function v(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==p(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Je(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function $e(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Je(a,r,i,o,u,"next",e)}function u(e){Je(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Ze(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function et(e,t){if(null==e)return{};var n,r,i=Ze(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var tt=n(694),nt=n.n(tt),rt=n(7),it=n.n(rt),at=n(184),ot=["as","className","type","tooltip"],ut={type:it().string,tooltip:it().bool,as:it().elementType},st=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,u=e.tooltip,s=void 0!==u&&u,c=et(e,ot);return(0,at.jsx)(r,Xe(Xe({},c),{},{ref:t,className:nt()(i,"".concat(o,"-").concat(s?"tooltip":"feedback"))}))}));st.displayName="Feedback",st.propTypes=ut;var ct=st,lt=r.createContext({}),ft=["xxl","xl","lg","md","sm","xs"],dt=r.createContext({prefixes:{},breakpoints:ft,minBreakpoint:"xs"});dt.Consumer,dt.Provider;function ht(e,t){var n=(0,r.useContext)(dt).prefixes;return e||n[t]||t}function pt(){return"rtl"===(0,r.useContext)(dt).dir}var vt=["id","bsPrefix","className","type","isValid","isInvalid","as"],mt=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.className,o=e.type,u=void 0===o?"checkbox":o,s=e.isValid,c=void 0!==s&&s,l=e.isInvalid,f=void 0!==l&&l,d=e.as,h=void 0===d?"input":d,p=et(e,vt),v=(0,r.useContext)(lt).controlId;return i=ht(i,"form-check-input"),(0,at.jsx)(h,Xe(Xe({},p),{},{ref:t,type:u,id:n||v,className:nt()(a,i,c&&"is-valid",f&&"is-invalid")}))}));mt.displayName="FormCheckInput";var yt=mt,gt=["bsPrefix","className","htmlFor"],kt=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.htmlFor,o=et(e,gt),u=(0,r.useContext)(lt).controlId;return n=ht(n,"form-check-label"),(0,at.jsx)("label",Xe(Xe({},o),{},{ref:t,htmlFor:a||u,className:nt()(i,n)}))}));kt.displayName="FormCheckLabel";var bt=kt;function wt(e,t){var n=0;return r.Children.map(e,(function(e){return r.isValidElement(e)?t(e,n++):e}))}var xt=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],Et=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,u=void 0!==o&&o,s=e.reverse,c=void 0!==s&&s,l=e.disabled,f=void 0!==l&&l,d=e.isValid,h=void 0!==d&&d,p=e.isInvalid,v=void 0!==p&&p,m=e.feedbackTooltip,y=void 0!==m&&m,g=e.feedback,k=e.feedbackType,b=e.className,w=e.style,x=e.title,E=void 0===x?"":x,I=e.type,_=void 0===I?"checkbox":I,S=e.label,T=e.children,C=e.as,N=void 0===C?"input":C,A=et(e,xt);i=ht(i,"form-check"),a=ht(a,"form-switch");var O=(0,r.useContext)(lt).controlId,D=(0,r.useMemo)((function(){return{controlId:n||O}}),[O,n]),R=!T&&null!=S&&!1!==S||function(e,t){return r.Children.toArray(e).some((function(e){return r.isValidElement(e)&&e.type===t}))}(T,bt),P=(0,at.jsx)(yt,Xe(Xe({},A),{},{type:"switch"===_?"checkbox":_,ref:t,isValid:h,isInvalid:v,disabled:f,as:N}));return(0,at.jsx)(lt.Provider,{value:D,children:(0,at.jsx)("div",{style:w,className:nt()(b,R&&i,u&&"".concat(i,"-inline"),c&&"".concat(i,"-reverse"),"switch"===_&&a),children:T||(0,at.jsxs)(at.Fragment,{children:[P,R&&(0,at.jsx)(bt,{title:E,children:S}),g&&(0,at.jsx)(ct,{type:k,tooltip:y,children:g})]})})})}));Et.displayName="FormCheck";var It=Object.assign(Et,{Input:yt,Label:bt}),_t=n(391),St=n.n(_t),Tt=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],Ct=r.forwardRef((function(e,t){var n,i,a=e.bsPrefix,o=e.type,u=e.size,s=e.htmlSize,c=e.id,l=e.className,f=e.isValid,d=void 0!==f&&f,h=e.isInvalid,p=void 0!==h&&h,v=e.plaintext,m=e.readOnly,y=e.as,g=void 0===y?"input":y,k=et(e,Tt),b=(0,r.useContext)(lt).controlId;(a=ht(a,"form-control"),v)?n=He({},"".concat(a,"-plaintext"),!0):(He(i={},a,!0),He(i,"".concat(a,"-").concat(u),u),n=i);return(0,at.jsx)(g,Xe(Xe({},k),{},{type:o,size:s,ref:t,readOnly:m,id:c||b,className:nt()(l,n,d&&"is-valid",p&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));Ct.displayName="FormControl";var Nt=Object.assign(Ct,{Feedback:ct}),At=/-(.)/g;var Ot=["className","bsPrefix","as"],Dt=function(e){return e[0].toUpperCase()+(t=e,t.replace(At,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function Rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,i=void 0===n?Dt(e):n,a=t.Component,o=t.defaultProps,u=r.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,u=void 0===o?a||"div":o,s=et(t,Ot),c=ht(i,e);return(0,at.jsx)(u,Xe({ref:n,className:nt()(r,c)},s))}));return u.defaultProps=o,u.displayName=i,u}var Pt=Rt("form-floating"),Lt=["controlId","as"],jt=r.forwardRef((function(e,t){var n=e.controlId,i=e.as,a=void 0===i?"div":i,o=et(e,Lt),u=(0,r.useMemo)((function(){return{controlId:n}}),[n]);return(0,at.jsx)(lt.Provider,{value:u,children:(0,at.jsx)(a,Xe(Xe({},o),{},{ref:t}))})}));jt.displayName="FormGroup";var Mt=jt,Ft=["as","bsPrefix","className"],Vt=["className"];function Ut(e){var t=e.as,n=e.bsPrefix,i=e.className,a=et(e,Ft);n=ht(n,"col");var o=(0,r.useContext)(dt).breakpoints,u=(0,r.useContext)(dt).minBreakpoint,s=[],c=[];return o.forEach((function(e){var t,r,i,o=a[e];delete a[e],"object"===typeof o&&null!=o?(t=o.span,r=o.offset,i=o.order):t=o;var l=e!==u?"-".concat(e):"";t&&s.push(!0===t?"".concat(n).concat(l):"".concat(n).concat(l,"-").concat(t)),null!=i&&c.push("order".concat(l,"-").concat(i)),null!=r&&c.push("offset".concat(l,"-").concat(r))})),[Xe(Xe({},a),{},{className:nt().apply(void 0,[i].concat(s,c))}),{as:t,bsPrefix:n,spans:s}]}var Bt=r.forwardRef((function(e,t){var n=l(Ut(e),2),r=n[0],i=r.className,a=et(r,Vt),o=n[1],u=o.as,s=void 0===u?"div":u,c=o.bsPrefix,f=o.spans;return(0,at.jsx)(s,Xe(Xe({},a),{},{ref:t,className:nt()(i,!f.length&&c)}))}));Bt.displayName="Col";var qt=Bt,zt=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],Kt=r.forwardRef((function(e,t){var n=e.as,i=void 0===n?"label":n,a=e.bsPrefix,o=e.column,u=e.visuallyHidden,s=e.className,c=e.htmlFor,l=et(e,zt),f=(0,r.useContext)(lt).controlId;a=ht(a,"form-label");var d="col-form-label";"string"===typeof o&&(d="".concat(d," ").concat(d,"-").concat(o));var h=nt()(s,a,u&&"visually-hidden",o&&d);return c=c||f,o?(0,at.jsx)(qt,Xe({ref:t,as:"label",className:h,htmlFor:c},l)):(0,at.jsx)(i,Xe({ref:t,className:h,htmlFor:c},l))}));Kt.displayName="FormLabel",Kt.defaultProps={column:!1,visuallyHidden:!1};var Wt=Kt,Gt=["bsPrefix","className","id"],Ht=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.id,o=et(e,Gt),u=(0,r.useContext)(lt).controlId;return n=ht(n,"form-range"),(0,at.jsx)("input",Xe(Xe({},o),{},{type:"range",ref:t,className:nt()(i,n),id:a||u}))}));Ht.displayName="FormRange";var Qt=Ht,Xt=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],Yt=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,u=e.isValid,s=void 0!==u&&u,c=e.isInvalid,l=void 0!==c&&c,f=e.id,d=et(e,Xt),h=(0,r.useContext)(lt).controlId;return n=ht(n,"form-select"),(0,at.jsx)("select",Xe(Xe({},d),{},{size:a,ref:t,className:nt()(o,n,i&&"".concat(n,"-").concat(i),s&&"is-valid",l&&"is-invalid"),id:f||h}))}));Yt.displayName="FormSelect";var Jt=Yt,$t=["bsPrefix","className","as","muted"],Zt=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,u=et(e,$t);return n=ht(n,"form-text"),(0,at.jsx)(a,Xe(Xe({},u),{},{ref:t,className:nt()(r,n,o&&"text-muted")}))}));Zt.displayName="FormText";var en=Zt,tn=r.forwardRef((function(e,t){return(0,at.jsx)(It,Xe(Xe({},e),{},{ref:t,type:"switch"}))}));tn.displayName="Switch";var nn=Object.assign(tn,{Input:It.Input,Label:It.Label}),rn=["bsPrefix","className","children","controlId","label"],an=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,u=et(e,rn);return n=ht(n,"form-floating"),(0,at.jsxs)(Mt,Xe(Xe({ref:t,className:nt()(r,n),controlId:a},u),{},{children:[i,(0,at.jsx)("label",{htmlFor:a,children:o})]}))}));an.displayName="FloatingLabel";var on=an,un=["className","validated","as"],sn={_ref:it().any,validated:it().bool,as:it().elementType},cn=r.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=et(e,un);return(0,at.jsx)(a,Xe(Xe({},o),{},{ref:t,className:nt()(n,r&&"was-validated")}))}));cn.displayName="Form",cn.propTypes=sn;var ln=Object.assign(cn,{Group:Mt,Control:Nt,Floating:Pt,Check:It,Switch:nn,Label:Wt,Text:en,Range:Qt,Select:Jt,FloatingLabel:on}),fn=["name"],dn=["_f"],hn=["_f"],pn=function(e){return"checkbox"===e.type},vn=function(e){return e instanceof Date},mn=function(e){return null==e},yn=function(e){return"object"===typeof e},gn=function(e){return!mn(e)&&!Array.isArray(e)&&yn(e)&&!vn(e)},kn=function(e){return gn(e)&&e.target?pn(e.target)?e.target.checked:e.target.value:e},bn=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},wn="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function xn(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(wn&&(e instanceof Blob||e instanceof FileList)||!n&&!gn(e))return e;if(t=n?[]:{},Array.isArray(e)||function(e){var t=e.constructor&&e.constructor.prototype;return gn(t)&&t.hasOwnProperty("isPrototypeOf")}(e))for(var r in e)t[r]=xn(e[r]);else t=e}return t}var En=function(e){return Array.isArray(e)?e.filter(Boolean):[]},In=function(e){return void 0===e},_n=function(e,t,n){if(!t||!gn(e))return n;var r=En(t.split(/[,[\].]+?/)).reduce((function(e,t){return mn(e)?e:e[t]}),e);return In(r)||r===e?In(e[t])?n:e[t]:r},Sn="blur",Tn="focusout",Cn="onBlur",Nn="onChange",An="onSubmit",On="onTouched",Dn="all",Rn="max",Pn="min",Ln="maxLength",jn="minLength",Mn="pattern",Fn="required",Vn="validate",Un=(r.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={defaultValues:t._defaultValues},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t._proxyFormState[i]!==Dn&&(t._proxyFormState[i]=!r||Dn),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),Bn=function(e){return gn(e)&&!Object.keys(e).length},qn=function(e,t,n,r){n(e);e.name;var i=et(e,fn);return Bn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((function(e){return t[e]===(!r||Dn)}))},zn=function(e){return Array.isArray(e)?e:[e]};function Kn(e){var t=r.useRef(e);t.current=e,r.useEffect((function(){var n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return function(){n&&n.unsubscribe()}}),[e.disabled])}var Wn=function(e){return"string"===typeof e},Gn=function(e,t,n,r,i){return Wn(e)?(r&&t.watch.add(e),_n(n,e,i)):Array.isArray(e)?e.map((function(e){return r&&t.watch.add(e),_n(n,e)})):(r&&(t.watchAll=!0),n)};var Hn=function(e){return/^\w*$/.test(e)},Qn=function(e){return En(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function Xn(e,t,n){for(var r=-1,i=Hn(t)?[t]:Qn(t),a=i.length,o=a-1;++r<a;){var u=i[r],s=n;if(r!==o){var c=e[u];s=gn(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[u]=s,e=e[u]}return e}var Yn=function(e,t,n,r,i){return t?Xe(Xe({},n[e]),{},{types:Xe(Xe({},n[e]&&n[e].types?n[e].types:{}),{},He({},r,i||!0))}):{}},Jn=function e(t,n,r){var i,a=C(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,u=_n(t,o);if(u){var s=u._f,c=et(u,dn);if(s&&n(s.name)){if(s.ref.focus){s.ref.focus();break}if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else gn(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},$n=function(e){return{isOnSubmit:!e||e===An,isOnBlur:e===Cn,isOnChange:e===Nn,isOnAll:e===Dn,isOnTouch:e===On}},Zn=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||d(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},er=function(e,t,n){var r=En(_n(e,n));return Xn(r,"root",t[n]),Xn(e,n,r),e},tr=function(e){return"boolean"===typeof e},nr=function(e){return"file"===e.type},rr=function(e){return"function"===typeof e},ir=function(e){if(!wn)return!1;var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ar=function(e){return Wn(e)},or=function(e){return"radio"===e.type},ur=function(e){return e instanceof RegExp},sr={value:!1,isValid:!1},cr={value:!0,isValid:!0},lr=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!In(e[0].attributes.value)?In(e[0].value)||""===e[0].value?cr:{value:e[0].value,isValid:!0}:cr:sr}return sr},fr={isValid:!1,value:null},dr=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),fr):fr};function hr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(ar(e)||Array.isArray(e)&&e.every(ar)||tr(e)&&!e)return{type:n,message:ar(e)?e:"",ref:t}}var pr=function(e){return gn(e)&&!ur(e)?e:{value:e,message:""}},vr=function(){var e=$e(Ye().mark((function e(t,n,r,i,a){var o,u,s,c,l,f,d,h,p,v,m,y,g,k,b,w,x,E,I,_,S,T,C,N,A,O,D,R,P,L,j,M,F,V,U,B,q,z,K,W,G,H,Q,X,Y,J,$,Z;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,u=o.ref,s=o.refs,c=o.required,l=o.maxLength,f=o.minLength,d=o.min,h=o.max,p=o.pattern,v=o.validate,m=o.name,y=o.valueAsNumber,g=o.mount,k=o.disabled,b=_n(n,m),g&&!k){e.next=4;break}return e.abrupt("return",{});case 4:if(w=s?s[0]:u,x=function(e){i&&w.reportValidity&&(w.setCustomValidity(tr(e)?"":e||""),w.reportValidity())},E={},I=or(u),_=pn(u),S=I||_,T=(y||nr(u))&&In(u.value)&&In(b)||ir(u)&&""===u.value||""===b||Array.isArray(b)&&!b.length,C=Yn.bind(null,m,r,E),N=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ln,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:jn,a=e?t:n;E[m]=Xe({type:e?r:i,message:a,ref:u},C(e?r:i,a))},!(a?!Array.isArray(b)||!b.length:c&&(!S&&(T||mn(b))||tr(b)&&!b||_&&!lr(s).isValid||I&&!dr(s).isValid))){e.next=20;break}if(A=ar(c)?{value:!!c,message:c}:pr(c),O=A.value,D=A.message,!O){e.next=20;break}if(E[m]=Xe({type:Fn,message:D,ref:w},C(Fn,D)),r){e.next=20;break}return x(D),e.abrupt("return",E);case 20:if(T||mn(d)&&mn(h)){e.next=29;break}if(L=pr(h),j=pr(d),mn(b)||isNaN(b)?(F=u.valueAsDate||new Date(b),V=function(e){return new Date((new Date).toDateString()+" "+e)},U="time"==u.type,B="week"==u.type,Wn(L.value)&&b&&(R=U?V(b)>V(L.value):B?b>L.value:F>new Date(L.value)),Wn(j.value)&&b&&(P=U?V(b)<V(j.value):B?b<j.value:F<new Date(j.value))):(M=u.valueAsNumber||(b?+b:b),mn(L.value)||(R=M>L.value),mn(j.value)||(P=M<j.value)),!R&&!P){e.next=29;break}if(N(!!R,L.message,j.message,Rn,Pn),r){e.next=29;break}return x(E[m].message),e.abrupt("return",E);case 29:if(!l&&!f||T||!(Wn(b)||a&&Array.isArray(b))){e.next=39;break}if(q=pr(l),z=pr(f),K=!mn(q.value)&&b.length>q.value,W=!mn(z.value)&&b.length<z.value,!K&&!W){e.next=39;break}if(N(K,q.message,z.message),r){e.next=39;break}return x(E[m].message),e.abrupt("return",E);case 39:if(!p||T||!Wn(b)){e.next=46;break}if(G=pr(p),H=G.value,Q=G.message,!ur(H)||b.match(H)){e.next=46;break}if(E[m]=Xe({type:Mn,message:Q,ref:u},C(Mn,Q)),r){e.next=46;break}return x(Q),e.abrupt("return",E);case 46:if(!v){e.next=80;break}if(!rr(v)){e.next=59;break}return e.next=50,v(b,n);case 50:if(X=e.sent,!(Y=hr(X,w))){e.next=57;break}if(E[m]=Xe(Xe({},Y),C(Vn,Y.message)),r){e.next=57;break}return x(Y.message),e.abrupt("return",E);case 57:e.next=80;break;case 59:if(!gn(v)){e.next=80;break}J={},e.t0=Ye().keys(v);case 62:if((e.t1=e.t0()).done){e.next=76;break}if($=e.t1.value,Bn(J)||r){e.next=66;break}return e.abrupt("break",76);case 66:return e.t2=hr,e.next=69,v[$](b,n);case 69:e.t3=e.sent,e.t4=w,e.t5=$,(Z=(0,e.t2)(e.t3,e.t4,e.t5))&&(J=Xe(Xe({},Z),C($,Z.message)),x(Z.message),r&&(E[m]=J)),e.next=62;break;case 76:if(Bn(J)){e.next=80;break}if(E[m]=Xe({ref:w},J),r){e.next=80;break}return e.abrupt("return",E);case 80:return x(!0),e.abrupt("return",E);case 82:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();function mr(e,t){var n=Array.isArray(t)?t:Hn(t)?[t]:Qn(t),r=1===n.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=In(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(gn(r)&&Bn(r)||Array.isArray(r)&&function(e){for(var t in e)if(!In(e[t]))return!1;return!0}(r))&&mr(e,n.slice(0,-1)),e}function yr(){var e=[];return{get observers(){return e},next:function(t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.next&&i.next(t)}}catch(a){r.e(a)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var gr=function(e){return mn(e)||!yn(e)};function kr(e,t){if(gr(e)||gr(t))return e===t;if(vn(e)&&vn(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],u=e[o];if(!r.includes(o))return!1;if("ref"!==o){var s=t[o];if(vn(u)&&vn(s)||gn(u)&&gn(s)||Array.isArray(u)&&Array.isArray(s)?!kr(u,s):u!==s)return!1}}return!0}var br=function(e){return"select-multiple"===e.type},wr=function(e){return or(e)||pn(e)},xr=function(e){return ir(e)&&e.isConnected},Er=function(e){for(var t in e)if(rr(e[t]))return!0;return!1};function Ir(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(gn(e)||n)for(var r in e)Array.isArray(e[r])||gn(e[r])&&!Er(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Ir(e[r],t[r])):mn(e[r])||(t[r]=!0);return t}function _r(e,t,n){var r=Array.isArray(e);if(gn(e)||r)for(var i in e)Array.isArray(e[i])||gn(e[i])&&!Er(e[i])?In(t)||gr(n[i])?n[i]=Array.isArray(e[i])?Ir(e[i],[]):Xe({},Ir(e[i])):_r(e[i],mn(t)?{}:t[i],n[i]):n[i]=!kr(e[i],t[i]);return n}var Sr=function(e,t){return _r(e,t,Ir(t))},Tr=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return In(e)?e:n?""===e?NaN:e?+e:e:r&&Wn(e)?new Date(e):i?i(e):e};function Cr(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return nr(t)?t.files:or(t)?dr(e.refs).value:br(t)?d(t.selectedOptions).map((function(e){return e.value})):pn(t)?lr(e.refs).value:Tr(In(t.value)?e.ref.value:t.value,e)}var Nr=function(e,t,n,r){var i,a={},o=C(e);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=_n(t,u);s&&Xn(a,u,s._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:d(e),fields:a,shouldUseNativeValidation:r}},Ar=function(e){return In(e)?e:ur(e)?e.source:gn(e)?ur(e.value)?e.value.source:e.value:e},Or=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function Dr(e,t,n){var r=_n(e,n);if(r||Hn(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=_n(t,a),u=_n(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(u&&u.type)return{name:a,error:u};i.pop()}return{name:n}}var Rr=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},Pr=function(e,t){return!En(_n(e,t)).length&&mr(e,t)},Lr={mode:An,reValidateMode:Nn,shouldFocusError:!0};function jr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=Xe(Xe({},Lr),t),i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},o=(gn(r.defaultValues)||gn(r.values))&&xn(r.defaultValues||r.values)||{},u=r.shouldUnregister?{}:xn(o),s={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l=0,f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:yr(),array:yr(),state:yr()},p=t.resetOptions&&t.resetOptions.keepDirtyValues,v=$n(r.mode),m=$n(r.reValidateMode),y=r.criteriaMode===Dn,g=function(e){return function(t){clearTimeout(l),l=setTimeout(e,t)}},k=function(){var e=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.isValid&&!t){e.next=14;break}if(!r.resolver){e.next=9;break}return e.t1=Bn,e.next=5,S();case 5:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=12;break;case 9:return e.next=11,N(a,!0);case 11:e.t0=e.sent;case 12:(n=e.t0)!==i.isValid&&h.state.next({isValid:n});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){return f.isValidating&&h.state.next({isValidating:e})},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(r&&n){if(s.action=!0,l&&Array.isArray(_n(a,e))){var d=n(_n(a,e),r.argA,r.argB);c&&Xn(a,e,d)}if(l&&Array.isArray(_n(i.errors,e))){var p=n(_n(i.errors,e),r.argA,r.argB);c&&Xn(i.errors,e,p),Pr(i.errors,e)}if(f.touchedFields&&l&&Array.isArray(_n(i.touchedFields,e))){var v=n(_n(i.touchedFields,e),r.argA,r.argB);c&&Xn(i.touchedFields,e,v)}f.dirtyFields&&(i.dirtyFields=Sr(o,u)),h.state.next({name:e,isDirty:O(e,t),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else Xn(u,e,t)},x=function(e,t){Xn(i.errors,e,t),h.state.next({errors:i.errors})},E=function(e,t,n,r){var i=_n(a,e);if(i){var c=_n(u,e,In(n)?_n(o,e):n);In(c)||r&&r.defaultChecked||t?Xn(u,e,t?c:Cr(i._f)):P(e,c),s.mount&&k()}},I=function(e,t,n,r,a){var u=!1,s=!1,c={name:e};if(!n||r){f.isDirty&&(s=i.isDirty,i.isDirty=c.isDirty=O(),u=s!==c.isDirty);var l=kr(_n(o,e),t);s=_n(i.dirtyFields,e),l?mr(i.dirtyFields,e):Xn(i.dirtyFields,e,!0),c.dirtyFields=i.dirtyFields,u=u||f.dirtyFields&&s!==!l}if(n){var d=_n(i.touchedFields,e);d||(Xn(i.touchedFields,e,n),c.touchedFields=i.touchedFields,u=u||f.touchedFields&&d!==n)}return u&&a&&h.state.next(c),u?c:{}},_=function(n,r,a,o){var u=_n(i.errors,n),s=f.isValid&&tr(r)&&i.isValid!==r;if(t.delayError&&a?(e=g((function(){return x(n,a)})))(t.delayError):(clearTimeout(l),e=null,a?Xn(i.errors,n,a):mr(i.errors,n)),(a?!kr(u,a):u)||!Bn(o)||s){var c=Xe(Xe(Xe({},o),s&&tr(r)?{isValid:r}:{}),{},{errors:i.errors,name:n});i=Xe(Xe({},i),c),h.state.next(c)}b(!1)},S=function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.resolver(u,r.context,Nr(t||c.mount,a,r.criteriaMode,r.shouldUseNativeValidation)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=$e(Ye().mark((function e(t){var n,r,a,o,u,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:if(n=e.sent,r=n.errors,t){a=C(t);try{for(a.s();!(o=a.n()).done;)u=o.value,(s=_n(r,u))?Xn(i.errors,u,s):mr(i.errors,u)}catch(c){a.e(c)}finally{a.f()}}else i.errors=r;return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=$e(Ye().mark((function e(t,n){var a,o,s,l,f,d,h,p=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=p.length>2&&void 0!==p[2]?p[2]:{valid:!0},e.t0=Ye().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(o=e.t1.value,!(s=t[o])){e.next=21;break}if(l=s._f,f=et(s,hn),!l){e.next=17;break}return d=c.array.has(l.name),e.next=11,vr(s,u,y,r.shouldUseNativeValidation,d);case 11:if(!(h=e.sent)[l.name]){e.next=16;break}if(a.valid=!1,!n){e.next=16;break}return e.abrupt("break",23);case 16:!n&&(_n(h,l.name)?d?er(i.errors,h,l.name):Xn(i.errors,l.name,h[l.name]):mr(i.errors,l.name));case 17:if(e.t2=f,!e.t2){e.next=21;break}return e.next=21,N(f,n,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e,t=C(c.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=_n(a,n);r&&(r._f.refs?r._f.refs.every((function(e){return!xr(e)})):!xr(r._f.ref))&&K(n)}}catch(i){t.e(i)}finally{t.f()}c.unMount=new Set},O=function(e,t){return e&&t&&Xn(u,e,t),!kr(V(),o)},D=function(e,t,n){return Gn(e,c,Xe({},s.mount?u:In(t)?o:Wn(e)?He({},e,t):t),n,t)},R=function(e){return En(_n(s.mount?u:o,e,t.shouldUnregister?_n(o,e,[]):[]))},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=_n(a,e),i=t;if(r){var o=r._f;o&&(!o.disabled&&Xn(u,e,Tr(t,o)),i=ir(o.ref)&&mn(t)?"":t,br(o.ref)?d(o.ref.options).forEach((function(e){return e.selected=i.includes(e.value)})):o.refs?pn(o.ref)?o.refs.length>1?o.refs.forEach((function(e){return(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((function(t){return t===e.value})):i===e.value)})):o.refs[0]&&(o.refs[0].checked=!!i):o.refs.forEach((function(e){return e.checked=e.value===i})):nr(o.ref)?o.ref.value="":(o.ref.value=i,o.ref.type||h.values.next({name:e,values:Xe({},u)})))}(n.shouldDirty||n.shouldTouch)&&I(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&F(e)},L=function e(t,n,r){for(var i in n){var o=n[i],u="".concat(t,".").concat(i),s=_n(a,u);!c.array.has(t)&&gr(o)&&(!s||s._f)||vn(o)?P(u,o,r):e(u,o,r)}},j=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=_n(a,e),d=c.array.has(e),p=xn(t);Xn(u,e,p),d?(h.array.next({name:e,values:Xe({},u)}),(f.isDirty||f.dirtyFields)&&r.shouldDirty&&h.state.next({name:e,dirtyFields:Sr(o,u),isDirty:O(e,p)})):!l||l._f||mn(p)?P(e,p,r):L(e,p,r),Zn(e,c)&&h.state.next(Xe({},i)),h.values.next({name:e,values:Xe({},u)}),!s.mount&&n()},M=function(){var t=$e(Ye().mark((function t(n){var o,s,l,d,p,g,w,x,E,T,C,A,O,D,R,P;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.target,s=o.name,l=_n(a,s),d=function(){return o.type?Cr(l._f):kn(n)},!l){t.next=45;break}if(w=d(),x=n.type===Sn||n.type===Tn,E=!Or(l._f)&&!r.resolver&&!_n(i.errors,s)&&!l._f.deps||Rr(x,_n(i.touchedFields,s),i.isSubmitted,m,v),T=Zn(s,c,x),Xn(u,s,w),x?(l._f.onBlur&&l._f.onBlur(n),e&&e(0)):l._f.onChange&&l._f.onChange(n),C=I(s,w,x,!1),A=!Bn(C)||T,!x&&h.values.next({name:s,type:n.type,values:Xe({},u)}),!E){t.next=17;break}return f.isValid&&k(),t.abrupt("return",A&&h.state.next(Xe({name:s},T?{}:C)));case 17:if(!x&&T&&h.state.next(Xe({},i)),b(!0),!r.resolver){t.next=31;break}return t.next=22,S([s]);case 22:O=t.sent,D=O.errors,R=Dr(i.errors,a,s),P=Dr(D,a,R.name||s),p=P.error,s=P.name,g=Bn(D),t.next=43;break;case 31:return t.next=33,vr(l,u,y,r.shouldUseNativeValidation);case 33:if(t.t0=s,!(p=t.sent[t.t0])){t.next=39;break}g=!1,t.next=43;break;case 39:if(!f.isValid){t.next=43;break}return t.next=42,N(a,!0);case 42:g=t.sent;case 43:l._f.deps&&F(l._f.deps),_(s,g,p,C);case 45:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(){var e=$e(Ye().mark((function e(t){var n,o,u,s,l,d=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:{},s=zn(t),b(!0),!r.resolver){e.next=11;break}return e.next=6,T(In(t)?t:s);case 6:l=e.sent,o=Bn(l),u=t?!s.some((function(e){return _n(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(s.map(function(){var e=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_n(a,t),e.next=3,N(n&&n._f?He({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((u=e.sent.every(Boolean))||i.isValid)&&k(),e.next=21;break;case 18:return e.next=20,N(a);case 20:u=o=e.sent;case 21:return h.state.next(Xe(Xe(Xe({},!Wn(t)||f.isValid&&o!==i.isValid?{}:{name:t}),r.resolver||!t?{isValid:o}:{}),{},{errors:i.errors,isValidating:!1})),n.shouldFocus&&!u&&Jn(a,(function(e){return e&&_n(i.errors,e)}),t?s:c.mount),e.abrupt("return",u);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(e){var t=Xe(Xe({},o),s.mount?u:{});return In(e)?t:Wn(e)?_n(t,e):e.map((function(e){return _n(t,e)}))},U=function(e,t){return{invalid:!!_n((t||i).errors,e),isDirty:!!_n((t||i).dirtyFields,e),isTouched:!!_n((t||i).touchedFields,e),error:_n((t||i).errors,e)}},B=function(e){e&&zn(e).forEach((function(e){return mr(i.errors,e)})),h.state.next({errors:e?i.errors:{}})},q=function(e,t,n){var r=(_n(a,e,{_f:{}})._f||{}).ref;Xn(i.errors,e,Xe(Xe({},t),{},{ref:r})),h.state.next({name:e,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()},z=function(e,t){return rr(e)?h.values.subscribe({next:function(n){return e(D(void 0,t),n)}}):D(e,t,!0)},K=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=C(e?zn(e):c.mount);try{for(s.s();!(t=s.n()).done;){var l=t.value;c.mount.delete(l),c.array.delete(l),_n(a,l)&&(n.keepValue||(mr(a,l),mr(u,l)),!n.keepError&&mr(i.errors,l),!n.keepDirty&&mr(i.dirtyFields,l),!n.keepTouched&&mr(i.touchedFields,l),!r.shouldUnregister&&!n.keepDefaultValue&&mr(o,l))}}catch(f){s.e(f)}finally{s.f()}h.values.next({values:Xe({},u)}),h.state.next(Xe(Xe({},i),n.keepDirty?{isDirty:O()}:{})),!n.keepIsValid&&k()},W=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=_n(a,t),l=tr(n.disabled);return Xn(a,t,Xe(Xe({},i||{}),{},{_f:Xe(Xe({},i&&i._f?i._f:{ref:{name:t}}),{},{name:t,mount:!0},n)})),c.mount.add(t),i?l&&Xn(u,t,n.disabled?void 0:_n(u,t,Cr(i._f))):E(t,!0,n.value),Xe(Xe(Xe({},l?{disabled:n.disabled}:{}),r.shouldUseNativeValidation?{required:!!n.required,min:Ar(n.min),max:Ar(n.max),minLength:Ar(n.minLength),maxLength:Ar(n.maxLength),pattern:Ar(n.pattern)}:{}),{},{name:t,onChange:M,onBlur:M,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(u){if(u){e(t,n),i=_n(a,t);var l=In(u.value)&&u.querySelectorAll&&u.querySelectorAll("input,select,textarea")[0]||u,f=wr(l),h=i._f.refs||[];if(f?h.find((function(e){return e===l})):l===i._f.ref)return;Xn(a,t,{_f:Xe(Xe({},i._f),f?{refs:[].concat(d(h.filter(xr)),[l],d(Array.isArray(_n(o,t))?[{}]:[])),ref:{type:l.type,name:t}}:{ref:l})}),E(t,!1,void 0,l)}else(i=_n(a,t,{}))._f&&(i._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&(!bn(c.array,t)||!s.action)&&c.unMount.add(t)}))})},G=function(){return r.shouldFocusError&&Jn(a,(function(e){return e&&_n(i.errors,e)}),c.mount)},H=function(e,t){return function(){var n=$e(Ye().mark((function n(o){var s,c,l,f;return Ye().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist()),s=xn(u),h.state.next({isSubmitting:!0}),!r.resolver){n.next=13;break}return n.next=6,S();case 6:c=n.sent,l=c.errors,f=c.values,i.errors=l,s=f,n.next=15;break;case 13:return n.next=15,N(a);case 15:if(mr(i.errors,"root"),!Bn(i.errors)){n.next=22;break}return h.state.next({errors:{}}),n.next=20,e(s,o);case 20:n.next=27;break;case 22:if(!t){n.next=25;break}return n.next=25,t(Xe({},i.errors),o);case 25:G(),setTimeout(G);case 27:h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Bn(i.errors),submitCount:i.submitCount+1,errors:i.errors});case 28:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_n(a,e)&&(In(t.defaultValue)?j(e,_n(o,e)):(j(e,t.defaultValue),Xn(o,e,t.defaultValue)),t.keepTouched||mr(i.touchedFields,e),t.keepDirty||(mr(i.dirtyFields,e),i.isDirty=t.defaultValue?O(e,_n(o,e)):O()),t.keepError||(mr(i.errors,e),f.isValid&&k()),h.state.next(Xe({},i)))},X=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=e||o,d=xn(l),v=e&&!Bn(e)?d:o;if(r.keepDefaultValues||(o=l),!r.keepValues){if(r.keepDirtyValues||p){var m,y=C(c.mount);try{for(y.s();!(m=y.n()).done;){var g=m.value;_n(i.dirtyFields,g)?Xn(v,g,_n(u,g)):j(g,_n(v,g))}}catch(_){y.e(_)}finally{y.f()}}else{if(wn&&In(e)){var k,b=C(c.mount);try{for(b.s();!(k=b.n()).done;){var w=k.value,x=_n(a,w);if(x&&x._f){var E=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(ir(E)){var I=E.closest("form");if(I){I.reset();break}}}}}catch(_){b.e(_)}finally{b.f()}}a={}}u=t.shouldUnregister?r.keepDefaultValues?xn(o):{}:d,h.array.next({values:Xe({},v)}),h.values.next({values:Xe({},v)})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!s.mount&&n(),s.mount=!f.isValid||!!r.keepIsValid,s.watch=!!t.shouldUnregister,h.state.next({submitCount:r.keepSubmitCount?i.submitCount:0,isDirty:r.keepDirty?i.isDirty:!(!r.keepDefaultValues||kr(e,o)),isSubmitted:!!r.keepIsSubmitted&&i.isSubmitted,dirtyFields:r.keepDirtyValues?i.dirtyFields:r.keepDefaultValues&&e?Sr(o,e):{},touchedFields:r.keepTouched?i.touchedFields:{},errors:r.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Y=function(e,t){return X(rr(e)?e(u):e,t)},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=_n(a,e),r=n&&n._f;if(r){var i=r.refs?r.refs[0]:r.ref;i.focus&&(i.focus(),t.shouldSelect&&i.select())}},$=function(e){i=Xe(Xe({},i),e)};return rr(r.defaultValues)&&r.defaultValues().then((function(e){Y(e,r.resetOptions),h.state.next({isLoading:!1})})),{control:{register:W,unregister:K,getFieldState:U,_executeSchema:S,_getWatch:D,_getDirty:O,_updateValid:k,_removeUnmounted:A,_updateFieldArray:w,_getFieldArray:R,_reset:X,_updateFormState:$,_subjects:h,_proxyFormState:f,get _fields(){return a},get _formValues(){return u},get _state(){return s},set _state(e){s=e},get _defaultValues(){return o},get _names(){return c},set _names(e){c=e},get _formState(){return i},set _formState(e){i=e},get _options(){return r},set _options(e){r=Xe(Xe({},r),e)}},trigger:F,register:W,handleSubmit:H,watch:z,setValue:j,getValues:V,reset:Y,resetField:Q,clearErrors:B,unregister:K,setError:q,setFocus:J,getFieldState:U}}function Mr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.useRef(),n=r.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:rr(e.defaultValues)?void 0:e.defaultValues}),i=l(n,2),a=i[0],o=i[1];t.current||(t.current=Xe(Xe({},jr(e,(function(){return o((function(e){return Xe({},e)}))}))),{},{formState:a}));var u=t.current.control;return u._options=e,Kn({subject:u._subjects.state,next:function(e){qn(e,u._proxyFormState,u._updateFormState,!0)&&o(Xe({},u._formState))}}),r.useEffect((function(){e.values&&!kr(e.values,u._defaultValues)&&u._reset(e.values,u._options.resetOptions)}),[e.values,u]),r.useEffect((function(){u._state.mount||(u._updateValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next(Xe({},u._formState))),u._removeUnmounted()})),t.current.formState=Un(a,u),t.current}var Fr=function(e){var t=e.label,n=e.type,r=void 0===n?"text":n,i=e.name,a=e.placeholder,o=void 0===a?"":a,u=e.register,s=e.autoComplete;return(0,at.jsx)(at.Fragment,{children:(0,at.jsxs)(ln.Group,{className:"mb-3",controlId:i,children:[(0,at.jsx)(ln.Label,{children:t}),(0,at.jsx)(ln.Control,Xe({type:r,autoComplete:s,placeholder:o},u))]})})},Vr=["bsPrefix","fluid","as","className"],Ur=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,u=et(e,Vr),s=ht(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,at.jsx)(a,Xe(Xe({ref:t},u),{},{className:nt()(o,r?"".concat(s).concat(c):s)}))}));Ur.displayName="Container",Ur.defaultProps={fluid:!1};var Br=Ur,qr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},zr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new Kr;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Kr=function(e){k(n,e);var t=I(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return y(n)}(S(Error)),Wr=function(e){return function(e){var t=qr(e);return zr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Gr=function(e){try{return zr.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Hr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Hr(e[n],t[n]));return e}var Qr=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Xr=function(){try{return Qr()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/ivanlamo01/El-bebedero-firebase",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Gr(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Yr=function(e){var t=function(e){var t,n;return null===(n=null===(t=Xr())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},Jr=function(){var e;return null===(e=Xr())||void 0===e?void 0:e.config},$r=function(){function e(){var t=this;h(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return y(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Zr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Wr(JSON.stringify({alg:"none",type:"JWT"})),Wr(JSON.stringify(a)),""].join(".")}function ei(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ti(){var e,t=null===(e=Xr())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function ni(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ri(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ii(){var e=ei();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ai(){try{return"object"===typeof indexedDB}catch(e){return!1}}var oi=function(e){k(n,e);var t=I(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),ui.prototype.create),a}return y(n)}(S(Error)),ui=function(){function e(t,n,r){h(this,e),this.service=t,this.serviceName=n,this.errors=r}return y(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?si(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new oi(n,a,t);return o}}]),e}();function si(e,t){return e.replace(ci,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var ci=/\{\$([^}]+)}/g;function li(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function fi(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(di(u)&&di(s)){if(!fi(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function di(e){return null!==e&&"object"===typeof e}function hi(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function pi(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function vi(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function mi(e,t){var n=new yi(e,t);return n.subscribe.bind(n)}var yi=function(){function e(t,n){var r=this;h(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return y(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=C(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=gi),void 0===r.error&&(r.error=gi),void 0===r.complete&&(r.complete=gi);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function gi(){}function ki(e){return e&&e._delegate?e._delegate:e}var bi=function(){function e(t,n,r){h(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return y(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),wi="[DEFAULT]",xi=function(){function e(t,n){h(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return y(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new $r;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:wi})}catch(s){}var t,n=C(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=$e(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(d(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),d(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wi;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wi;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=C(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=l(i.value,2),s=u[0],c=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&c.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(bT){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===wi?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(bT){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wi;return this.component?this.component.multipleInstances?e:wi:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ei,Ii,_i=function(){function e(t){h(this,e),this.name=t,this.providers=new Map}return y(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new xi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Si=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ii||(Ii={}));var Ti={debug:Ii.DEBUG,verbose:Ii.VERBOSE,info:Ii.INFO,warn:Ii.WARN,error:Ii.ERROR,silent:Ii.SILENT},Ci=Ii.INFO,Ni=(He(Ei={},Ii.DEBUG,"log"),He(Ei,Ii.VERBOSE,"log"),He(Ei,Ii.INFO,"info"),He(Ei,Ii.WARN,"warn"),He(Ei,Ii.ERROR,"error"),Ei),Ai=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ni[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Oi=function(){function e(t){h(this,e),this.name=t,this._logLevel=Ci,this._logHandler=Ai,this._userLogHandler=null,Si.push(this)}return y(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ii))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ti[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ii.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ii.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ii.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ii.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ii.INFO].concat(t)),this._logHandler.apply(this,[this,Ii.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ii.WARN].concat(t)),this._logHandler.apply(this,[this,Ii.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ii.ERROR].concat(t)),this._logHandler.apply(this,[this,Ii.ERROR].concat(t))}}]),e}();var Di,Ri;var Pi=new WeakMap,Li=new WeakMap,ji=new WeakMap,Mi=new WeakMap,Fi=new WeakMap;var Vi={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Li.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ji.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ui(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ri||(Ri=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(zi(this),n),qi(Pi.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qi(e.apply(zi(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[zi(this),t].concat(r));return ji.set(a,t.sort?t.sort():[t]),qi(a)}}function Bi(e){return"function"===typeof e?Ui(e):(e instanceof IDBTransaction&&function(e){if(!Li.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Li.set(e,t)}}(e),t=e,(Di||(Di=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Vi):e);var t}function qi(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(qi(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Pi.set(t,e)})).catch((function(){})),Fi.set(t,e),t}(e);if(Mi.has(e))return Mi.get(e);var t=Bi(e);return t!==e&&(Mi.set(e,t),Fi.set(t,e)),t}var zi=function(e){return Fi.get(e)};var Ki,Wi,Gi=["get","getKey","getAll","getAllKeys","count"],Hi=["put","add","delete","clear"],Qi=new Map;function Xi(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Qi.get(t))return Qi.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Hi.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Gi.includes(n))){var a=function(){var e=$e(Ye().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Qi.set(t,a),a}}}Vi=function(e){return Xe(Xe({},e),{},{get:function(t,n,r){return Xi(t,n)||e.get(t,n,r)},has:function(t,n){return!!Xi(t,n)||e.has(t,n)}})}(Vi);var Yi=function(){function e(t){h(this,e),this.container=t}return y(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ji="@firebase/app",$i="0.9.4",Zi=new Oi("@firebase/app"),ea="[DEFAULT]",ta=(He(Ki={},Ji,"fire-core"),He(Ki,"@firebase/app-compat","fire-core-compat"),He(Ki,"@firebase/analytics","fire-analytics"),He(Ki,"@firebase/analytics-compat","fire-analytics-compat"),He(Ki,"@firebase/app-check","fire-app-check"),He(Ki,"@firebase/app-check-compat","fire-app-check-compat"),He(Ki,"@firebase/auth","fire-auth"),He(Ki,"@firebase/auth-compat","fire-auth-compat"),He(Ki,"@firebase/database","fire-rtdb"),He(Ki,"@firebase/database-compat","fire-rtdb-compat"),He(Ki,"@firebase/functions","fire-fn"),He(Ki,"@firebase/functions-compat","fire-fn-compat"),He(Ki,"@firebase/installations","fire-iid"),He(Ki,"@firebase/installations-compat","fire-iid-compat"),He(Ki,"@firebase/messaging","fire-fcm"),He(Ki,"@firebase/messaging-compat","fire-fcm-compat"),He(Ki,"@firebase/performance","fire-perf"),He(Ki,"@firebase/performance-compat","fire-perf-compat"),He(Ki,"@firebase/remote-config","fire-rc"),He(Ki,"@firebase/remote-config-compat","fire-rc-compat"),He(Ki,"@firebase/storage","fire-gcs"),He(Ki,"@firebase/storage-compat","fire-gcs-compat"),He(Ki,"@firebase/firestore","fire-fst"),He(Ki,"@firebase/firestore-compat","fire-fst-compat"),He(Ki,"fire-js","fire-js"),He(Ki,"firebase","fire-js-all"),Ki),na=new Map,ra=new Map;function ia(e,t){try{e.container.addComponent(t)}catch(n){Zi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function aa(e,t){e.container.addOrOverwriteComponent(t)}function oa(e){var t=e.name;if(ra.has(t))return Zi.debug("There were multiple attempts to register component ".concat(t,".")),!1;ra.set(t,e);var n,r=C(na.values());try{for(r.s();!(n=r.n()).done;){ia(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ua(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function sa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ea;ua(e,t).clearInstance(n)}function ca(){ra.clear()}var la=(He(Wi={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),He(Wi,"bad-app-name","Illegal App name: '{$appName}"),He(Wi,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),He(Wi,"app-deleted","Firebase App named '{$appName}' already deleted"),He(Wi,"no-options","Need to provide options, when not being deployed to hosting via source."),He(Wi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),He(Wi,"invalid-log-argument","First argument to `onLog` must be null or a function."),He(Wi,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),He(Wi,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),He(Wi,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),He(Wi,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Wi),fa=new ui("app","Firebase",la),da=function(){function e(t,n,r){var i=this;h(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bi("app",(function(){return i}),"PUBLIC"))}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}]),e}(),ha="9.17.2";function pa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:ea,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw fa.create("bad-app-name",{appName:String(a)});if(n||(n=Jr()),!n)throw fa.create("no-options");var o=na.get(a);if(o){if(fi(n,o.options)&&fi(i,o.config))return o;throw fa.create("duplicate-app",{appName:a})}var u,s=new _i(a),c=C(ra.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(d){c.e(d)}finally{c.f()}var f=new da(n,i,s);return na.set(a,f),f}function va(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=na.get(e);if(!t&&e===ea)return pa();if(!t)throw fa.create("no-app",{appName:e});return t}function ma(){return Array.from(na.values())}function ya(e){return ga.apply(this,arguments)}function ga(){return(ga=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!na.has(n)){e.next=6;break}return na.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ka(e,t,n){var r,i=null!==(r=ta[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Zi.warn(u.join(" "))}oa(new bi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ba(e,t){if(null!==e&&"function"!==typeof e)throw fa.create("invalid-log-argument");!function(e,t){var n,r=C(Si);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ti[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ii[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function wa(e){var t;t=e,Si.forEach((function(e){e.setLogLevel(t)}))}var xa="firebase-heartbeat-store",Ea=null;function Ia(){return Ea||(Ea=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=qi(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(qi(u.result),e.oldVersion,e.newVersion,qi(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(xa)}}).catch((function(e){throw fa.create("idb-open",{originalErrorMessage:e.message})}))),Ea}function _a(e){return Sa.apply(this,arguments)}function Sa(){return Sa=$e(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ia();case 3:return n=e.sent,e.abrupt("return",n.transaction(xa).objectStore(xa).get(Na(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof oi?Zi.warn(e.t0.message):(r=fa.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Zi.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Sa.apply(this,arguments)}function Ta(e,t){return Ca.apply(this,arguments)}function Ca(){return Ca=$e(Ye().mark((function e(t,n){var r,i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ia();case 3:return r=e.sent,i=r.transaction(xa,"readwrite"),a=i.objectStore(xa),e.next=8,a.put(n,Na(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof oi?Zi.warn(e.t0.message):(o=fa.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Zi.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ca.apply(this,arguments)}function Na(e){return"".concat(e.name,"!").concat(e.options.appId)}var Aa=function(){function e(t){var n=this;h(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new La(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return y(e,[{key:"triggerHeartbeat",value:function(){var e=$e(Ye().mark((function e(){var t,n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Oa(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=$e(Ye().mark((function e(){var t,n,r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Oa(),n=Da(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Wr(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Oa(){return(new Date).toISOString().substring(0,10)}function Da(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=C(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ja(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ja(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ra,Pa,La=function(){function e(t){h(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return y(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ai()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=$e(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,_a(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=$e(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ta(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=$e(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ta(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(d(r.heartbeats),d(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ja(e){return Wr(JSON.stringify({version:2,heartbeats:e})).length}Ra="",oa(new bi("platform-logger",(function(e){return new Yi(e)}),"PRIVATE")),oa(new bi("heartbeat",(function(e){return new Aa(e)}),"PRIVATE")),ka(Ji,$i,Ra),ka(Ji,$i,"esm2017"),ka("fire-js","");var Ma=function(){function e(t,n){var r=this;h(this,e),this._delegate=t,this.firebase=n,ia(t,new bi("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return y(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),ya(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ea;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ea;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ia(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){aa(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Fa=(He(Pa={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),He(Pa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Pa),Va=new ui("app-compat","Firebase",Fa);var Ua=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=pa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(li(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ka,setLogLevel:wa,onLog:ba,apps:null,SDK_VERSION:ha,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(oa(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Va.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Hr(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!li(n,e=e||ea))throw Va.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ma);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Hr(n,e)},createSubscribe:mi,ErrorFactory:ui,deepExtend:Hr}),n}(),Ba=new Oi("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ba.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var qa=self.firebase.SDK_VERSION;qa&&qa.indexOf("LITE")>=0&&Ba.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var za=Ua;!function(e){ka("@firebase/app-compat","0.2.4",e)}();function Ka(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}function Wa(){return Wa="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ka(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Wa.apply(this,arguments)}za.registerVersion("firebase","9.17.2","app-compat");function Ga(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ha;Object.create;var Qa="facebook.com",Xa="github.com",Ya="google.com",Ja="password",$a="twitter.com",Za="EMAIL_SIGNIN",eo="PASSWORD_RESET",to="RECOVER_EMAIL",no="REVERT_SECOND_FACTOR_ADDITION",ro="VERIFY_AND_CHANGE_EMAIL",io="VERIFY_EMAIL";function ao(){return He({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var oo=function(){var e;return He(e={},"admin-restricted-operation","This operation is restricted to administrators only."),He(e,"argument-error",""),He(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),He(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),He(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),He(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),He(e,"cordova-not-ready","Cordova framework is not ready."),He(e,"cors-unsupported","This browser is not supported."),He(e,"credential-already-in-use","This credential is already associated with a different user account."),He(e,"custom-token-mismatch","The custom token corresponds to a different audience."),He(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),He(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),He(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),He(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),He(e,"email-already-in-use","The email address is already in use by another account."),He(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),He(e,"expired-action-code","The action code has expired."),He(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),He(e,"internal-error","An internal AuthError has occurred."),He(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),He(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),He(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),He(e,"invalid-auth-event","An internal AuthError has occurred."),He(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),He(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),He(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),He(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),He(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),He(e,"invalid-email","The email address is badly formatted."),He(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),He(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),He(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),He(e,"invalid-credential","The supplied auth credential is malformed or has expired."),He(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),He(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),He(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),He(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),He(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),He(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),He(e,"wrong-password","The password is invalid or the user does not have a password."),He(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),He(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),He(e,"invalid-provider-id","The specified provider ID is invalid."),He(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),He(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),He(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),He(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),He(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),He(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),He(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),He(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),He(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),He(e,"missing-continue-uri","A continue URL must be provided in the request."),He(e,"missing-iframe-start","An internal AuthError has occurred."),He(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),He(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),He(e,"missing-multi-factor-info","No second factor identifier is provided."),He(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),He(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),He(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),He(e,"app-deleted","This instance of FirebaseApp has been deleted."),He(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),He(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),He(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),He(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),He(e,"no-auth-event","An internal AuthError has occurred."),He(e,"no-such-provider","User was not linked to an account with the given provider."),He(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),He(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),He(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),He(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),He(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),He(e,"provider-already-linked","User can only be linked to one identity for the given provider."),He(e,"quota-exceeded","The project's quota for this operation has been exceeded."),He(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),He(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),He(e,"rejected-credential","The request contains malformed or mismatching credentials."),He(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),He(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),He(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),He(e,"timeout","The operation has timed out."),He(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),He(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),He(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),He(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),He(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),He(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),He(e,"unverified-email","The operation requires a verified email."),He(e,"user-cancelled","The user did not grant your application the permissions it requested."),He(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),He(e,"user-disabled","The user account has been disabled by an administrator."),He(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),He(e,"user-signed-out",""),He(e,"weak-password","The password must be 6 characters long or more."),He(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),He(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},uo=ao,so=new ui("auth","Firebase",ao()),co=new Oi("@firebase/auth");function lo(e){if(co.logLevel<=Ii.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];co.error.apply(co,["Auth (".concat(ha,"): ").concat(e)].concat(n))}}function fo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw mo.apply(void 0,[e].concat(n))}function ho(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return mo.apply(void 0,[e].concat(n))}function po(e,t,n){var r=Object.assign(Object.assign({},uo()),He({},t,n));return new ui("auth","Firebase",r).create(t,{appName:e.name})}function vo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&fo(e,"argument-error"),po(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function mo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=d(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(d(o)))}return so.create.apply(so,[e].concat(n))}function yo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw mo.apply(void 0,[t].concat(r))}}function go(e){var t="INTERNAL ASSERTION FAILED: "+e;throw lo(t),new Error(t)}function ko(e,t){e||go(t)}var bo=new Map;function wo(e){ko(e instanceof Function,"Expected a class definition");var t=bo.get(e);return t?(ko(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,bo.set(e,t),t)}function xo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Eo(){return"http:"===Io()||"https:"===Io()}function Io(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var _o=function(){function e(t,n){h(this,e),this.shortDelay=t,this.longDelay=n,ko(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ei())||ri()}return y(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Eo()||ni()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function So(e,t){ko(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var To=function(){function e(){h(this,e)}return y(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void go("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void go("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void go("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Co=(He(Ha={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),He(Ha,"MISSING_CUSTOM_TOKEN","internal-error"),He(Ha,"INVALID_IDENTIFIER","invalid-email"),He(Ha,"MISSING_CONTINUE_URI","internal-error"),He(Ha,"INVALID_PASSWORD","wrong-password"),He(Ha,"MISSING_PASSWORD","internal-error"),He(Ha,"EMAIL_EXISTS","email-already-in-use"),He(Ha,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),He(Ha,"INVALID_IDP_RESPONSE","invalid-credential"),He(Ha,"INVALID_PENDING_TOKEN","invalid-credential"),He(Ha,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),He(Ha,"MISSING_REQ_TYPE","internal-error"),He(Ha,"EMAIL_NOT_FOUND","user-not-found"),He(Ha,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),He(Ha,"EXPIRED_OOB_CODE","expired-action-code"),He(Ha,"INVALID_OOB_CODE","invalid-action-code"),He(Ha,"MISSING_OOB_CODE","internal-error"),He(Ha,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),He(Ha,"INVALID_ID_TOKEN","invalid-user-token"),He(Ha,"TOKEN_EXPIRED","user-token-expired"),He(Ha,"USER_NOT_FOUND","user-token-expired"),He(Ha,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),He(Ha,"INVALID_CODE","invalid-verification-code"),He(Ha,"INVALID_SESSION_INFO","invalid-verification-id"),He(Ha,"INVALID_TEMPORARY_PROOF","invalid-credential"),He(Ha,"MISSING_SESSION_INFO","missing-verification-id"),He(Ha,"SESSION_EXPIRED","code-expired"),He(Ha,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),He(Ha,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),He(Ha,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),He(Ha,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),He(Ha,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),He(Ha,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),He(Ha,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),He(Ha,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),He(Ha,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),He(Ha,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),He(Ha,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ha),No=new _o(3e4,6e4);function Ao(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Oo(e,t,n,r){return Do.apply(this,arguments)}function Do(){return Do=$e(Ye().mark((function e(t,n,r,i){var a,o=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ro(t,a,$e(Ye().mark((function e(){var a,o,u,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=hi(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",To.fetch()(Mo(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function Ro(e,t,n){return Po.apply(this,arguments)}function Po(){return Po=$e(Ye().mark((function e(t,n,r){var i,a,o,u,s,c,f,d,h,p;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Co),n),e.prev=2,a=new Fo(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Vo(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),f=l(c,2),d=f[0],h=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw Vo(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw Vo(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw Vo(t,"user-disabled",u);case 29:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw po(t,p,h);case 34:fo(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof oi)){e.next=41;break}throw e.t0;case 41:fo(t,"internal-error",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Po.apply(this,arguments)}function Lo(e,t,n,r){return jo.apply(this,arguments)}function jo(){return jo=$e(Ye().mark((function e(t,n,r,i){var a,o,u=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Oo(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&fo(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),jo.apply(this,arguments)}function Mo(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?So(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Fo=function(){function e(t){var n=this;h(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ho(n.auth,"network-request-failed"))}),No.get())}))}return y(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Vo(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ho(e,t,r);return i.customData._tokenResponse=n,i}function Uo(e,t){return Bo.apply(this,arguments)}function Bo(){return(Bo=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qo(e,t){return zo.apply(this,arguments)}function zo(){return(zo=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ko(e,t){return Wo.apply(this,arguments)}function Wo(){return(Wo=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Go(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ho(){return Ho=$e(Ye().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=ki(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,yo((a=Xo(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Go(Qo(a.auth_time)),issuedAtTime:Go(Qo(a.iat)),expirationTime:Go(Qo(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ho.apply(this,arguments)}function Qo(e){return 1e3*Number(e)}function Xo(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return lo("JWT malformed, contained fewer than 3 sections"),null;try{var a=Gr(r);return a?JSON.parse(a):(lo("Failed to decode base64 JWT payload"),null)}catch(o){return lo("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Yo(e,t){return Jo.apply(this,arguments)}function Jo(){return Jo=$e(Ye().mark((function e(t,n){var r=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof oi&&$o(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Jo.apply(this,arguments)}function $o(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Zo=function(){function e(t){h(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return y(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout($e(Ye().mark((function t(){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),eu=function(){function e(t,n){h(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return y(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Go(this.lastLoginAt),this.creationTime=Go(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function tu(e){return nu.apply(this,arguments)}function nu(){return nu=$e(Ye().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Yo(t,Ko(r,{idToken:i}));case 6:yo(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?au(o.providerUserInfo):[],s=iu(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new eu(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),nu.apply(this,arguments)}function ru(){return(ru=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ki(t),e.next=3,tu(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iu(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(d(n),d(t))}function au(e){return e.map((function(e){var t=e.providerId,n=Ga(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function ou(e,t){return uu.apply(this,arguments)}function uu(){return(uu=$e(Ye().mark((function e(t,n){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ro(t,{},$e(Ye().mark((function e(){var r,i,a,o,u,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hi({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Mo(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",To.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var su=function(){function e(){h(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return y(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){yo(e.idToken,"internal-error"),yo("undefined"!==typeof e.idToken,"internal-error"),yo("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Xo(e);return yo(t,"internal-error"),yo("undefined"!==typeof t.exp,"internal-error"),yo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=$e(Ye().mark((function e(t){var n,r=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],yo(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=$e(Ye().mark((function e(t,n){var r,i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return go("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(yo("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(yo("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(yo("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function cu(e,t){yo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var lu=function(){function e(t){h(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ga(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?d(a.providerData):[],this.metadata=new eu(a.createdAt||void 0,a.lastLoginAt||void 0)}return y(e,[{key:"getIdToken",value:function(){var e=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yo(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(yo(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ho.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ru.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(yo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){yo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=$e(Ye().mark((function e(t){var n,r,i=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,tu(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=$e(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Yo(this,Uo(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;yo(k&&E,t,"internal-error");var I=su.fromJSON(this.name,E);yo("string"===typeof k,t,"internal-error"),cu(f,t.name),cu(d,t.name),yo("boolean"===typeof b,t,"internal-error"),yo("boolean"===typeof w,t,"internal-error"),cu(h,t.name),cu(p,t.name),cu(v,t.name),cu(m,t.name),cu(y,t.name),cu(g,t.name);var _=new e({uid:k,auth:t,email:d,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(_.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=$e(Ye().mark((function t(n,r){var i,a,o,u=arguments;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new su).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,tu(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),fu=function(){function e(){h(this,e),this.type="NONE",this.storage={}}return y(e,[{key:"_isAvailable",value:function(){var e=$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();fu.type="NONE";var du=fu;function hu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var pu=function(){function e(t,n,r){h(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=hu(this.userKey,a.apiKey,o),this.fullPersistenceKey=hu("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return y(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=$e(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?lu._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=$e(Ye().mark((function t(n,r){var i,a,o,u,s,c,l,f,d,h,p,v=arguments;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(wo(du),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||wo(du),u=hu(i,n.config.apiKey,n.name),s=null,c=C(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return h=lu._fromJSON(n,d),f!==o&&(s=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function vu(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ku(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wu(t))return"Blackberry";if(xu(t))return"Webos";if(yu(t))return"Safari";if((t.includes("chrome/")||gu(t))&&!t.includes("edge/"))return"Chrome";if(bu(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function mu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei();return/firefox\//i.test(e)}function yu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei();return/crios\//i.test(e)}function ku(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei();return/iemobile/i.test(e)}function bu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei();return/android/i.test(e)}function wu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei();return/blackberry/i.test(e)}function xu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei();return/webos/i.test(e)}function Eu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Iu(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei();return Eu(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function _u(){return ii()&&10===document.documentMode}function Su(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei();return Eu(e)||bu(e)||xu(e)||wu(e)||/windows phone/i.test(e)||ku(e)}function Tu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=vu(ei());break;case"Worker":t="".concat(vu(ei()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ha,"/").concat(r)}var Cu=function(){function e(t){h(this,e),this.auth=t,this.queue=[]}return y(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=$e(Ye().mark((function e(t){var n,r,i,a,o,u,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=C(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=C(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Nu=function(){function e(t,n,r){h(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ou(this),this.idTokenSubscription=new Ou(this),this.beforeStateQueue=new Cu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=so,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return y(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=wo(t)),this._initializationPromise=this.queue($e(Ye().mark((function r(){var i,a;return Ye().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,pu.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=$e(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=$e(Ye().mark((function e(t){var n,r,i,a,o,u,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return yo(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tu(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ki(t):null)&&yo(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=$e(Ye().mark((function e(t){var n,r=this,i=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&yo(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue($e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue($e(Ye().mark((function n(){return Ye().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(wo(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ui("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=$e(Ye().mark((function e(t,n){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return yo(n=t&&wo(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,pu.create(this,[wo(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=$e(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue($e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=$e(Ye().mark((function e(t){var n=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue($e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return yo(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return yo(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tu(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=$e(Ye().mark((function e(){var t,n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=He({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Au(e){return ki(e)}var Ou=function(){function e(t){var n=this;h(this,e),this.auth=t,this.observer=null,this.addObserver=mi((function(e){return n.observer=e}))}return y(e,[{key:"next",get:function(){return yo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Du(e,t,n){var r=Au(e);yo(r._canInitEmulator,r,"emulator-config-failed"),yo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ru(t),o=function(e){var t=Ru(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Pu(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:Pu(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ru(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Pu(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Lu=function(){function e(t,n){h(this,e),this.providerId=t,this.signInMethod=n}return y(e,[{key:"toJSON",value:function(){return go("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return go("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return go("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return go("not implemented")}}]),e}();function ju(e,t){return Mu.apply(this,arguments)}function Mu(){return(Mu=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,"POST","/v1/accounts:resetPassword",Ao(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fu(e,t){return Vu.apply(this,arguments)}function Vu(){return(Vu=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uu(e,t){return Bu.apply(this,arguments)}function Bu(){return(Bu=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,"POST","/v1/accounts:update",Ao(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qu(e,t){return zu.apply(this,arguments)}function zu(){return(zu=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,"POST","/v1/accounts:signInWithPassword",Ao(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ku(e,t){return Wu.apply(this,arguments)}function Wu(){return(Wu=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,"POST","/v1/accounts:sendOobCode",Ao(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gu(e,t){return Hu.apply(this,arguments)}function Hu(){return(Hu=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qu(e,t){return Xu.apply(this,arguments)}function Xu(){return(Xu=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yu(e,t){return Ju.apply(this,arguments)}function Ju(){return(Ju=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $u(e,t){return Zu.apply(this,arguments)}function Zu(){return(Zu=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ku(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function es(e,t){return ts.apply(this,arguments)}function ts(){return(ts=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,"POST","/v1/accounts:signInWithEmailLink",Ao(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return(rs=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,"POST","/v1/accounts:signInWithEmailLink",Ao(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var is=function(e){k(n,e);var t=I(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return y(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",qu(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",es(t,{email:this._email,oobCode:this._password}));case 5:fo(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Fu(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ns(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:fo(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Lu);function as(e,t){return os.apply(this,arguments)}function os(){return(os=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,"POST","/v1/accounts:signInWithIdp",Ao(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var us=function(e){k(n,e);var t=I(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return y(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return as(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,as(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,as(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hi(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fo("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ga(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Lu);function ss(e,t){return cs.apply(this,arguments)}function cs(){return(cs=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,"POST","/v1/accounts:sendVerificationCode",Ao(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ls(){return(ls=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,"POST","/v1/accounts:signInWithPhoneNumber",Ao(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fs(){return(fs=$e(Ye().mark((function e(t,n){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lo(t,"POST","/v1/accounts:signInWithPhoneNumber",Ao(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Vo(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ds=He({},"USER_NOT_FOUND","user-not-found");function hs(){return(hs=$e(Ye().mark((function e(t,n){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Lo(t,"POST","/v1/accounts:signInWithPhoneNumber",Ao(t,r),ds));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ps=function(e){k(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone","phone")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ls.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return fs.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return hs.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Lu);var vs=function(){function e(t){var n,r,i,a,o,u;h(this,e);var s=pi(vi(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);yo(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return y(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=pi(vi(e)).link,n=t?pi(vi(t)).deep_link_id:null,r=pi(vi(e)).deep_link_id;return(r?pi(vi(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(bT){return null}}}]),e}();var ms=function(){function e(){h(this,e),this.providerId=e.PROVIDER_ID}return y(e,null,[{key:"credential",value:function(e,t){return is._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=vs.parseLink(t);return yo(n,"argument-error"),is._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ms.PROVIDER_ID="password",ms.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ms.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ys=function(){function e(t){h(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return y(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),gs=function(e){k(n,e);var t=I(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).scopes=[],e}return y(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return d(this.scopes)}}]),n}(ys),ks=function(e){k(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return y(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return yo(e.idToken||e.accessToken,"argument-error"),us._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return yo("providerId"in t&&"signInMethod"in t,"argument-error"),us._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(gs),bs=function(e){k(n,e);var t=I(n);function n(){return h(this,n),t.call(this,"facebook.com")}return y(n,null,[{key:"credential",value:function(e){return us._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(bT){return null}}}]),n}(gs);bs.FACEBOOK_SIGN_IN_METHOD="facebook.com",bs.PROVIDER_ID="facebook.com";var ws=function(e){k(n,e);var t=I(n);function n(){var e;return h(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return y(n,null,[{key:"credential",value:function(e,t){return us._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(bT){return null}}}]),n}(gs);ws.GOOGLE_SIGN_IN_METHOD="google.com",ws.PROVIDER_ID="google.com";var xs=function(e){k(n,e);var t=I(n);function n(){return h(this,n),t.call(this,"github.com")}return y(n,null,[{key:"credential",value:function(e){return us._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(bT){return null}}}]),n}(gs);xs.GITHUB_SIGN_IN_METHOD="github.com",xs.PROVIDER_ID="github.com";var Es=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return y(n,[{key:"_getIdTokenResponse",value:function(e){return as(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,as(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,as(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Lu),Is=function(e){k(n,e);var t=I(n);function n(e){return h(this,n),yo(e.startsWith("saml."),"argument-error"),t.call(this,e)}return y(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Es.fromJSON(e);return yo(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Es._create(r,n)}catch(i){return null}}}]),n}(ys),_s=function(e){k(n,e);var t=I(n);function n(){return h(this,n),t.call(this,"twitter.com")}return y(n,null,[{key:"credential",value:function(e,t){return us._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(bT){return null}}}]),n}(gs);function Ss(e,t){return Ts.apply(this,arguments)}function Ts(){return(Ts=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,"POST","/v1/accounts:signUp",Ao(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}_s.TWITTER_SIGN_IN_METHOD="twitter.com",_s.PROVIDER_ID="twitter.com";var Cs=function(){function e(t){h(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return y(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=$e(Ye().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,lu._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Ns(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=$e(Ye().mark((function t(n,r,i){var a;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ns(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ns(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function As(){return As=$e(Ye().mark((function e(t){var n,r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Au(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Cs({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ss(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Cs._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}var Os=function(e){k(n,e);var t=I(n);function n(e,r,i,a){var o,u;return h(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(x(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return y(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(oi);function Ds(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Os._fromErrorAndOperation(e,n,t,r);throw n}))}function Rs(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Ps(e,t){return Ls.apply(this,arguments)}function Ls(){return Ls=$e(Ye().mark((function e(t,n){var r,i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ki(t),e.next=3,Fs(!0,r,n);case 3:return e.t0=qo,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Rs(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function js(e,t){return Ms.apply(this,arguments)}function Ms(){return Ms=$e(Ye().mark((function e(t,n){var r,i,a=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Yo,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Cs._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}function Fs(e,t,n){return Vs.apply(this,arguments)}function Vs(){return(Vs=$e(Ye().mark((function e(t,n,r){var i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tu(n);case 2:i=Rs(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",yo(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Us(e,t){return Bs.apply(this,arguments)}function Bs(){return Bs=$e(Ye().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Yo(t,Ds(i,a,n,t),r);case 6:return yo((o=e.sent).idToken,i,"internal-error"),yo(u=Xo(o.idToken),i,"internal-error"),s=u.sub,yo(t.uid===s,i,"user-mismatch"),e.abrupt("return",Cs._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&fo(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Bs.apply(this,arguments)}function qs(e,t){return zs.apply(this,arguments)}function zs(){return zs=$e(Ye().mark((function e(t,n){var r,i,a,o,u=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Ds(t,i,n);case 4:return a=e.sent,e.next=7,Cs._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),zs.apply(this,arguments)}function Ks(e,t){return Ws.apply(this,arguments)}function Ws(){return(Ws=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qs(Au(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gs(e,t){return Hs.apply(this,arguments)}function Hs(){return(Hs=$e(Ye().mark((function e(t,n){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ki(t),e.next=3,Fs(!1,r,n.providerId);case 3:return e.abrupt("return",js(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qs(e,t){return Xs.apply(this,arguments)}function Xs(){return(Xs=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Us(ki(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ys(e,t){return Js.apply(this,arguments)}function Js(){return(Js=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lo(t,"POST","/v1/accounts:signInWithCustomToken",Ao(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $s(){return($s=$e(Ye().mark((function e(t,n){var r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Au(t),e.next=3,Ys(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Cs._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zs=function(){function e(t,n){h(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return y(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?ec._fromServerResponse(e,t):fo(e,"internal-error")}}]),e}(),ec=function(e){k(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return y(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Zs);function tc(e,t,n){var r;yo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),yo("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(yo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(yo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function nc(){return(nc=$e(Ye().mark((function e(t,n,r){var i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ki(t),a={requestType:"PASSWORD_RESET",email:n},r&&tc(i,a,r),e.next=5,Qu(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rc(){return(rc=$e(Ye().mark((function e(t,n,r){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ju(ki(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ic(){return(ic=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uu(ki(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ac(e,t){return oc.apply(this,arguments)}function oc(){return(oc=$e(Ye().mark((function e(t,n){var r,i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ki(t),e.next=3,ju(r,{oobCode:n});case 3:i=e.sent,yo(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return yo(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:yo(i.mfaInfo,r,"internal-error");case 13:yo(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Zs._fromServerResponse(Au(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uc(){return(uc=$e(Ye().mark((function e(t,n){var r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ac(ki(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sc(e,t,n){return cc.apply(this,arguments)}function cc(){return(cc=$e(Ye().mark((function e(t,n,r){var i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Au(t),e.next=3,Ss(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Cs._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lc(){return(lc=$e(Ye().mark((function e(t,n,r){var i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ki(t),a={requestType:"EMAIL_SIGNIN",email:n},yo(r.handleCodeInApp,i,"argument-error"),r&&tc(i,a,r),e.next=6,Yu(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fc(){return(fc=$e(Ye().mark((function e(t,n,r){var i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ki(t),yo((a=ms.credentialWithLink(n,r||xo()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Ks(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dc(e,t){return hc.apply(this,arguments)}function hc(){return(hc=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,"POST","/v1/accounts:createAuthUri",Ao(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pc(){return(pc=$e(Ye().mark((function e(t,n){var r,i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Eo()?xo():"http://localhost",i={identifier:n,continueUri:r},e.next=4,dc(ki(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vc(){return(vc=$e(Ye().mark((function e(t,n){var r,i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ki(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&tc(r.auth,a,n),e.next=8,Gu(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mc(){return(mc=$e(Ye().mark((function e(t,n,r){var i,a,o,u;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ki(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&tc(i.auth,o,r),e.next=8,$u(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yc(e,t){return gc.apply(this,arguments)}function gc(){return(gc=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kc(){return(kc=$e(Ye().mark((function e(t,n){var r,i,a,o,u,s,c;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ki(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Yo(a,yc(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bc(e,t,n){return wc.apply(this,arguments)}function wc(){return(wc=$e(Ye().mark((function e(t,n,r){var i,a,o,u;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Yo(t,Fu(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xc=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ec=function(e){k(n,e);var t=I(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i)).username=a,o}return y(n)}(xc),Ic=function(e){k(n,e);var t=I(n);function n(e,r){return h(this,n),t.call(this,e,"facebook.com",r)}return y(n)}(xc),_c=function(e){k(n,e);var t=I(n);function n(e,r){return h(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return y(n)}(Ec),Sc=function(e){k(n,e);var t=I(n);function n(e,r){return h(this,n),t.call(this,e,"google.com",r)}return y(n)}(xc),Tc=function(e){k(n,e);var t=I(n);function n(e,r,i){return h(this,n),t.call(this,e,"twitter.com",r,i)}return y(n)}(Ec);function Cc(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Xo(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new xc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ic(a,i);case"github.com":return new _c(a,i);case"google.com":return new Sc(a,i);case"twitter.com":return new Tc(a,i,e.screenName||null);case"custom":case"anonymous":return new xc(a,null);default:return new xc(a,r,i)}}(n)}var Nc=function(){function e(t,n,r){h(this,e),this.type=t,this.credential=n,this.auth=r}return y(e,[{key:"toJSON",value:function(){return{multiFactorSession:He({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ac=function(){function e(t,n,r){h(this,e),this.session=t,this.hints=n,this.signInResolver=r}return y(e,[{key:"resolveSignIn",value:function(){var e=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Au(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Zs._fromServerResponse(r,e)}));yo(i.mfaPendingCredential,r,"internal-error");var o=Nc._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=$e(Ye().mark((function e(t){var a,u,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Cs._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return yo(n.user,r,"internal-error"),e.abrupt("return",Cs._forOperation(n.user,n.operationType,u));case 17:fo(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Oc(e,t){return Oo(e,"POST","/v2/accounts/mfaEnrollment:start",Ao(e,t))}var Dc=function(){function e(t){var n=this;h(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Zs._fromServerResponse(t.auth,e)})))}))}return y(e,[{key:"getSession",value:function(){var e=$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Nc,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=$e(Ye().mark((function e(t,n){var r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Yo(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=$e(Ye().mark((function e(t){var n,r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Yo(this.user,Oo(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Ao(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Rc=new WeakMap;var Pc="__sak",Lc=function(){function e(t,n){h(this,e),this.storageRetriever=t,this.type=n}return y(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Pc,"1"),this.storage.removeItem(Pc),Promise.resolve(!0)):Promise.resolve(!1)}catch(bT){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var jc=function(e){k(n,e);var t=I(n);function n(){var e;return h(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ei();return yu(e)||Eu(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Su(),e._shouldAllowMigration=!0,e}return y(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);_u()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=$e(Ye().mark((function e(t,r){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa(b(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=$e(Ye().mark((function e(t){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa(b(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa(b(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Lc);jc.type="LOCAL";var Mc=jc,Fc=function(e){k(n,e);var t=I(n);function n(){return h(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return y(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Lc);Fc.type="SESSION";var Vc=Fc;function Uc(e){return Promise.all(e.map(function(){var e=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Bc=function(){function e(t){h(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return y(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=$e(Ye().mark((function e(t){var n,r,i,a,o,u,s,c;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Uc(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function qc(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Bc.receivers=[];var zc=function(){function e(t){h(this,e),this.target=t,this.handlers=new Set}return y(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=$e(Ye().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=qc("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Kc(){return window}function Wc(){return"undefined"!==typeof Kc().WorkerGlobalScope&&"function"===typeof Kc().importScripts}function Gc(){return Hc.apply(this,arguments)}function Hc(){return(Hc=$e(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Qc(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Xc="firebaseLocalStorageDb",Yc="firebaseLocalStorage",Jc="fbase_key",$c=function(){function e(t){h(this,e),this.request=t}return y(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Zc(e,t){return e.transaction([Yc],t?"readwrite":"readonly").objectStore(Yc)}function el(){var e=indexedDB.deleteDatabase(Xc);return new $c(e).toPromise()}function tl(){var e=indexedDB.open(Xc,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Yc,{keyPath:Jc})}catch(r){n(r)}})),e.addEventListener("success",$e(Ye().mark((function n(){var r;return Ye().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Yc)){n.next=12;break}return r.close(),n.next=5,el();case 5:return n.t0=t,n.next=8,tl();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function nl(e,t,n){return rl.apply(this,arguments)}function rl(){return rl=$e(Ye().mark((function e(t,n,r){var i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Zc(t,!0).put((He(i={},Jc,n),He(i,"value",r),i)),e.abrupt("return",new $c(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),rl.apply(this,arguments)}function il(e,t){return al.apply(this,arguments)}function al(){return al=$e(Ye().mark((function e(t,n){var r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zc(t,!1).get(n),e.next=3,new $c(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),al.apply(this,arguments)}function ol(e,t){var n=Zc(e,!0).delete(t);return new $c(n).toPromise()}var ul=function(){function e(){h(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return y(e,[{key:"_openDb",value:function(){var e=$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,tl();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=$e(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wc()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=$e(Ye().mark((function e(){var t=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Bc._getInstance(Wc()?self:null),this.receiver._subscribe("keyChanged",function(){var e=$e(Ye().mark((function e(n,r){var i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=$e(Ye().mark((function e(){var t,n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gc();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new zc(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Qc()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=$e(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,tl();case 5:return t=e.sent,e.next=8,nl(t,Pc,"1");case 8:return e.next=10,ol(t,Pc);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=$e(Ye().mark((function e(t,n){var r=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite($e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return nl(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return il(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=$e(Ye().mark((function e(t){var n=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite($e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ol(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=$e(Ye().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Zc(e,!1).getAll();return new $c(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=C(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval($e(Ye().mark((function t(){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ul.type="LOCAL";var sl=ul;function cl(e,t){return Oo(e,"POST","/v2/accounts/mfaSignIn:start",Ao(e,t))}function ll(e){return fl.apply(this,arguments)}function fl(){return(fl=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oo(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dl(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ho("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function hl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var pl=1e12,vl=function(){function e(t){h(this,e),this.auth=t,this.counter=pl,this._widgets=new Map}return y(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ml(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||pl;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||pl;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=$e(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||pl,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ml=function(){function e(t,n,r){var i=this;h(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;yo(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return y(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var yl=hl("rcb"),gl=new _o(3e4,6e4),kl="https://www.google.com/recaptcha/api.js?",bl=function(){function e(){var t;h(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Kc().grecaptcha)||void 0===t?void 0:t.render)}return y(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return yo(wl(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Kc().grecaptcha):new Promise((function(r,i){var a=Kc().setTimeout((function(){i(ho(e,"network-request-failed"))}),gl.get());Kc()[yl]=function(){Kc().clearTimeout(a),delete Kc()[yl];var o=Kc().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ho(e,"internal-error"))},dl("".concat(kl,"?").concat(hi({onload:yl,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ho(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Kc().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function wl(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var xl=function(){function e(){h(this,e)}return y(e,[{key:"load",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new vl(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),El="recaptcha",Il={theme:"light",type:"image"},_l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Il),r=arguments.length>2?arguments[2]:void 0;h(this,e),this.parameters=n,this.type=El,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Au(r),this.isInvisible="invisible"===this.parameters.size,yo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;yo(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xl:new bl,this.validateStartingState()}return y(e,[{key:"verify",value:function(){var e=$e(Ye().mark((function e(){var t,n,r,i=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){yo(!this.parameters.sitekey,this.auth,"argument-error"),yo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),yo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Kc()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){yo(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=$e(Ye().mark((function e(){var t,n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=$e(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return yo(Eo()&&!Wc(),this.auth,"internal-error"),e.next=3,Sl();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ll(this.auth);case 8:yo(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return yo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Sl(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Tl=function(){function e(t,n){h(this,e),this.verificationId=t,this.onConfirmation=n}return y(e,[{key:"confirm",value:function(e){var t=ps._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Cl(){return(Cl=$e(Ye().mark((function e(t,n,r){var i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Au(t),e.next=3,Dl(i,n,ki(r));case 3:return a=e.sent,e.abrupt("return",new Tl(a,(function(e){return Ks(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nl(e,t,n){return Al.apply(this,arguments)}function Al(){return(Al=$e(Ye().mark((function e(t,n,r){var i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ki(t),e.next=3,Fs(!1,i,"phone");case 3:return e.next=5,Dl(i.auth,n,ki(r));case 5:return a=e.sent,e.abrupt("return",new Tl(a,(function(e){return Gs(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ol(){return(Ol=$e(Ye().mark((function e(t,n,r){var i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ki(t),e.next=3,Dl(i.auth,n,ki(r));case 3:return a=e.sent,e.abrupt("return",new Tl(a,(function(e){return Qs(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dl(e,t,n){return Rl.apply(this,arguments)}function Rl(){return Rl=$e(Ye().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,yo("string"===typeof a,t,"argument-error"),yo(r.type===El,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return yo("enroll"===u.type,t,"internal-error"),e.next=13,Oc(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return yo("signin"===u.type,t,"internal-error"),yo(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,cl(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ss(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Rl.apply(this,arguments)}function Pl(){return(Pl=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,js(ki(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ll=function(){function e(t){h(this,e),this.providerId=e.PROVIDER_ID,this.auth=Au(t)}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return Dl(this.auth,e,ki(t))}}],[{key:"credential",value:function(e,t){return ps._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ps._fromTokenResponse(n,r):null}}]),e}();function jl(e,t){return t?wo(t):(yo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ll.PROVIDER_ID="phone",Ll.PHONE_SIGN_IN_METHOD="phone";var Ml=function(e){k(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this,"custom","custom")).params=e,r}return y(n,[{key:"_getIdTokenResponse",value:function(e){return as(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return as(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return as(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Lu);function Fl(e){return qs(e.auth,new Ml(e),e.bypassAuthState)}function Vl(e){var t=e.auth,n=e.user;return yo(n,t,"internal-error"),Us(n,new Ml(e),e.bypassAuthState)}function Ul(e){return Bl.apply(this,arguments)}function Bl(){return(Bl=$e(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,yo(r=t.user,n,"internal-error"),e.abrupt("return",js(r,new Ml(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ql=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];h(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return y(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=$e(Ye().mark((function t(n,r){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=$e(Ye().mark((function e(t){var n,r,i,a,o,u,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fl;case"linkViaPopup":case"linkViaRedirect":return Ul;case"reauthViaPopup":case"reauthViaRedirect":return Vl;default:fo(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),zl=new _o(2e3,1e4);function Kl(e,t,n){return Wl.apply(this,arguments)}function Wl(){return(Wl=$e(Ye().mark((function e(t,n,r){var i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Au(t),vo(t,n,ys),a=jl(i,r),o=new Xl(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gl(){return(Gl=$e(Ye().mark((function e(t,n,r){var i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vo((i=ki(t)).auth,n,ys),a=jl(i.auth,r),o=new Xl(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hl(e,t,n){return Ql.apply(this,arguments)}function Ql(){return(Ql=$e(Ye().mark((function e(t,n,r){var i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vo((i=ki(t)).auth,n,ys),a=jl(i.auth,r),o=new Xl(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xl=function(e){k(n,e);var t=I(n);function n(e,r,i,a,o){var u;return h(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=x(u),u}return y(n,[{key:"executeNotNull",value:function(){var e=$e(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return yo(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=$e(Ye().mark((function e(){var t,n=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ko(1===this.filter.length,"Popup operations only handle one event"),t=qc(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ho(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ho(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ho(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,zl.get())}()}}]),n}(ql);Xl.currentPopupAction=null;var Yl=new Map,Jl=function(e){k(n,e);var t=I(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return y(n,[{key:"execute",value:function(){var e=$e(Ye().mark((function e(){var t,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Yl.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,$l(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Wa(b(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Yl.set(this.auth._key(),t);case 21:return this.bypassAuthState||Yl.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=$e(Ye().mark((function e(t){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Wa(b(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Wa(b(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ql);function $l(e,t){return Zl.apply(this,arguments)}function Zl(){return(Zl=$e(Ye().mark((function e(t,n){var r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=af(n),i=rf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ef(e,t){return tf.apply(this,arguments)}function tf(){return(tf=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rf(t)._set(af(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nf(e,t){Yl.set(e._key(),t)}function rf(e){return wo(e._redirectPersistence)}function af(e){return hu("pendingRedirect",e.config.apiKey,e.name)}function of(e,t,n){return function(e,t,n){return uf.apply(this,arguments)}(e,t,n)}function uf(){return(uf=$e(Ye().mark((function e(t,n,r){var i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Au(t),vo(t,n,ys),e.next=4,i._initializationPromise;case 4:return a=jl(i,r),e.next=7,ef(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sf(e,t,n){return function(e,t,n){return cf.apply(this,arguments)}(e,t,n)}function cf(){return(cf=$e(Ye().mark((function e(t,n,r){var i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vo((i=ki(t)).auth,n,ys),e.next=4,i.auth._initializationPromise;case 4:return a=jl(i.auth,r),e.next=7,ef(a,i.auth);case 7:return e.next=9,mf(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lf(e,t,n){return function(e,t,n){return ff.apply(this,arguments)}(e,t,n)}function ff(){return(ff=$e(Ye().mark((function e(t,n,r){var i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vo((i=ki(t)).auth,n,ys),e.next=4,i.auth._initializationPromise;case 4:return a=jl(i.auth,r),e.next=7,Fs(!1,i,n.providerId);case 7:return e.next=9,ef(a,i.auth);case 9:return e.next=11,mf(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function df(e,t){return hf.apply(this,arguments)}function hf(){return(hf=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au(t)._initializationPromise;case 2:return e.abrupt("return",pf(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pf(e,t){return vf.apply(this,arguments)}function vf(){return vf=$e(Ye().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Au(t),a=jl(i,n),o=new Jl(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),vf.apply(this,arguments)}function mf(e){return yf.apply(this,arguments)}function yf(){return(yf=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qc("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gf=function(){function e(t){h(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return y(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!bf(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ho(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kf(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(kf(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function kf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function bf(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function wf(e){return xf.apply(this,arguments)}function xf(){return xf=$e(Ye().mark((function e(t){var n,r=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Oo(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),xf.apply(this,arguments)}var Ef=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,If=/^https?/;function _f(){return(_f=$e(Ye().mark((function e(t){var n,r,i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,wf(t);case 4:n=e.sent,r=n.authorizedDomains,i=C(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Sf(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:fo(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Sf(e){var t=xo(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!If.test(r))return!1;if(Ef.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Tf=new _o(3e4,6e4);function Cf(){var e=Kc().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=d(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Nf=null;function Af(e){return Nf=Nf||function(e){return new Promise((function(t,n){var r,i,a;function o(){Cf(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Cf(),n(ho(e,"network-request-failed"))},timeout:Tf.get()})}if(null===(i=null===(r=Kc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Kc().gapi)||void 0===a?void 0:a.load)){var u=hl("iframefcb");return Kc()[u]=function(){gapi.load?o():n(ho(e,"network-request-failed"))},dl("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Nf=null,e}))}(e),Nf}var Of=new _o(5e3,15e3),Df={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pf(e){var t=e.config;yo(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?So(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ha},i=Rf.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(hi(r).slice(1))}function Lf(e){return jf.apply(this,arguments)}function jf(){return jf=$e(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Af(t);case 2:return n=e.sent,yo(r=Kc().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Pf(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Df,dontclear:!0},(function(e){return new Promise(function(){var n=$e(Ye().mark((function n(r,i){var a,o,u;return Ye().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Kc().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ho(t,"network-request-failed"),o=Kc().setTimeout((function(){i(a)}),Of.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),jf.apply(this,arguments)}var Mf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ff="_blank",Vf="http://localhost",Uf=function(){function e(t){h(this,e),this.window=t,this.associatedEvent=null}return y(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Bf(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Mf),{width:r.toString(),height:i.toString(),top:a,left:o}),c=ei().toLowerCase();n&&(u=gu(c)?Ff:n),mu(c)&&(t=t||Vf,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Iu(c)&&"_self"!==u)return qf(t||"",u),new Uf(null);var d=window.open(t||"",u,f);yo(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Uf(d)}function qf(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var zf="__/auth/handler",Kf="emulator/auth/handler";function Wf(e,t,n,r,i,a){yo(e.config.authDomain,e,"auth-domain-config-required"),yo(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ha,eventId:i};if(t instanceof ys){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=l(s[u],2),f=c[0],d=c[1];o[f]=d}}if(t instanceof gs){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(zf);return So(t,Kf)}(e),"?").concat(hi(p).slice(1))}var Gf="webStorageSupport",Hf=function(){function e(){h(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vc,this._completeRedirectFn=pf,this._overrideRedirectResult=nf}return y(e,[{key:"_openPopup",value:function(){var e=$e(Ye().mark((function e(t,n,r,i){var a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ko(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Wf(t,n,r,xo(),i),e.abrupt("return",Bf(t,o,qc()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=$e(Ye().mark((function e(t,n,r,i){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Wf(t,n,r,xo(),i),Kc().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ko(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=$e(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lf(t);case 2:return n=e.sent,r=new gf(t),n.register("authEvent",(function(e){return yo(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Gf,{type:Gf},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Gf];void 0!==i&&t(!!i),fo(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return _f.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Su()||yu()||Eu()}}]),e}(),Qf=Hf,Xf=function(e){k(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone")).credential=e,r}return y(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Oo(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ao(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Oo(e,"POST","/v2/accounts/mfaSignIn:finalize",Ao(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){h(this,e),this.factorId=t}return y(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return go("unexpected MultiFactorSessionType")}}}]),e}()),Yf=function(){function e(){h(this,e)}return y(e,null,[{key:"assertion",value:function(e){return Xf._fromCredential(e)}}]),e}();Yf.FACTOR_ID="phone";var Jf="@firebase/auth",$f="0.21.4",Zf=function(){function e(t){h(this,e),this.auth=t,this.internalListeners=new Map}return y(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){yo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var ed;!function(e){var t;null===(t=Xr())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function td(){return window}ed="Browser",oa(new bi("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){yo(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),yo(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:ed,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tu(ed)},i=new Nu(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),oa(new bi("auth-internal",(function(e){return function(e){return new Zf(e)}(Au(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ka(Jf,$f,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ed)),ka(Jf,$f,"esm2017");function nd(e,t,n){return rd.apply(this,arguments)}function rd(){return rd=$e(Ye().mark((function e(t,n,r){var i,a,o,u,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=td(),o=a.BuildInfo,ko(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,cd(n.sessionId);case 4:return u=e.sent,s={},Eu()?s.ibi=o.packageName:bu()?s.apn=o.packageName:fo(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Wf(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(){return(id=$e(Ye().mark((function e(t){var n,r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=td(),r=n.BuildInfo,i={},Eu()?i.iosBundleId=r.packageName:bu()?i.androidPackageName=r.packageName:fo(t,"operation-not-supported-in-this-environment"),e.next=5,wf(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ad(e){var t=td().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function od(e,t,n){return ud.apply(this,arguments)}function ud(){return ud=$e(Ye().mark((function e(t,n,r){var i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=td(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(ho(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),bu()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),ud.apply(this,arguments)}function sd(e){var t,n,r,i,a,o,u,s,c,l,f=td();yo("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),yo("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),yo("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),yo("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),yo("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function cd(e){return ld.apply(this,arguments)}function ld(){return(ld=$e(Ye().mark((function e(t){var n,r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fd(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fd(e){if(ko(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var dd=function(e){k(n,e);var t=I(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return y(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Wa(b(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(gf);function hd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:gd(),postBody:null,tenantId:e.tenantId,error:ho(e,"no-auth-event")}}function pd(e,t){return kd()._set(bd(e),t)}function vd(e){return md.apply(this,arguments)}function md(){return(md=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kd()._get(bd(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,kd()._remove(bd(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yd(e,t){var n,r,i=function(e){var t=wd(e),n=t.link?decodeURIComponent(t.link):void 0,r=wd(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return wd(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=wd(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?ho(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function gd(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function kd(){return wo(Mc)}function bd(e){return hu("authEvent",e.config.apiKey,e.name)}function wd(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=T(e.split("?"));t[0];return pi(t.slice(1).join("?"))}var xd=function(){function e(){h(this,e),this._redirectPersistence=Vc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=pf,this._overrideRedirectResult=nf}return y(e,[{key:"_initialize",value:function(){var e=$e(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new dd(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){fo(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=$e(Ye().mark((function e(t,n,r,i){var a,o,u,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sd(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Yl.clear(),e.next=10,this._originValidation(t);case 10:return o=hd(t,r,i),e.next=13,pd(t,o);case 13:return e.next=15,nd(t,o,n);case 15:return u=e.sent,e.next=18,ad(u);case 18:return s=e.sent,e.abrupt("return",od(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return id.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=td(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout($e(Ye().mark((function n(){return Ye().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vd(e);case 2:t.onEvent(Id());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=$e(Ye().mark((function n(r){var i,a;return Ye().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,vd(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=yd(i,r.url)),t.onEvent(a||Id());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");td().handleOpenURL=function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Ed=xd;function Id(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ho("no-auth-event")}}function _d(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Sd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei();return!("file:"!==_d()&&"ionic:"!==_d()&&"capacitor:"!==_d()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Td(){return ii()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Cd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei();return/Edge\/\d+/.test(e)}function Nd(){try{var e=self.localStorage,t=qc();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei();return Td()||Cd(e)}()||ai()}catch(n){return Ad()&&ai()}return!1}function Ad(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Od(){return("http:"===_d()||"https:"===_d()||ni()||Sd())&&!(ri()||ti())&&Nd()&&!Ad()}function Dd(){return Sd()&&"undefined"!==typeof document}function Rd(){return Pd.apply(this,arguments)}function Pd(){return(Pd=$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dd()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ld={LOCAL:"local",NONE:"none",SESSION:"session"},jd=yo,Md="persistence";function Fd(e,t){jd(Object.values(Ld).includes(t),e,"invalid-persistence-type"),ri()?jd(t!==Ld.SESSION,e,"unsupported-persistence-type"):ti()?jd(t===Ld.NONE,e,"unsupported-persistence-type"):Ad()?jd(t===Ld.NONE||t===Ld.LOCAL&&ai(),e,"unsupported-persistence-type"):jd(t===Ld.NONE||Nd(),e,"unsupported-persistence-type")}function Vd(e){return Ud.apply(this,arguments)}function Ud(){return(Ud=$e(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Bd(),r=hu(Md,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bd(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var qd=yo,zd=function(){function e(){h(this,e),this.browserResolver=wo(Qf),this.cordovaResolver=wo(Ed),this.underlyingResolver=null,this._redirectPersistence=Vc,this._completeRedirectFn=pf,this._overrideRedirectResult=nf}return y(e,[{key:"_initialize",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=$e(Ye().mark((function e(t,n,r,i){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=$e(Ye().mark((function e(t,n,r,i){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Dd()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return qd(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=$e(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Rd();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Kd(e){return e.unwrap()}function Wd(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Yd(e,function(e,t){var n,r=ki(e),i=t;return yo(t.customData.operationType,r,"argument-error"),yo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ac._fromError(r,i)}(e,t));else if(r){var i=Gd(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Gd(e){var t=(e instanceof oi?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof oi)&&"temporaryProof"in t&&"phoneNumber"in t)return Ll.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ja)return null;switch(r){case Ya:n=ws;break;case Qa:n=bs;break;case Xa:n=xs;break;case $a:n=_s;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Es._create(r,u):us._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new ks(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof oi?n.credentialFromError(e):n.credentialFromResult(e)}function Hd(e,t){return t.catch((function(t){throw t instanceof oi&&Wd(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Gd(t)),additionalUserInfo:Cc(e),user:Jd.getOrCreate(r)}}))}function Qd(e,t){return Xd.apply(this,arguments)}function Xd(){return(Xd=$e(Ye().mark((function e(t,n){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Hd(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yd=function(){function e(t,n){h(this,e),this.resolver=n,this.auth=t.wrapped()}return y(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Hd(Kd(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Jd=function(){function e(t){h(this,e),this._delegate=t,this.multiFactor=function(e){var t=ki(e);return Rc.has(t)||Rc.set(t,Dc._fromUser(t)),Rc.get(t)}(t)}return y(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hd(this.auth,Gs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qd(this.auth,Nl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hd(this.auth,Hl(this._delegate,t,zd)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vd(Au(this.auth));case 2:return e.abrupt("return",lf(this._delegate,t,zd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hd(this.auth,Qs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Qd(this.auth,function(e,t,n){return Ol.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Hd(this.auth,function(e,t,n){return Gl.apply(this,arguments)}(this._delegate,e,zd))}},{key:"reauthenticateWithRedirect",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vd(Au(this.auth));case 2:return e.abrupt("return",sf(this._delegate,t,zd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return vc.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ps(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return bc(ki(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return bc(ki(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Pl.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return kc.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return mc.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Jd.USER_MAP=new WeakMap;var $d=yo,Zd=function(){function e(t,n){if(h(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;$d(r,"invalid-api-key",{appName:t.name}),$d(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?zd:void 0;this._delegate=n.initialize({options:{persistence:th(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(oo),this.linkUnderlyingAuth()}return y(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Jd.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Du(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ic.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return ac(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return rc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hd(this._delegate,sc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return pc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=vs.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=$e(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $d(Od(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,df(this._delegate,zd);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Hd(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Au(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=eh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=eh(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return lc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return nc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=$e(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Fd(this._delegate,t),e.t0=t,e.next=e.t0===Ld.SESSION?4:e.t0===Ld.LOCAL?6:e.t0===Ld.NONE?11:13;break;case 4:return n=Vc,e.abrupt("break",14);case 6:return e.next=8,wo(sl)._isAvailable();case 8:return r=e.sent,n=r?sl:Mc,e.abrupt("break",14);case 11:return n=du,e.abrupt("break",14);case 13:return e.abrupt("return",fo("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Hd(this._delegate,function(e){return As.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Hd(this._delegate,Ks(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Hd(this._delegate,function(e,t){return $s.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Hd(this._delegate,function(e,t,n){return Ks(ki(e),ms.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Hd(this._delegate,function(e,t,n){return fc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Qd(this._delegate,function(e,t,n){return Cl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $d(Od(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Hd(this._delegate,Kl(this._delegate,t,zd)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $d(Od(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Vd(this._delegate);case 3:return e.abrupt("return",of(this._delegate,t,zd));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return uc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function eh(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Jd.getOrCreate(e))},error:t,complete:n}}function th(e,t){var n=function(e,t){var n=Bd();if(!n)return[];var r=hu(Md,e,t);switch(n.getItem(r)){case Ld.NONE:return[du];case Ld.LOCAL:return[sl,Vc];case Ld.SESSION:return[Vc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(sl)||n.push(sl),"undefined"!==typeof window)for(var r=0,i=[Mc,Vc];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(du)||n.push(du),n}Zd.Persistence=Ld;var nh=function(){function e(){h(this,e),this.providerId="phone",this._delegate=new Ll(Kd(za.auth()))}return y(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Ll.credential(e,t)}}]),e}();nh.PHONE_SIGN_IN_METHOD=Ll.PHONE_SIGN_IN_METHOD,nh.PROVIDER_ID=Ll.PROVIDER_ID;var rh,ih=yo,ah=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:za.app();h(this,e),ih(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new _l(t,n,i.auth()),this.type=this._delegate.type}return y(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(rh=za).INTERNAL.registerComponent(new bi("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Zd(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Za,PASSWORD_RESET:eo,RECOVER_EMAIL:to,REVERT_SECOND_FACTOR_ADDITION:no,VERIFY_AND_CHANGE_EMAIL:ro,VERIFY_EMAIL:io}},EmailAuthProvider:ms,FacebookAuthProvider:bs,GithubAuthProvider:xs,GoogleAuthProvider:ws,OAuthProvider:ks,SAMLAuthProvider:Is,PhoneAuthProvider:nh,PhoneMultiFactorGenerator:Yf,RecaptchaVerifier:ah,TwitterAuthProvider:_s,Auth:Zd,AuthCredential:Lu,Error:oi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),rh.registerVersion("@firebase/auth-compat","0.3.4");var oh,uh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},sh={},ch=ch||{},lh=uh||self;function fh(){}function dh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function hh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ph="closure_uid_"+(1e9*Math.random()>>>0),vh=0;function mh(e,t,n){return e.call.apply(e.bind,arguments)}function yh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function gh(e,t,n){return(gh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mh:yh).apply(null,arguments)}function kh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function bh(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function wh(){this.s=this.s,this.o=this.o}wh.prototype.s=!1,wh.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,ph)&&e[ph]||(e[ph]=++vh))},wh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var xh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Eh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ih(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(dh(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function _h(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}_h.prototype.h=function(){this.defaultPrevented=!0};var Sh=function(){if(!lh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{lh.addEventListener("test",fh,t),lh.removeEventListener("test",fh,t)}catch(n){}return e}();function Th(e){return/^[\s\xa0]*$/.test(e)}var Ch=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Nh(e,t){return e<t?-1:e>t?1:0}function Ah(){var e=lh.navigator;return e&&(e=e.userAgent)?e:""}function Oh(e){return-1!=Ah().indexOf(e)}function Dh(e){return Dh[" "](e),e}Dh[" "]=fh;var Rh,Ph=Oh("Opera"),Lh=Oh("Trident")||Oh("MSIE"),jh=Oh("Edge"),Mh=jh||Lh,Fh=Oh("Gecko")&&!(-1!=Ah().toLowerCase().indexOf("webkit")&&!Oh("Edge"))&&!(Oh("Trident")||Oh("MSIE"))&&!Oh("Edge"),Vh=-1!=Ah().toLowerCase().indexOf("webkit")&&!Oh("Edge");function Uh(){var e=lh.document;return e?e.documentMode:void 0}e:{var Bh="",qh=function(){var e=Ah();return Fh?/rv:([^\);]+)(\)|;)/.exec(e):jh?/Edge\/([\d\.]+)/.exec(e):Lh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Vh?/WebKit\/(\S+)/.exec(e):Ph?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(qh&&(Bh=qh?qh[1]:""),Lh){var zh=Uh();if(null!=zh&&zh>parseFloat(Bh)){Rh=String(zh);break e}}Rh=Bh}var Kh,Wh={};function Gh(){return function(e){var t=Wh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ch(String(Rh)).split("."),n=Ch("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Nh(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Nh(0==a[2].length,0==o[2].length)||Nh(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(lh.document&&Lh){var Hh=Uh();Kh=Hh||(parseInt(Rh,10)||void 0)}else Kh=void 0;var Qh=Kh;function Xh(e,t){if(_h.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Fh){e:{try{Dh(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Yh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Xh.X.h.call(this)}}bh(Xh,_h);var Yh={2:"touch",3:"pen",4:"mouse"};Xh.prototype.h=function(){Xh.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Jh="closure_listenable_"+(1e6*Math.random()|0),$h=0;function Zh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++$h,this.ba=this.ea=!1}function ep(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function tp(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function np(e){var t={};for(var n in e)t[n]=e[n];return t}var rp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ip(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<rp.length;a++)n=rp[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ap(e){this.src=e,this.g={},this.h=0}function op(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=xh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ep(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function up(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}ap.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=up(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Zh(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var sp="closure_lm_"+(1e6*Math.random()|0),cp={};function lp(e,t,n,r,i){if(r&&r.once)return dp(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)lp(e,t[a],n,r,i);return null}return n=kp(n),e&&e[Jh]?e.N(t,n,hh(r)?!!r.capture:!!r,i):fp(e,t,n,!1,r,i)}function fp(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=hh(i)?!!i.capture:!!i,u=yp(e);if(u||(e[sp]=u=new ap(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=mp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Sh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(vp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function dp(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)dp(e,t[a],n,r,i);return null}return n=kp(n),e&&e[Jh]?e.O(t,n,hh(r)?!!r.capture:!!r,i):fp(e,t,n,!0,r,i)}function hp(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)hp(e,t[a],n,r,i);else r=hh(r)?!!r.capture:!!r,n=kp(n),e&&e[Jh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=up(a=e.g[t],n,r,i))&&(ep(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=yp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=up(t,n,r,i)),(n=-1<e?t[e]:null)&&pp(n))}function pp(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Jh])op(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(vp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=yp(t))?(op(n,e),0==n.h&&(n.src=null,t[sp]=null)):ep(e)}}}function vp(e){return e in cp?cp[e]:cp[e]="on"+e}function mp(e,t){if(e.ba)e=!0;else{t=new Xh(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&pp(e),e=n.call(r,t)}return e}function yp(e){return(e=e[sp])instanceof ap?e:null}var gp="__closure_events_fn_"+(1e9*Math.random()>>>0);function kp(e){return"function"===typeof e?e:(e[gp]||(e[gp]=function(t){return e.handleEvent(t)}),e[gp])}function bp(){wh.call(this),this.i=new ap(this),this.P=this,this.I=null}function wp(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new _h(t,e);else if(t instanceof _h)t.target=t.target||e;else{var i=t;ip(t=new _h(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=xp(o,r,!0,t)&&i}if(i=xp(o=t.g=e,r,!0,t)&&i,i=xp(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=xp(o=t.g=n[a],r,!1,t)&&i}function xp(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&op(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}bh(bp,wh),bp.prototype[Jh]=!0,bp.prototype.removeEventListener=function(e,t,n,r){hp(this,e,t,n,r)},bp.prototype.M=function(){if(bp.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ep(n[r]);delete t.g[e],t.h--}}this.I=null},bp.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},bp.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ep=lh.JSON.stringify;function Ip(){var e=Dp,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _p,Sp=function(){function e(){h(this,e),this.h=this.g=null}return y(e,[{key:"add",value:function(e,t){var n=Tp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Tp=new(function(){function e(t,n){h(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return y(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Cp}),(function(e){return e.reset()})),Cp=function(){function e(){h(this,e),this.next=this.g=this.h=null}return y(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Np(e){lh.setTimeout((function(){throw e}),0)}function Ap(e,t){_p||function(){var e=lh.Promise.resolve(void 0);_p=function(){e.then(Rp)}}(),Op||(_p(),Op=!0),Dp.add(e,t)}var Op=!1,Dp=new Sp;function Rp(){for(var e;e=Ip();){try{e.h.call(e.g)}catch(n){Np(n)}var t=Tp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Op=!1}function Pp(e,t){bp.call(this),this.h=e||1,this.g=t||lh,this.j=gh(this.lb,this),this.l=Date.now()}function Lp(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function jp(e,t,n){if("function"===typeof e)n&&(e=gh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=gh(e.handleEvent,e)}return 2147483647<Number(t)?-1:lh.setTimeout(e,t||0)}function Mp(e){e.g=jp((function(){e.g=null,e.i&&(e.i=!1,Mp(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}bh(Pp,bp),(oh=Pp.prototype).ca=!1,oh.R=null,oh.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),wp(this,"tick"),this.ca&&(Lp(this),this.start()))}},oh.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},oh.M=function(){Pp.X.M.call(this),Lp(this),delete this.g};var Fp=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return y(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Mp(this)}},{key:"M",value:function(){Wa(b(n.prototype),"M",this).call(this),this.g&&(lh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(wh);function Vp(e){wh.call(this),this.h=e,this.g={}}bh(Vp,wh);var Up=[];function Bp(e,t,n,r){Array.isArray(n)||(n&&(Up[0]=n.toString()),n=Up);for(var i=0;i<n.length;i++){var a=lp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function qp(e){tp(e.g,(function(e,t){this.g.hasOwnProperty(t)&&pp(e)}),e),e.g={}}function zp(){this.g=!0}function Kp(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ep(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Vp.prototype.M=function(){Vp.X.M.call(this),qp(this)},Vp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zp.prototype.Aa=function(){this.g=!1},zp.prototype.info=function(){};var Wp={},Gp=null;function Hp(){return Gp=Gp||new bp}function Qp(e){_h.call(this,Wp.Pa,e)}function Xp(e){var t=Hp();wp(t,new Qp(t))}function Yp(e,t){_h.call(this,Wp.STAT_EVENT,e),this.stat=t}function Jp(e){var t=Hp();wp(t,new Yp(t,e))}function $p(e,t){_h.call(this,Wp.Qa,e),this.size=t}function Zp(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return lh.setTimeout((function(){e()}),t)}Wp.Pa="serverreachability",bh(Qp,_h),Wp.STAT_EVENT="statevent",bh(Yp,_h),Wp.Qa="timingevent",bh($p,_h);var ev={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},tv={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function nv(){}function rv(e){return e.h||(e.h=e.i())}function iv(){}nv.prototype.h=null;var av,ov={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function uv(){_h.call(this,"d")}function sv(){_h.call(this,"c")}function cv(){}function lv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Vp(this),this.O=dv,e=Mh?125:void 0,this.T=new Pp(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new fv}function fv(){this.i=null,this.g="",this.h=!1}bh(uv,_h),bh(sv,_h),bh(cv,nv),cv.prototype.g=function(){return new XMLHttpRequest},cv.prototype.i=function(){return{}},av=new cv;var dv=45e3,hv={},pv={};function vv(e,t,n){e.K=1,e.v=Pv(Nv(t)),e.s=n,e.P=!0,mv(e,null)}function mv(e,t){e.F=Date.now(),bv(e),e.A=Nv(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Hv(n.i,"t",r),e.C=0,n=e.l.H,e.h=new fv,e.g=Qm(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Fp(gh(e.La,e,e.g),e.N)),Bp(e.S,e.g,"readystatechange",e.ib),t=e.H?np(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Xp(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function yv(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function gv(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=kv(e,n))==pv){4==t&&(e.o=4,Jp(14),i=!1),Kp(e.j,e.m,null,"[Incomplete Response]");break}if(r==hv){e.o=4,Jp(15),Kp(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Kp(e.j,e.m,r,null),_v(e,r)}yv(e)&&r!=pv&&r!=hv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Jp(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Um(t),t.K=!0,Jp(11))):(Kp(e.j,e.m,n,"[Invalid Chunked Response]"),Iv(e),Ev(e))}function kv(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?pv:(n=Number(t.substring(n,r)),isNaN(n)?hv:(r+=1)+n>t.length?pv:(t=t.substr(r,n),e.C=r+n,t))}function bv(e){e.V=Date.now()+e.O,wv(e,e.O)}function wv(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Zp(gh(e.gb,e),t)}function xv(e){e.B&&(lh.clearTimeout(e.B),e.B=null)}function Ev(e){0==e.l.G||e.I||zm(e.l,e)}function Iv(e){xv(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Lp(e.T),qp(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function _v(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||tm(n.h,e)))if(!e.J&&tm(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;qm(n),Dm(n)}Vm(n),Jp(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Zp(gh(n.cb,n),6e3));if(1>=em(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Wm(n,11)}else if((e.J||n.g==e)&&qm(n),!Th(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(nm(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.za=d,Rv(r.F,r.D,d))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var h=e;if((r=n).sa=Hm(r,r.H?r.ka:null,r.V),h.J){rm(r.h,h);var p=h,v=r.J;v&&p.setTimeout(v),p.B&&(xv(p),bv(p)),r.g=h}else Fm(r);0<n.i.length&&Pm(n)}else"stop"!=a[0]&&"close"!=a[0]||Wm(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Wm(n,7):Om(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Xp()}catch(a){}}function Sv(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(dh(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(dh(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(dh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(oh=lv.prototype).setTimeout=function(e){this.O=e},oh.ib=function(e){e=e.target;var t=this.L;t&&3==_m(e)?t.l():this.La(e)},oh.La=function(e){try{if(e==this.g)e:{var t=_m(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Mh||this.g&&(this.h.h||this.g.fa()||Sm(this.g)))){this.I||4!=t||7==n||Xp(),xv(this);var r=this.g.aa();this.Y=r;t:if(yv(this)){var i=Sm(this.g);e="";var a=i.length,o=4==_m(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Iv(this),Ev(this);var u="";break t}this.h.i=new lh.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Th(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Jp(12),Iv(this),Ev(this);break e}Kp(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_v(this,r)}this.P?(gv(this,t,u),Mh&&this.i&&3==t&&(Bp(this.S,this.T,"tick",this.hb),this.T.start())):(Kp(this.j,this.m,u,null),_v(this,u)),4==t&&Iv(this),this.i&&!this.I&&(4==t?zm(this.l,this):(this.i=!1,bv(this)))}else 400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Jp(12)):(this.o=0,Jp(13)),Iv(this),Ev(this)}}}catch(t){}},oh.hb=function(){if(this.g){var e=_m(this.g),t=this.g.fa();this.C<t.length&&(xv(this),gv(this,e,t),this.i&&4!=e&&bv(this))}},oh.cancel=function(){this.I=!0,Iv(this)},oh.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Xp(),Jp(17)),Iv(this),this.o=2,Ev(this)):wv(this,this.V-e)};var Tv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cv(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Cv){this.h=void 0!==t?t:e.h,Av(this,e.j),this.s=e.s,this.g=e.g,Ov(this,e.m),this.l=e.l,t=e.i;var n=new zv;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Dv(this,n),this.o=e.o}else e&&(n=String(e).match(Tv))?(this.h=!!t,Av(this,n[1]||"",!0),this.s=Lv(n[2]||""),this.g=Lv(n[3]||"",!0),Ov(this,n[4]),this.l=Lv(n[5]||"",!0),Dv(this,n[6]||"",!0),this.o=Lv(n[7]||"")):(this.h=!!t,this.i=new zv(null,this.h))}function Nv(e){return new Cv(e)}function Av(e,t,n){e.j=n?Lv(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ov(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Dv(e,t,n){t instanceof zv?(e.i=t,function(e,t){t&&!e.j&&(Kv(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Wv(this,t),Hv(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=jv(t,Bv)),e.i=new zv(t,e.h))}function Rv(e,t,n){e.i.set(t,n)}function Pv(e){return Rv(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Lv(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function jv(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Mv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Mv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Cv.prototype.toString=function(){var e=[],t=this.j;t&&e.push(jv(t,Fv,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(jv(t,Fv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(jv(n,"/"==n.charAt(0)?Uv:Vv,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",jv(n,qv)),e.join("")};var Fv=/[#\/\?@]/g,Vv=/[#\?:]/g,Uv=/[#\?]/g,Bv=/[#\?@]/g,qv=/#/g;function zv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Kv(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Wv(e,t){Kv(e),t=Qv(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Gv(e,t){return Kv(e),t=Qv(e,t),e.g.has(t)}function Hv(e,t,n){Wv(e,t),0<n.length&&(e.i=null,e.g.set(Qv(e,t),Eh(n)),e.h+=n.length)}function Qv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(oh=zv.prototype).add=function(e,t){Kv(this),this.i=null,e=Qv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},oh.forEach=function(e,t){Kv(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},oh.oa=function(){Kv(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},oh.W=function(e){Kv(this);var t=[];if("string"===typeof e)Gv(this,e)&&(t=t.concat(this.g.get(Qv(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},oh.set=function(e,t){return Kv(this),this.i=null,Gv(this,e=Qv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},oh.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},oh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Xv=y((function e(t,n){h(this,e),this.h=t,this.g=n}));function Yv(e){this.l=e||$v,lh.PerformanceNavigationTiming?e=0<(e=lh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(lh.g&&lh.g.Ga&&lh.g.Ga()&&lh.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Jv,$v=10;function Zv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function em(e){return e.h?1:e.g?e.g.size:0}function tm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function nm(e,t){e.g?e.g.add(t):e.h=t}function rm(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function im(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=C(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Eh(e.i)}function am(){}function om(){this.g=new am}function um(e,t,n){var r=n||"";try{Sv(e,(function(e,n){var i=e;hh(e)&&(i=Ep(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function sm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function cm(e){this.l=e.ac||null,this.j=e.jb||!1}function lm(e,t){bp.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=fm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yv.prototype.cancel=function(){if(this.i=im(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=C(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},am.prototype.stringify=function(e){return lh.JSON.stringify(e,void 0)},am.prototype.parse=function(e){return lh.JSON.parse(e,void 0)},bh(cm,nv),cm.prototype.g=function(){return new lm(this.l,this.j)},cm.prototype.i=(Jv={},function(){return Jv}),bh(lm,bp);var fm=0;function dm(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function hm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,pm(e)}function pm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(oh=lm.prototype).open=function(e,t){if(this.readyState!=fm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,pm(this)},oh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||lh).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},oh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,hm(this)),this.readyState=fm},oh.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,pm(this)),this.g&&(this.readyState=3,pm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof lh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dm(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},oh.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?hm(this):pm(this),3==this.readyState&&dm(this)}},oh.Va=function(e){this.g&&(this.response=this.responseText=e,hm(this))},oh.Ua=function(e){this.g&&(this.response=e,hm(this))},oh.ga=function(){this.g&&hm(this)},oh.setRequestHeader=function(e,t){this.v.append(e,t)},oh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},oh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(lm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var vm=lh.JSON.parse;function mm(e){bp.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ym,this.K=this.L=!1}bh(mm,bp);var ym="",gm=/^https?$/i,km=["POST","PUT"];function bm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,wm(e),Em(e)}function wm(e){e.D||(e.D=!0,wp(e,"complete"),wp(e,"error"))}function xm(e){if(e.h&&"undefined"!=typeof ch&&(!e.C[1]||4!=_m(e)||2!=e.aa()))if(e.v&&4==_m(e))jp(e.Ha,0,e);else if(wp(e,"readystatechange"),4==_m(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Tv)[1]||null;if(!a&&lh.self&&lh.self.location){var o=lh.self.location.protocol;a=o.substr(0,o.length-1)}i=!gm.test(a?a.toLowerCase():"")}t=i}if(t)wp(e,"complete"),wp(e,"success");else{e.m=6;try{var u=2<_m(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",wm(e)}}finally{Em(e)}}}function Em(e,t){if(e.g){Im(e);var n=e.g,r=e.C[0]?fh:null;e.g=null,e.C=null,t||wp(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Im(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(lh.clearTimeout(e.A),e.A=null)}function _m(e){return e.g?e.g.readyState:0}function Sm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ym:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ly){return null}}function Tm(e){var t="";return tp(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Cm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Tm(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Rv(e,t,n))}function Nm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Am(e){this.Ca=0,this.i=[],this.j=new zp,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Nm("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Nm("baseRetryDelayMs",5e3,e),this.bb=Nm("retryDelaySeedMs",1e4,e),this.$a=Nm("forwardChannelMaxRetries",2,e),this.ta=Nm("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Yv(e&&e.concurrentRequestLimit),this.Fa=new om,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Om(e){if(Rm(e),3==e.G){var t=e.U++,n=Nv(e.F);Rv(n,"SID",e.I),Rv(n,"RID",t),Rv(n,"TYPE","terminate"),jm(e,n),(t=new lv(e,e.j,t,void 0)).K=2,t.v=Pv(Nv(n)),n=!1,lh.navigator&&lh.navigator.sendBeacon&&(n=lh.navigator.sendBeacon(t.v.toString(),"")),!n&&lh.Image&&((new Image).src=t.v,n=!0),n||(t.g=Qm(t.l,null),t.g.da(t.v)),t.F=Date.now(),bv(t)}Gm(e)}function Dm(e){e.g&&(Um(e),e.g.cancel(),e.g=null)}function Rm(e){Dm(e),e.u&&(lh.clearTimeout(e.u),e.u=null),qm(e),e.h.cancel(),e.m&&("number"===typeof e.m&&lh.clearTimeout(e.m),e.m=null)}function Pm(e){Zv(e.h)||e.m||(e.m=!0,Ap(e.Ja,e),e.C=0)}function Lm(e,t){var n;n=t?t.m:e.U++;var r=Nv(e.F);Rv(r,"SID",e.I),Rv(r,"RID",n),Rv(r,"AID",e.T),jm(e,r),e.o&&e.s&&Cm(r,e.o,e.s),n=new lv(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Mm(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),nm(e.h,n),vv(n,r,t)}function jm(e,t){e.ia&&tp(e.ia,(function(e,n){Rv(t,n,e)})),e.l&&Sv({},(function(e,n){Rv(t,n,e)}))}function Mm(e,t,n){n=Math.min(e.i.length,n);var r=e.l?gh(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{um(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Fm(e){e.g||e.u||(e.Z=1,Ap(e.Ia,e),e.A=0)}function Vm(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Zp(gh(e.Ia,e),Km(e,e.A)),e.A++,!0)}function Um(e){null!=e.B&&(lh.clearTimeout(e.B),e.B=null)}function Bm(e){e.g=new lv(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Nv(e.sa);Rv(t,"RID","rpc"),Rv(t,"SID",e.I),Rv(t,"CI",e.L?"0":"1"),Rv(t,"AID",e.T),Rv(t,"TYPE","xmlhttp"),jm(e,t),e.o&&e.s&&Cm(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Pv(Nv(t)),n.s=null,n.P=!0,mv(n,e)}function qm(e){null!=e.v&&(lh.clearTimeout(e.v),e.v=null)}function zm(e,t){var n=null;if(e.g==t){qm(e),Um(e),e.g=null;var r=2}else{if(!tm(e.h,t))return;n=t.D,rm(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;wp(r=Hp(),new $p(r,n)),Pm(e)}else Fm(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(em(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Zp(gh(e.Ja,e,t),Km(e,e.C)),e.C++,!0))}(e,t)||2==r&&Vm(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Wm(e,5);break;case 4:Wm(e,10);break;case 3:Wm(e,6);break;default:Wm(e,2)}}function Km(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Wm(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=gh(e.kb,e);n||(n=new Cv("//www.google.com/images/cleardot.gif"),lh.location&&"http"==lh.location.protocol||Av(n,"https"),Pv(n)),function(e,t){var n=new zp;if(lh.Image){var r=new Image;r.onload=kh(sm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=kh(sm,n,r,"TestLoadImage: error",!1,t),r.onabort=kh(sm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=kh(sm,n,r,"TestLoadImage: timeout",!1,t),lh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Jp(2);e.G=0,e.l&&e.l.va(t),Gm(e),Rm(e)}function Gm(e){if(e.G=0,e.la=[],e.l){var t=im(e.h);0==t.length&&0==e.i.length||(Ih(e.la,t),Ih(e.la,e.i),e.h.i.length=0,Eh(e.i),e.i.length=0),e.l.ua()}}function Hm(e,t,n){var r=n instanceof Cv?Nv(n):new Cv(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Ov(r,r.m);else{var i=lh.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Cv(null,void 0);r&&Av(a,r),t&&(a.g=t),i&&Ov(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Rv(r,n,t),Rv(r,"VER",e.ma),jm(e,r),r}function Qm(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new mm(new cm({jb:!0})):new mm(e.ra)).Ka(e.H),t}function Xm(){}function Ym(){if(Lh&&!(10<=Number(Qh)))throw Error("Environmental error: no available transport.")}function Jm(e,t){bp.call(this),this.g=new Am(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Th(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Th(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ey(this)}function $m(e){uv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Zm(){sv.call(this),this.status=1}function ey(e){this.g=e}(oh=mm.prototype).Ka=function(e){this.L=e},oh.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():av.g(),this.C=this.u?rv(this.u):rv(av),this.g.onreadystatechange=gh(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){return void bm(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=C(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=lh.FormData&&e instanceof lh.FormData,!(0<=xh(km,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=C(n);try{for(c.s();!(s=c.n()).done;){var f=l(s.value,2),d=f[0],h=f[1];this.g.setRequestHeader(d,h)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Im(this),0<this.B&&((this.K=function(e){return Lh&&Gh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gh(this.qa,this)):this.A=jp(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){bm(this,u)}},oh.qa=function(){"undefined"!=typeof ch&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wp(this,"timeout"),this.abort(8))},oh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,wp(this,"complete"),wp(this,"abort"),Em(this))},oh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Em(this,!0)),mm.X.M.call(this)},oh.Ha=function(){this.s||(this.F||this.v||this.l?xm(this):this.fb())},oh.fb=function(){xm(this)},oh.aa=function(){try{return 2<_m(this)?this.g.status:-1}catch(Jv){return-1}},oh.fa=function(){try{return this.g?this.g.responseText:""}catch(Jv){return""}},oh.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),vm(t)}},oh.Ea=function(){return this.m},oh.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(oh=Am.prototype).ma=8,oh.G=1,oh.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new lv(this,this.j,e,void 0),n=this.s;if(this.S&&(n?ip(n=np(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Mm(this,t,r),Rv(i=Nv(this.F),"RID",e),Rv(i,"CVER",22),this.D&&Rv(i,"X-HTTP-Session-Id",this.D),jm(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Tm(n)))+"&"+r:this.o&&Cm(i,this.o,n)),nm(this.h,t),this.Ya&&Rv(i,"TYPE","init"),this.O?(Rv(i,"$req",r),Rv(i,"SID","null"),t.Z=!0,vv(t,i,null)):vv(t,i,r),this.G=2}}else 3==this.G&&(e?Lm(this,e):0==this.i.length||Zv(this.h)||Lm(this))},oh.Ia=function(){if(this.u=null,Bm(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Zp(gh(this.eb,this),e)}},oh.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Jp(10),Dm(this),Bm(this))},oh.cb=function(){null!=this.v&&(this.v=null,Dm(this),Vm(this),Jp(19))},oh.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Jp(2)):(this.j.info("Failed to ping google.com"),Jp(1))},(oh=Xm.prototype).xa=function(){},oh.wa=function(){},oh.va=function(){},oh.ua=function(){},oh.Ra=function(){},Ym.prototype.g=function(e,t){return new Jm(e,t)},bh(Jm,bp),Jm.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Jp(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Hm(e,null,e.V),Pm(e)},Jm.prototype.close=function(){Om(this.g)},Jm.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ep(e),e=n);t.i.push(new Xv(t.ab++,e)),3==t.G&&Pm(t)},Jm.prototype.M=function(){this.g.l=null,delete this.j,Om(this.g),delete this.g,Jm.X.M.call(this)},bh($m,uv),bh(Zm,sv),bh(ey,Xm),ey.prototype.xa=function(){wp(this.g,"a")},ey.prototype.wa=function(e){wp(this.g,new $m(e))},ey.prototype.va=function(e){wp(this.g,new Zm)},ey.prototype.ua=function(){wp(this.g,"b")},Ym.prototype.createWebChannel=Ym.prototype.g,Jm.prototype.send=Jm.prototype.u,Jm.prototype.open=Jm.prototype.m,Jm.prototype.close=Jm.prototype.close,ev.NO_ERROR=0,ev.TIMEOUT=8,ev.HTTP_ERROR=6,tv.COMPLETE="complete",iv.EventType=ov,ov.OPEN="a",ov.CLOSE="b",ov.ERROR="c",ov.MESSAGE="d",bp.prototype.listen=bp.prototype.N,mm.prototype.listenOnce=mm.prototype.O,mm.prototype.getLastError=mm.prototype.Oa,mm.prototype.getLastErrorCode=mm.prototype.Ea,mm.prototype.getStatus=mm.prototype.aa,mm.prototype.getResponseJson=mm.prototype.Sa,mm.prototype.getResponseText=mm.prototype.fa,mm.prototype.send=mm.prototype.da,mm.prototype.setWithCredentials=mm.prototype.Ka;var ty=sh.createWebChannelTransport=function(){return new Ym},ny=sh.getStatEventTarget=function(){return Hp()},ry=sh.ErrorCode=ev,iy=sh.EventType=tv,ay=sh.Event=Wp,oy=sh.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},uy=sh.FetchXmlHttpFactory=cm,sy=sh.WebChannel=iv,cy=sh.XhrIo=mm,ly="@firebase/firestore",fy=function(){function e(t){h(this,e),this.uid=t}return y(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();fy.UNAUTHENTICATED=new fy(null),fy.GOOGLE_CREDENTIALS=new fy("google-credentials-uid"),fy.FIRST_PARTY=new fy("first-party-uid"),fy.MOCK_USER=new fy("mock-user");var dy="9.17.2",hy=new Oi("@firebase/firestore");function py(){return hy.logLevel}function vy(e){if(hy.logLevel<=Ii.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(gy);hy.debug.apply(hy,["Firestore (".concat(dy,"): ").concat(e)].concat(d(i)))}}function my(e){if(hy.logLevel<=Ii.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(gy);hy.error.apply(hy,["Firestore (".concat(dy,"): ").concat(e)].concat(d(i)))}}function yy(e){if(hy.logLevel<=Ii.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(gy);hy.warn.apply(hy,["Firestore (".concat(dy,"): ").concat(e)].concat(d(i)))}}function gy(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ky(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(dy,") INTERNAL ASSERTION FAILED: ")+e;throw my(t),new Error(t)}function by(e,t){e||ky()}function wy(e,t){return e}var xy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ey=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return y(n)}(oi),Iy=y((function e(){var t=this;h(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),_y=y((function e(t,n){h(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Sy=function(){function e(){h(this,e)}return y(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(fy.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ty=function(){function e(t){h(this,e),this.token=t,this.changeListener=null}return y(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Cy=function(){function e(t){h(this,e),this.t=t,this.currentUser=fy.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Iy;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Iy,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable($e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){vy("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(vy("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Iy)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(vy("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(by("string"==typeof n.accessToken),new _y(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return by(null===e||"string"==typeof e),new fy(e)}}]),e}(),Ny=function(){function e(t,n,r,i){h(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=fy.FIRST_PARTY,this.p=new Map}return y(e,[{key:"I",value:function(){return this.g?this.g():(by(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Ay=function(){function e(t,n,r,i){h(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return y(e,[{key:"getToken",value:function(){return Promise.resolve(new Ny(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(fy.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Oy=y((function e(t){h(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Dy=function(){function e(t){h(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return y(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&vy("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,vy("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){vy("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):vy("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(by("string"==typeof t.token),e.A=t.token,new Oy(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Ry(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Py=function(){function e(){h(this,e)}return y(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ry(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Ly(e,t){return e<t?-1:e>t?1:0}function jy(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function My(e){return e+"\0"}var Fy=function(){function e(t,n){if(h(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Ey(xy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ey(xy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ey(xy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ey(xy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return y(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ly(this.nanoseconds,e.nanoseconds):Ly(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Vy=function(){function e(t){h(this,e),this.timestamp=t}return y(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Fy(0,0))}},{key:"max",value:function(){return new e(new Fy(253402300799,999999999))}}]),e}(),Uy=function(){function e(t,n,r){h(this,e),void 0===n?n=0:n>t.length&&ky(),void 0===r?r=t.length-n:r>t.length-n&&ky(),this.segments=t,this.offset=n,this.len=r}return y(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),By=function(e){k(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Ey(xy.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,d(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Uy),qy=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zy=function(e){k(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return y(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return qy.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Ey(xy.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Ey(xy.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Ey(xy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Ey(xy.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Uy),Ky=function(){function e(t){h(this,e),this.path=t}return y(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===By.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(By.fromString(t))}},{key:"fromName",value:function(t){return new e(By.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(By.emptyPath())}},{key:"comparator",value:function(e,t){return By.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new By(t.slice()))}}]),e}(),Wy=y((function e(t,n,r,i){h(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Gy(e){return e.fields.find((function(e){return 2===e.kind}))}function Hy(e){return e.fields.filter((function(e){return 2!==e.kind}))}Wy.UNKNOWN_ID=-1;var Qy=y((function e(t,n){h(this,e),this.fieldPath=t,this.kind=n}));var Xy=function(){function e(t,n){h(this,e),this.sequenceNumber=t,this.offset=n}return y(e,null,[{key:"empty",value:function(){return new e(0,$y.min())}}]),e}();function Yy(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Vy.fromTimestamp(1e9===r?new Fy(n+1,0):new Fy(n,r));return new $y(i,Ky.empty(),t)}function Jy(e){return new $y(e.readTime,e.key,-1)}var $y=function(){function e(t,n,r){h(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return y(e,null,[{key:"min",value:function(){return new e(Vy.min(),Ky.empty(),-1)}},{key:"max",value:function(){return new e(Vy.max(),Ky.empty(),-1)}}]),e}();function Zy(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Ky.comparator(e.documentKey,t.documentKey))?n:Ly(e.largestBatchId,t.largestBatchId)}var eg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tg=function(){function e(){h(this,e),this.onCommittedListeners=[]}return y(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function ng(e){return rg.apply(this,arguments)}function rg(){return rg=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===xy.FAILED_PRECONDITION&&t.message===eg){e.next=2;break}throw t;case 2:vy("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),rg.apply(this,arguments)}var ig=function(){function e(t){var n=this;h(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return y(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ky(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=C(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),ag=function(){function e(t,n){var r=this;h(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new Iy,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new sg(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=hg(e.target.error);r.v.reject(new sg(t,n))}}return y(e,[{key:"P",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(vy("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new lg(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new sg(n,t)}}}]),e}(),og=function(){function e(t,n,r){h(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(ei())&&my("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return y(e,[{key:"F",value:function(){var e=$e(Ye().mark((function e(t){var n=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return vy("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new sg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Ey(xy.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Ey(xy.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new sg(t,n))},i.onupgradeneeded=function(e){vy("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){vy("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=$e(Ye().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Ye().mark((function e(){var n,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=ag.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),ig.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.P;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,vy("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return vy("SimpleDb","Removing database:",e),fg(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!ai())return!1;if(e.N())return!0;var t=ei(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/ivanlamo01/El-bebedero-firebase",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),ug=function(){function e(t){h(this,e),this.q=t,this.U=!1,this.K=null}return y(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return fg(this.q.delete())}}]),e}(),sg=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,xy.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return y(n)}(Ey);function cg(e){return"IndexedDbTransactionError"===e.name}var lg=function(){function e(t){h(this,e),this.store=t}return y(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(vy("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(vy("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),fg(n)}},{key:"add",value:function(e){return vy("SimpleDb","ADD",this.store.name,e,e),fg(this.store.add(e))}},{key:"get",value:function(e){var t=this;return fg(this.store.get(e)).next((function(n){return void 0===n&&(n=null),vy("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return vy("SimpleDb","DELETE",this.store.name,e),fg(this.store.delete(e))}},{key:"count",value:function(){return vy("SimpleDb","COUNT",this.store.name),fg(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ig((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ig((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){vy("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Z=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new ig((function(n,r){t.onerror=function(e){var t=hg(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new ig((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ug(i),o=t(i.primaryKey,i.value,a);if(o instanceof ig){var u=o.catch((function(e){return a.done(),ig.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return ig.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Z?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function fg(e){return new ig((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=hg(e.target.error);n(t)}}))}var dg=!1;function hg(e){var t=og.D(ei());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ey("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return dg||(dg=!0,setTimeout((function(){throw r}),0)),r}}return e}var pg=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.et=n,this.task=null}return y(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;vy("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=vy,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!cg(e.t4)){e.next=17;break}vy("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,ng(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),vg=function(){function e(t,n){h(this,e),this.localStore=t,this.persistence=n}return y(e,[{key:"st",value:function(){var e=$e(Ye().mark((function e(){var t,n=this,r=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return ig.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return vy("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return vy("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Jy(t);Zy(r,n)>0&&(n=r)})),new $y(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),mg=function(){function e(t,n){var r=this;h(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return y(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();mg.at=-1;var yg=y((function e(t,n,r,i,a,o,u,s){h(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),gg=function(){function e(t,n){h(this,e),this.projectId=t,this.database=n||"(default)"}return y(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function kg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function bg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function xg(e){return null==e}function Eg(e){return 0===e&&1/e==-1/0}function Ig(e){return"number"==typeof e&&Number.isInteger(e)&&!Eg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var _g=function(e){k(n,e);var t=I(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return y(n)}(S(Error));var Sg=function(e){function t(e){h(this,t),this.binaryString=e}return y(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ly(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw e instanceof DOMException?new _g("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Sg.EMPTY_BYTE_STRING=new Sg("");var Tg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cg(e){if(by(!!e),"string"==typeof e){var t=0,n=Tg.exec(e);if(by(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ng(e.seconds),nanos:Ng(e.nanos)}}function Ng(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ag(e){return"string"==typeof e?Sg.fromBase64String(e):Sg.fromUint8Array(e)}function Og(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dg(e){var t=e.mapValue.fields.__previous_value__;return Og(t)?Dg(t):t}function Rg(e){var t=Cg(e.mapValue.fields.__local_write_time__.timestampValue);return new Fy(t.seconds,t.nanos)}var Pg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Lg={nullValue:"NULL_VALUE"};function jg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Og(e)?4:Yg(e)?9007199254740991:10:ky()}function Mg(e,t){if(e===t)return!0;var n=jg(e);if(n!==jg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rg(e).isEqual(Rg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Cg(e.timestampValue),r=Cg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ag(e.bytesValue).isEqual(Ag(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ng(e.geoPointValue.latitude)===Ng(t.geoPointValue.latitude)&&Ng(e.geoPointValue.longitude)===Ng(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ng(e.integerValue)===Ng(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ng(e.doubleValue),r=Ng(t.doubleValue);return n===r?Eg(n)===Eg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return jy(e.arrayValue.values||[],t.arrayValue.values||[],Mg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(kg(n)!==kg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Mg(n[i],r[i])))return!1;return!0}(e,t);default:return ky()}}function Fg(e,t){return void 0!==(e.values||[]).find((function(e){return Mg(e,t)}))}function Vg(e,t){if(e===t)return 0;var n=jg(e),r=jg(t);if(n!==r)return Ly(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ly(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ng(e.integerValue||e.doubleValue),r=Ng(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ug(e.timestampValue,t.timestampValue);case 4:return Ug(Rg(e),Rg(t));case 5:return Ly(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ag(e),r=Ag(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ly(n[i],r[i]);if(0!==a)return a}return Ly(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ly(Ng(e.latitude),Ng(t.latitude));return 0!==n?n:Ly(Ng(e.longitude),Ng(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Vg(n[i],r[i]);if(a)return a}return Ly(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Pg.mapValue&&t===Pg.mapValue)return 0;if(e===Pg.mapValue)return 1;if(t===Pg.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Ly(r[o],a[o]);if(0!==u)return u;var s=Vg(n[r[o]],i[a[o]]);if(0!==s)return s}return Ly(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ky()}}function Ug(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ly(e,t);var n=Cg(e),r=Cg(t),i=Ly(n.seconds,r.seconds);return 0!==i?i:Ly(n.nanos,r.nanos)}function Bg(e){return qg(e)}function qg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Cg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ag(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ky.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=C(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=qg(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=C(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(qg(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ky();var t,n}function zg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Kg(e){return!!e&&"integerValue"in e}function Wg(e){return!!e&&"arrayValue"in e}function Gg(e){return!!e&&"nullValue"in e}function Hg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Qg(e){return!!e&&"mapValue"in e}function Xg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return bg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Xg(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Xg(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Yg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Jg(e){return"nullValue"in e?Lg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?zg(gg.empty(),Ky.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ky()}function $g(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?zg(gg.empty(),Ky.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Pg:ky()}function Zg(e,t){var n=Vg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ek(e,t){var n=Vg(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var tk=y((function e(t,n){h(this,e),this.position=t,this.inclusive=n}));function nk(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ky.comparator(Ky.fromName(o.referenceValue),n.key):Vg(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function rk(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Mg(e.position[n],t.position[n]))return!1;return!0}var ik=y((function e(){h(this,e)})),ak=function(e){k(n,e);var t=I(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vg(t,this.value)):null!==t&&jg(this.value)===jg(t)&&this.matchesComparison(Vg(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ky()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new vk(e,t,r):"array-contains"===t?new kk(e,r):"in"===t?new bk(e,r):"not-in"===t?new wk(e,r):"array-contains-any"===t?new xk(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new mk(e,n):new yk(e,n)}}]),n}(ik),ok=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).filters=e,i.op=r,i.ft=null,i}return y(n,[{key:"matches",value:function(e){return uk(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ft||(this.ft=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ft}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.dt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"dt",value:function(e){var t,n=C(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(ik);function uk(e){return"and"===e.op}function sk(e){return"or"===e.op}function ck(e){return lk(e)&&uk(e)}function lk(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof ok)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function fk(e){if(e instanceof ak)return e.field.canonicalString()+e.op.toString()+Bg(e.value);if(ck(e))return e.filters.map((function(e){return fk(e)})).join(",");var t=e.filters.map((function(e){return fk(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function dk(e,t){return e instanceof ak?function(e,t){return t instanceof ak&&e.op===t.op&&e.field.isEqual(t.field)&&Mg(e.value,t.value)}(e,t):e instanceof ok?function(e,t){return t instanceof ok&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&dk(n,t.filters[r])}),!0)}(e,t):void ky()}function hk(e,t){var n=e.filters.concat(t);return ok.create(n,e.op)}function pk(e){return e instanceof ak?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Bg(e.value))}(e):e instanceof ok?function(e){return e.op.toString()+" {"+e.getFilters().map(pk).join(" ,")+"}"}(e):"Filter"}var vk=function(e){k(n,e);var t=I(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,i)).key=Ky.fromName(i.referenceValue),a}return y(n,[{key:"matches",value:function(e){var t=Ky.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(ak),mk=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"in",r)).keys=gk("in",r),i}return y(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ak),yk=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"not-in",r)).keys=gk("not-in",r),i}return y(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ak);function gk(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ky.fromName(e.referenceValue)}))}var kk=function(e){k(n,e);var t=I(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Wg(t)&&Fg(t.arrayValue,this.value)}}]),n}(ak),bk=function(e){k(n,e);var t=I(n);function n(e,r){return h(this,n),t.call(this,e,"in",r)}return y(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Fg(this.value.arrayValue,t)}}]),n}(ak),wk=function(e){k(n,e);var t=I(n);function n(e,r){return h(this,n),t.call(this,e,"not-in",r)}return y(n,[{key:"matches",value:function(e){if(Fg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Fg(this.value.arrayValue,t)}}]),n}(ak),xk=function(e){k(n,e);var t=I(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains-any",r)}return y(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Wg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Fg(t.value.arrayValue,e)}))}}]),n}(ak),Ek=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";h(this,e),this.field=t,this.dir=n}));function Ik(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var _k=function(){function e(t,n){h(this,e),this.comparator=t,this.root=n||Tk.EMPTY}return y(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Tk.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tk.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Sk(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Sk(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Sk(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Sk(this.root,e,this.comparator,!0)}}]),e}(),Sk=function(){function e(t,n,r,i){h(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return y(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Tk=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return y(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ky();if(this.right.isRed())throw ky();var e=this.left.check();if(e!==this.right.check())throw ky();return e+(this.isRed()?0:1)}}]),e}();Tk.EMPTY=null,Tk.RED=!0,Tk.BLACK=!1,Tk.EMPTY=new(function(){function e(){h(this,e),this.size=0}return y(e,[{key:"key",get:function(){throw ky()}},{key:"value",get:function(){throw ky()}},{key:"color",get:function(){throw ky()}},{key:"left",get:function(){throw ky()}},{key:"right",get:function(){throw ky()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Tk(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ck=function(){function e(t){h(this,e),this.comparator=t,this.data=new _k(this.comparator)}return y(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Nk(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Nk(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Nk=function(){function e(t){h(this,e),this.iter=t}return y(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Ak(e){return e.hasNext()?e.getNext():void 0}var Ok=function(){function e(t){h(this,e),this.fields=t,t.sort(zy.comparator)}return y(e,[{key:"unionWith",value:function(t){var n,r=new Ck(zy.comparator),i=C(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=C(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=C(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return jy(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Dk=function(){function e(t){h(this,e),this.value=t}return y(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Qg(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xg(t)}},{key:"setAll",value:function(e){var t=this,n=zy.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Xg(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Qg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Mg(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Qg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){bg(t,(function(t,n){return e[t]=n}));var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Xg(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Rk(e){var t=[];return bg(e.fields,(function(e,n){var r=new zy([e]);if(Qg(n)){var i=Rk(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=C(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Ok(t)}var Pk=function(){function e(t,n,r,i,a,o,u){h(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return y(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Vy.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Dk.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Dk.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Vy.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Vy.min(),Vy.min(),Vy.min(),Dk.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Vy.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Vy.min(),Vy.min(),Dk.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Vy.min(),Vy.min(),Dk.empty(),2)}}]),e}(),Lk=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;h(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this._t=null}));function jk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Lk(e,t,n,r,i,a,o)}function Mk(e){var t=wy(e);if(null===t._t){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return fk(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),xg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Bg(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Bg(e)})).join(",")),t._t=n}return t._t}function Fk(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ik(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!dk(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rk(e.startAt,t.startAt)&&rk(e.endAt,t.endAt)}function Vk(e){return Ky.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Uk(e,t){return e.filters.filter((function(e){return e instanceof ak&&e.field.isEqual(t)}))}function Bk(e,t,n){var r,i=Lg,a=!0,o=C(Uk(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Lg,c=!0;switch(u.op){case"<":case"<=":s=Jg(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Lg}Zg({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Zg({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function qk(e,t,n){var r,i=Pg,a=!0,o=C(Uk(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Pg,c=!0;switch(u.op){case">=":case">":s=$g(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Pg}ek({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];ek({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var zk=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.wt=null,this.gt=null,this.startAt,this.endAt}));function Kk(e,t,n,r,i,a,o,u){return new zk(e,t,n,r,i,a,o,u)}function Wk(e){return new zk(e)}function Gk(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Hk(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Qk(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Xk(e){return null!==e.collectionGroup}function Yk(e){var t=wy(e);if(null===t.wt){t.wt=[];var n=Qk(t),r=Hk(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new Ek(n)),t.wt.push(new Ek(zy.keyField(),"asc"));else{var i,a=!1,o=C(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Ek(zy.keyField(),s))}}}return t.wt}function Jk(e){var t=wy(e);if(!t.gt)if("F"===t.limitType)t.gt=jk(t.path,t.collectionGroup,Yk(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=C(Yk(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ek(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new tk(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new tk(t.startAt.position,t.startAt.inclusive):null;t.gt=jk(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.gt}function $k(e,t){t.getFirstInequalityField(),Qk(e);var n=e.filters.concat([t]);return new zk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Zk(e,t,n){return new zk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function eb(e,t){return Fk(Jk(e),Jk(t))&&e.limitType===t.limitType}function tb(e){return"".concat(Mk(Jk(e)),"|lt:").concat(e.limitType)}function nb(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return pk(e)})).join(", "),"]")),xg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Bg(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Bg(e)})).join(",")),"Target(".concat(t,")")}(Jk(e)),"; limitType=").concat(e.limitType,")")}function rb(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ky.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=C(Yk(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=C(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=nk(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Yk(e),t))&&!(e.endAt&&!function(e,t,n){var r=nk(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Yk(e),t))}(e,t)}function ib(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ab(e){return function(t,n){var r,i=!1,a=C(Yk(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=ob(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function ob(e,t,n){var r=e.field.isKeyField()?Ky.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Vg(r,i):ky()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ky()}}function ub(e,t){if(e.yt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eg(t)?"-0":t}}function sb(e){return{integerValue:""+e}}function cb(e,t){return Ig(t)?sb(t):ub(e,t)}var lb=y((function e(){h(this,e),this._=void 0}));function fb(e,t,n){return e instanceof pb?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof vb?mb(e,t):e instanceof yb?gb(e,t):function(e,t){var n=hb(e,t),r=bb(n)+bb(e.It);return Kg(n)&&Kg(e.It)?sb(r):ub(e.Tt,r)}(e,t)}function db(e,t,n){return e instanceof vb?mb(e,t):e instanceof yb?gb(e,t):n}function hb(e,t){return e instanceof kb?Kg(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var pb=function(e){k(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return y(n)}(lb),vb=function(e){k(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return y(n)}(lb);function mb(e,t){var n,r=wb(t),i=C(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Mg(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var yb=function(e){k(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return y(n)}(lb);function gb(e,t){var n,r=wb(t),i=C(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Mg(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var kb=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).Tt=e,i.It=r,i}return y(n)}(lb);function bb(e){return Ng(e.integerValue||e.doubleValue)}function wb(e){return Wg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var xb=y((function e(t,n){h(this,e),this.field=t,this.transform=n}));var Eb=y((function e(t,n){h(this,e),this.version=t,this.transformResults=n})),Ib=function(){function e(t,n){h(this,e),this.updateTime=t,this.exists=n}return y(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function _b(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Sb=y((function e(){h(this,e)}));function Tb(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Vb(e.key,Ib.none()):new Db(e.key,e.data,Ib.none());var n,r=e.data,i=Dk.empty(),a=new Ck(zy.comparator),o=C(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Rb(e.key,i,new Ok(a.toArray()),Ib.none())}function Cb(e,t,n){e instanceof Db?function(e,t,n){var r=e.value.clone(),i=Lb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Rb?function(e,t,n){if(_b(e.precondition,t)){var r=Lb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Pb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Nb(e,t,n,r){return e instanceof Db?function(e,t,n,r){if(!_b(e.precondition,t))return n;var i=e.value.clone(),a=jb(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Rb?function(e,t,n,r){if(!_b(e.precondition,t))return n;var i=jb(e.fieldTransforms,r,t),a=t.data;return a.setAll(Pb(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return _b(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ab(e,t){var n,r=null,i=C(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=hb(a.transform,o||null);null!=u&&(null===r&&(r=Dk.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Ob(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&jy(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof vb&&t instanceof vb||e instanceof yb&&t instanceof yb?jy(e.elements,t.elements,Mg):e instanceof kb&&t instanceof kb?Mg(e.It,t.It):e instanceof pb&&t instanceof pb}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Db=function(e){k(n,e);var t=I(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return h(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Sb),Rb=function(e){k(n,e);var t=I(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return h(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return y(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Sb);function Pb(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Lb(e,t,n){var r=new Map;by(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,db(o,u,n[i]))}return r}function jb(e,t,n){var r,i=new Map,a=C(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,fb(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Mb,Fb,Vb=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Sb),Ub=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return y(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Sb),Bb=y((function e(t){h(this,e),this.count=t}));function qb(e){switch(e){default:return ky();case xy.CANCELLED:case xy.UNKNOWN:case xy.DEADLINE_EXCEEDED:case xy.RESOURCE_EXHAUSTED:case xy.INTERNAL:case xy.UNAVAILABLE:case xy.UNAUTHENTICATED:return!1;case xy.INVALID_ARGUMENT:case xy.NOT_FOUND:case xy.ALREADY_EXISTS:case xy.PERMISSION_DENIED:case xy.FAILED_PRECONDITION:case xy.ABORTED:case xy.OUT_OF_RANGE:case xy.UNIMPLEMENTED:case xy.DATA_LOSS:return!0}}function zb(e){if(void 0===e)return my("GRPC error has no .code"),xy.UNKNOWN;switch(e){case Mb.OK:return xy.OK;case Mb.CANCELLED:return xy.CANCELLED;case Mb.UNKNOWN:return xy.UNKNOWN;case Mb.DEADLINE_EXCEEDED:return xy.DEADLINE_EXCEEDED;case Mb.RESOURCE_EXHAUSTED:return xy.RESOURCE_EXHAUSTED;case Mb.INTERNAL:return xy.INTERNAL;case Mb.UNAVAILABLE:return xy.UNAVAILABLE;case Mb.UNAUTHENTICATED:return xy.UNAUTHENTICATED;case Mb.INVALID_ARGUMENT:return xy.INVALID_ARGUMENT;case Mb.NOT_FOUND:return xy.NOT_FOUND;case Mb.ALREADY_EXISTS:return xy.ALREADY_EXISTS;case Mb.PERMISSION_DENIED:return xy.PERMISSION_DENIED;case Mb.FAILED_PRECONDITION:return xy.FAILED_PRECONDITION;case Mb.ABORTED:return xy.ABORTED;case Mb.OUT_OF_RANGE:return xy.OUT_OF_RANGE;case Mb.UNIMPLEMENTED:return xy.UNIMPLEMENTED;case Mb.DATA_LOSS:return xy.DATA_LOSS;default:return ky()}}(Fb=Mb||(Mb={}))[Fb.OK=0]="OK",Fb[Fb.CANCELLED=1]="CANCELLED",Fb[Fb.UNKNOWN=2]="UNKNOWN",Fb[Fb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fb[Fb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fb[Fb.NOT_FOUND=5]="NOT_FOUND",Fb[Fb.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fb[Fb.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fb[Fb.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fb[Fb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fb[Fb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fb[Fb.ABORTED=10]="ABORTED",Fb[Fb.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fb[Fb.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fb[Fb.INTERNAL=13]="INTERNAL",Fb[Fb.UNAVAILABLE=14]="UNAVAILABLE",Fb[Fb.DATA_LOSS=15]="DATA_LOSS";var Kb=function(){function e(t,n){h(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return y(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){bg(this.inner,(function(t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return wg(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Wb=new _k(Ky.comparator);function Gb(){return Wb}var Hb=new _k(Ky.comparator);function Qb(){for(var e=Hb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Xb(e){var t=Hb;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Yb(){return $b()}function Jb(){return $b()}function $b(){return new Kb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Zb=new _k(Ky.comparator),ew=new Ck(Ky.comparator);function tw(){for(var e=ew,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var nw=new Ck(Ly);function rw(){return nw}var iw=function(){function e(t,n,r,i,a){h(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return y(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,aw.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Vy.min(),i,rw(),Gb(),tw())}}]),e}(),aw=function(){function e(t,n,r,i,a){h(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return y(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,tw(),tw(),tw())}}]),e}(),ow=y((function e(t,n,r,i){h(this,e),this.Et=t,this.removedTargetIds=n,this.key=r,this.At=i})),uw=y((function e(t,n){h(this,e),this.targetId=t,this.Rt=n})),sw=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sg.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),cw=function(){function e(){h(this,e),this.bt=0,this.vt=dw(),this.Pt=Sg.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}return y(e,[{key:"current",get:function(){return this.Vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"Dt",get:function(){return 0!==this.bt}},{key:"Ct",get:function(){return this.St}},{key:"xt",value:function(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}},{key:"Nt",value:function(){var e=tw(),t=tw(),n=tw();return this.vt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ky()}})),new aw(this.Pt,this.Vt,e,t,n)}},{key:"kt",value:function(){this.St=!1,this.vt=dw()}},{key:"Ot",value:function(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}},{key:"Mt",value:function(e){this.St=!0,this.vt=this.vt.remove(e)}},{key:"Ft",value:function(){this.bt+=1}},{key:"$t",value:function(){this.bt-=1}},{key:"Bt",value:function(){this.St=!0,this.Vt=!0}}]),e}(),lw=function(){function e(t){h(this,e),this.Lt=t,this.qt=new Map,this.Ut=Gb(),this.Kt=fw(),this.Gt=new Ck(Ly)}return y(e,[{key:"Qt",value:function(e){var t,n=C(e.Et);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.At&&e.At.isFoundDocument()?this.jt(r,e.At):this.zt(r,e.key,e.At)}}catch(u){n.e(u)}finally{n.f()}var i,a=C(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.zt(o,e.key,e.At)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Ht(n);switch(e.state){case 0:t.Jt(n)&&r.xt(e.resumeToken);break;case 1:r.$t(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.$t(),r.Dt||t.removeTarget(n);break;case 3:t.Jt(n)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:t.Jt(n)&&(t.Yt(n),r.xt(e.resumeToken));break;default:ky()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((function(e,r){n.Jt(r)&&t(r)}))}},{key:"Zt",value:function(e){var t=e.targetId,n=e.Rt.count,r=this.Xt(t);if(r){var i=r.target;if(Vk(i))if(0===n){var a=new Ky(i.path);this.zt(t,a,Pk.newNoDocument(a,Vy.min()))}else by(1===n);else this.te(t)!==n&&(this.Yt(t),this.Gt=this.Gt.add(t))}}},{key:"ee",value:function(e){var t=this,n=new Map;this.qt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Vk(a.target)){var o=new Ky(a.target.path);null!==t.Ut.get(o)||t.ne(i,o)||t.zt(i,o,Pk.newNoDocument(o,e))}r.Ct&&(n.set(i,r.Nt()),r.kt())}}));var r=tw();this.Kt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new iw(e,n,this.Gt,this.Ut,r);return this.Ut=Gb(),this.Kt=fw(),this.Gt=new Ck(Ly),i}},{key:"jt",value:function(e,t){if(this.Jt(e)){var n=this.ne(e,t.key)?2:0;this.Ht(e).Ot(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}}},{key:"zt",value:function(e,t,n){if(this.Jt(e)){var r=this.Ht(e);this.ne(e,t)?r.Ot(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.qt.delete(e)}},{key:"te",value:function(e){var t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ft",value:function(e){this.Ht(e).Ft()}},{key:"Ht",value:function(e){var t=this.qt.get(e);return t||(t=new cw,this.qt.set(e,t)),t}},{key:"se",value:function(e){var t=this.Kt.get(e);return t||(t=new Ck(Ly),this.Kt=this.Kt.insert(e,t)),t}},{key:"Jt",value:function(e){var t=null!==this.Xt(e);return t||vy("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}},{key:"Yt",value:function(e){var t=this;this.qt.set(e,new cw),this.Lt.getRemoteKeysForTarget(e).forEach((function(n){t.zt(e,n,null)}))}},{key:"ne",value:function(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}]),e}();function fw(){return new _k(Ky.comparator)}function dw(){return new _k(Ky.comparator)}var hw={asc:"ASCENDING",desc:"DESCENDING"},pw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vw={and:"AND",or:"OR"},mw=y((function e(t,n){h(this,e),this.databaseId=t,this.yt=n}));function yw(e,t){return e.yt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function gw(e,t){return e.yt?t.toBase64():t.toUint8Array()}function kw(e,t){return yw(e,t.toTimestamp())}function bw(e){return by(!!e),Vy.fromTimestamp(function(e){var t=Cg(e);return new Fy(t.seconds,t.nanos)}(e))}function ww(e,t){return function(e){return new By(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function xw(e){var t=By.fromString(e);return by(Ww(t)),t}function Ew(e,t){return ww(e.databaseId,t.path)}function Iw(e,t){var n=xw(t);if(n.get(1)!==e.databaseId.projectId)throw new Ey(xy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ey(xy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ky(Cw(n))}function _w(e,t){return ww(e.databaseId,t)}function Sw(e){var t=xw(e);return 4===t.length?By.emptyPath():Cw(t)}function Tw(e){return new By(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cw(e){return by(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Nw(e,t,n){return{name:Ew(e,t),fields:n.value.mapValue.fields}}function Aw(e,t,n){var r=Iw(e,t.name),i=bw(t.updateTime),a=t.createTime?bw(t.createTime):Vy.min(),o=new Dk({mapValue:{fields:t.fields}}),u=Pk.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Ow(e,t){return"found"in t?function(e,t){by(!!t.found),t.found.name,t.found.updateTime;var n=Iw(e,t.found.name),r=bw(t.found.updateTime),i=t.found.createTime?bw(t.found.createTime):Vy.min(),a=new Dk({mapValue:{fields:t.found.fields}});return Pk.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){by(!!t.missing),by(!!t.readTime);var n=Iw(e,t.missing),r=bw(t.readTime);return Pk.newNoDocument(n,r)}(e,t):ky()}function Dw(e,t){var n;if(t instanceof Db)n={update:Nw(e,t.key,t.value)};else if(t instanceof Vb)n={delete:Ew(e,t.key)};else if(t instanceof Rb)n={update:Nw(e,t.key,t.data),updateMask:Kw(t.fieldMask)};else{if(!(t instanceof Ub))return ky();n={verify:Ew(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof pb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof kb)return{fieldPath:t.field.canonicalString(),increment:n.It};throw ky()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:kw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ky()}(e,t.precondition)),n}function Rw(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Ib.updateTime(bw(e.updateTime)):void 0!==e.exists?Ib.exists(e.exists):Ib.none()}(t.currentDocument):Ib.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)by("REQUEST_TIME"===t.setToServerValue),n=new pb;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new vb(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new yb(i)}else"increment"in t?n=new kb(e,t.increment):ky();var a=zy.fromServerFormat(t.fieldPath);return new xb(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Iw(e,t.update.name),a=new Dk({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ok(t.map((function(e){return zy.fromServerFormat(e)})))}(t.updateMask);return new Rb(i,a,o,n,r)}return new Db(i,a,n,r)}if(t.delete){var u=Iw(e,t.delete);return new Vb(u,n)}if(t.verify){var s=Iw(e,t.verify);return new Ub(s,n)}return ky()}function Pw(e,t){return{documents:[_w(e,t.path)]}}function Lw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=_w(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=_w(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return zw(ok.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Bw(e.field),direction:Fw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.yt||xg(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function jw(e){var t=Sw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){by(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Mw(e);return t instanceof ok&&ck(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Ek(qw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return xg(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new tk(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new tk(n,t)}(n.endAt)),Kk(t,i,u,o,s,"F",c,l)}function Mw(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=qw(e.unaryFilter.field);return ak.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=qw(e.unaryFilter.field);return ak.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=qw(e.unaryFilter.field);return ak.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=qw(e.unaryFilter.field);return ak.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ky()}}(e):void 0!==e.fieldFilter?function(e){return ak.create(qw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ky()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ok.create(e.compositeFilter.filters.map((function(e){return Mw(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ky()}}(e.compositeFilter.op))}(e):ky()}function Fw(e){return hw[e]}function Vw(e){return pw[e]}function Uw(e){return vw[e]}function Bw(e){return{fieldPath:e.canonicalString()}}function qw(e){return zy.fromServerFormat(e.fieldPath)}function zw(e){return e instanceof ak?function(e){if("=="===e.op){if(Hg(e.value))return{unaryFilter:{field:Bw(e.field),op:"IS_NAN"}};if(Gg(e.value))return{unaryFilter:{field:Bw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Hg(e.value))return{unaryFilter:{field:Bw(e.field),op:"IS_NOT_NAN"}};if(Gg(e.value))return{unaryFilter:{field:Bw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bw(e.field),op:Vw(e.op),value:e.value}}}(e):e instanceof ok?function(e){var t=e.getFilters().map((function(e){return zw(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Uw(e.op),filters:t}}}(e):ky()}function Kw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ww(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Gw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Qw(t)),t=Hw(e.get(n),t);return Qw(t)}function Hw(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Qw(e){return e+"\x01\x01"}function Xw(e){var t=e.length;if(by(t>=2),2===t)return by("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),By.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ky(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ky()}a=o+2}return new By(r)}var Yw=["userId","batchId"];function Jw(e,t){return[e,Gw(t)]}function $w(e,t,n){return[e,Gw(t),n]}var Zw={},ex=["prefixPath","collectionGroup","readTime","documentId"],tx=["prefixPath","collectionGroup","documentId"],nx=["collectionGroup","readTime","prefixPath","documentId"],rx=["canonicalId","targetId"],ix=["targetId","path"],ax=["path","targetId"],ox=["collectionId","parent"],ux=["indexId","uid"],sx=["uid","sequenceNumber"],cx=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lx=["indexId","uid","orderedDocumentKey"],fx=["userId","collectionPath","documentId"],dx=["userId","collectionPath","largestBatchId"],hx=["userId","collectionGroup","largestBatchId"],px=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),vx=[].concat(d(px),["documentOverlays"]),mx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yx=mx,gx=[].concat(yx,["indexConfiguration","indexState","indexEntries"]),kx=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).re=e,i.currentSequenceNumber=r,i}return y(n)}(tg);function bx(e,t){var n=wy(e);return og.M(n.re,t)}var wx=function(){function e(t,n,r,i){h(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return y(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Cb(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=C(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Nb(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=C(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Nb(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Jb();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Tb(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Vy.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),tw())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&jy(this.mutations,e.mutations,(function(e,t){return Ob(e,t)}))&&jy(this.baseMutations,e.baseMutations,(function(e,t){return Ob(e,t)}))}}]),e}(),xx=function(){function e(t,n,r,i){h(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return y(e,null,[{key:"from",value:function(t,n,r){by(t.mutations.length===r.length);for(var i=Zb,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Ex=function(){function e(t,n){h(this,e),this.largestBatchId=t,this.mutation=n}return y(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Ix=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vy.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Vy.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Sg.EMPTY_BYTE_STRING;h(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return y(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),_x=y((function e(t){h(this,e),this.oe=t}));function Sx(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Tx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Ew(e,t.key),fields:t.data.value.mapValue.fields,updateTime:yw(e,t.version.toTimestamp()),createTime:yw(e,t.createTime.toTimestamp())}}(e.oe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Cx(t.version)};else{if(!t.isUnknownDocument())return ky();r.unknownDocument={path:n.path.toArray(),version:Cx(t.version)}}return r}function Tx(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Cx(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Nx(e){var t=new Fy(e.seconds,e.nanoseconds);return Vy.fromTimestamp(t)}function Ax(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Rw(e.oe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Rw(e.oe,t)})),u=Fy.fromMillis(t.localWriteTimeMs);return new wx(t.batchId,u,n,o)}function Ox(e){var t,n,r=Nx(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Nx(e.lastLimboFreeSnapshotVersion):Vy.min();return void 0!==e.query.documents?(by(1===(n=e.query).documents.length),t=Jk(Wk(Sw(n.documents[0])))):t=function(e){return Jk(jw(e))}(e.query),new Ix(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Sg.fromBase64String(e.resumeToken))}function Dx(e,t){var n,r=Cx(t.snapshotVersion),i=Cx(t.lastLimboFreeSnapshotVersion);n=Vk(t.target)?Pw(e.oe,t.target):Lw(e.oe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Mk(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Rx(e){var t=jw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Zk(t,t.limit,"L"):t}function Px(e,t){return new Ex(t.largestBatchId,Rw(e.oe,t.overlayMutation))}function Lx(e,t){var n=t.path.lastSegment();return[e,Gw(t.path.popLast()),n]}function jx(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Cx(r.readTime),documentKey:Gw(r.documentKey.path),largestBatchId:r.largestBatchId}}var Mx=function(){function e(){h(this,e)}return y(e,[{key:"getBundleMetadata",value:function(e,t){return Fx(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Nx(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Fx(e).put({bundleId:(n=t).id,createTime:Cx(bw(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Vx(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Rx(t.bundledQuery),readTime:Nx(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Vx(e).put(function(e){return{name:e.name,readTime:Cx(bw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Fx(e){return bx(e,"bundles")}function Vx(e){return bx(e,"namedQueries")}var Ux=function(){function e(t,n){h(this,e),this.Tt=t,this.userId=n}return y(e,[{key:"getOverlay",value:function(e,t){var n=this;return Bx(e).get(Lx(this.userId,t)).next((function(e){return e?Px(n.Tt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Yb();return ig.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Ex(t,a);i.push(r.ce(e,o))})),ig.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Gw(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Bx(e).Y("collectionPathOverlayIndex",i))})),ig.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Yb(),a=Gw(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Bx(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Px(r.Tt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Yb(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Bx(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Px(a.Tt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ce",value:function(e,t){return Bx(e).put(function(e,t,n){var r=l(Lx(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Dw(e.oe,n.mutation)}}(this.Tt,this.userId,t))}}],[{key:"ue",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Bx(e){return bx(e,"documentOverlays")}var qx=function(){function e(){h(this,e)}return y(e,[{key:"ae",value:function(e,t){this.he(e,t),t.le()}},{key:"he",value:function(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Ng(e.integerValue));else if("doubleValue"in e){var n=Ng(e.doubleValue);isNaN(n)?this.fe(t,13):(this.fe(t,15),Eg(n)?t.de(0):t.de(n))}else if("timestampValue"in e){var r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e("".concat(r.seconds||"")),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(Ag(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?Yg(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):ky()}},{key:"we",value:function(e,t){this.fe(t,25),this.Te(e,t)}},{key:"Te",value:function(e,t){t._e(e)}},{key:"pe",value:function(e,t){var n=e.fields||{};this.fe(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.we(a,t),this.he(n[a],t)}}},{key:"Ie",value:function(e,t){var n=e.values||[];this.fe(t,50);var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.he(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ye",value:function(e,t){var n=this;this.fe(t,37),Ky.fromName(e).path.forEach((function(e){n.fe(t,60),n.Te(e,t)}))}},{key:"fe",value:function(e,t){e.de(t)}},{key:"me",value:function(e){e.de(2)}}]),e}();function zx(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Kx(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=zx(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}qx.Ee=new qx;var Wx=function(){function e(){h(this,e),this.buffer=new Uint8Array(1024),this.position=0}return y(e,[{key:"Ae",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Re(n.value),n=t.next();this.be()}},{key:"ve",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.Ve()}},{key:"Se",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{var a=r.codePointAt(0);this.Re(240|a>>>18),this.Re(128|63&a>>>12),this.Re(128|63&a>>>6),this.Re(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.be()}},{key:"De",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ve()}},{key:"Ce",value:function(e){var t=this.xe(e),n=Kx(t);this.Ne(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"ke",value:function(e){var t=this.xe(e),n=Kx(t);this.Ne(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"Fe",value:function(){this.$e(255),this.$e(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Be",value:function(){return this.buffer.slice(0,this.position)}},{key:"xe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Re",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.$e(0),this.$e(255)):255===t?(this.$e(255),this.$e(0)):this.$e(e)}},{key:"be",value:function(){this.Me(0),this.Me(1)}},{key:"Ve",value:function(){this.$e(0),this.$e(1)}},{key:"Me",value:function(e){this.Ne(1),this.buffer[this.position++]=e}},{key:"$e",value:function(e){this.Ne(1),this.buffer[this.position++]=~e}},{key:"Ne",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Gx=function(){function e(t){h(this,e),this.Le=t}return y(e,[{key:"ge",value:function(e){this.Le.Ae(e)}},{key:"_e",value:function(e){this.Le.Se(e)}},{key:"de",value:function(e){this.Le.Ce(e)}},{key:"le",value:function(){this.Le.Oe()}}]),e}(),Hx=function(){function e(t){h(this,e),this.Le=t}return y(e,[{key:"ge",value:function(e){this.Le.ve(e)}},{key:"_e",value:function(e){this.Le.De(e)}},{key:"de",value:function(e){this.Le.ke(e)}},{key:"le",value:function(){this.Le.Fe()}}]),e}(),Qx=function(){function e(){h(this,e),this.Le=new Wx,this.qe=new Gx(this.Le),this.Ue=new Hx(this.Le)}return y(e,[{key:"seed",value:function(e){this.Le.seed(e)}},{key:"Ke",value:function(e){return 0===e?this.qe:this.Ue}},{key:"Be",value:function(){return this.Le.Be()}},{key:"reset",value:function(){this.Le.reset()}}]),e}(),Xx=function(){function e(t,n,r,i){h(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return y(e,[{key:"Ge",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Yx(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Jx(e.arrayValue,t.arrayValue))?n:0!==(n=Jx(e.directionalValue,t.directionalValue))?n:Ky.comparator(e.documentKey,t.documentKey)}function Jx(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var $x=function(){function e(t){h(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Qe=t.orderBy,this.je=[];var n,r=C(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.ze=i:this.je.push(i)}}catch(a){r.e(a)}finally{r.f()}}return y(e,[{key:"We",value:function(e){by(e.collectionGroup===this.collectionId);var t=Gy(e);if(void 0!==t&&!this.He(t))return!1;for(var n=Hy(e),r=0,i=0;r<n.length&&this.He(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.ze){var a=n[r];if(!this.Je(this.ze,a)||!this.Ye(this.Qe[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Qe.length||!this.Ye(this.Qe[i++],o))return!1}return!0}},{key:"He",value:function(e){var t,n=C(this.je);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ye",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Zx(e){var t,n;if(by(e instanceof ak||e instanceof ok),e instanceof ak){if(e instanceof bk){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return ak.create(e.field,"==",t)})))||[];return ok.create(r,"or")}return e}var i=e.filters.map((function(e){return Zx(e)}));return ok.create(i,e.op)}function eE(e){if(0===e.getFilters().length)return[];var t=iE(Zx(e));return by(rE(t)),tE(t)||nE(t)?[t]:t.getFilters()}function tE(e){return e instanceof ak}function nE(e){return e instanceof ok&&ck(e)}function rE(e){return tE(e)||nE(e)||function(e){if(e instanceof ok&&sk(e)){var t,n=C(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!tE(r)&&!nE(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function iE(e){if(by(e instanceof ak||e instanceof ok),e instanceof ak)return e;if(1===e.filters.length)return iE(e.filters[0]);var t=e.filters.map((function(e){return iE(e)})),n=ok.create(t,e.op);return rE(n=uE(n))?n:(by(n instanceof ok),by(uk(n)),by(n.filters.length>1),n.filters.reduce((function(e,t){return aE(e,t)})))}function aE(e,t){var n;return by(e instanceof ak||e instanceof ok),by(t instanceof ak||t instanceof ok),n=e instanceof ak?t instanceof ak?function(e,t){return ok.create([e,t],"and")}(e,t):oE(e,t):t instanceof ak?oE(t,e):function(e,t){if(by(e.filters.length>0&&t.filters.length>0),uk(e)&&uk(t))return hk(e,t.getFilters());var n=sk(e)?e:t,r=sk(e)?t:e,i=n.filters.map((function(e){return aE(e,r)}));return ok.create(i,"or")}(e,t),uE(n)}function oE(e,t){if(uk(t))return hk(t,e.getFilters());var n=t.filters.map((function(t){return aE(e,t)}));return ok.create(n,"or")}function uE(e){if(by(e instanceof ak||e instanceof ok),e instanceof ak)return e;var t=e.getFilters();if(1===t.length)return uE(t[0]);if(lk(e))return e;var n=t.map((function(e){return uE(e)})),r=[];return n.forEach((function(t){t instanceof ak?r.push(t):t instanceof ok&&(t.op===e.op?r.push.apply(r,d(t.filters)):r.push(t))})),1===r.length?r[0]:ok.create(r,e.op)}var sE=function(){function e(){h(this,e),this.Ze=new cE}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ze.add(t),ig.resolve()}},{key:"getCollectionParents",value:function(e,t){return ig.resolve(this.Ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ig.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ig.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ig.resolve(null)}},{key:"getIndexType",value:function(e,t){return ig.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ig.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ig.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ig.resolve($y.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ig.resolve($y.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ig.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ig.resolve()}}]),e}(),cE=function(){function e(){h(this,e),this.index={}}return y(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ck(By.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ck(By.comparator)).toArray()}}]),e}(),lE=new Uint8Array(0),fE=function(){function e(t,n){h(this,e),this.user=t,this.databaseId=n,this.Xe=new cE,this.tn=new Kb((function(e){return Mk(e)}),(function(e,t){return Fk(e,t)})),this.uid=t.uid||""}return y(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:Gw(i)};return dE(e).put(a)}return ig.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[My(t),""],!1,!0);return dE(e).W(r).next((function(e){var r,i=C(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Xw(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=pE(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=vE(e);return a.next((function(e){o.put(jx(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=pE(e),r=vE(e),i=hE(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=hE(e),i=!0,a=new Map;return ig.forEach(this.en(t),(function(t){return n.nn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=tw(),o=[];return ig.forEach(a,(function(i,a){var u;vy("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Mk(t)));var s=function(e,t){var n=Gy(t);if(void 0===n)return null;var r,i=C(Uk(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=C(Hy(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=C(Uk(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=C(Hy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Bk(e,o.fieldPath,e.startAt):qk(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new tk(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=C(Hy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?qk(e,o.fieldPath,e.endAt):Bk(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new tk(r,i)}(a,i),d=n.sn(i,a,l),h=n.sn(i,a,f),p=n.rn(i,a,c),v=n.on(i.indexId,s,d,l.inclusive,h,f.inclusive,p);return ig.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Ky.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ig.resolve(null)}))}},{key:"en",value:function(e){var t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:eE(ok.create(e.filters,"and")).map((function(t){return jk(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.tn.set(e,t),t)}},{key:"on",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.un(t[s/c]):lE,h=u.cn(e,f,n[s%c],r),p=u.an(e,f,i[s%c],a),v=o.map((function(t){return u.cn(e,f,t,!0)}));l.push.apply(l,d(u.createRange(h,p,v)))},h=0;h<s;++h)f(h);return l}},{key:"cn",value:function(e,t,n,r){var i=new Xx(e,Ky.empty(),t,n);return r?i:i.Ge()}},{key:"an",value:function(e,t,n,r){var i=new Xx(e,Ky.empty(),t,n);return r?i.Ge():i}},{key:"nn",value:function(e,t){var n=new $x(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.en(t);return ig.forEach(i,(function(t){return n.nn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Ck(zy.comparator),r=!1,i=C(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=C(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=C(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"hn",value:function(e,t){var n,r=new Qx,i=C(Hy(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ke(a.kind);qx.Ee.ae(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Be()}},{key:"un",value:function(e){var t=new Qx;return qx.Ee.ae(e,t.Ke(0)),t.Be()}},{key:"ln",value:function(e,t){var n=new Qx;return qx.Ee.ae(zg(this.databaseId,t),n.Ke(function(e){var t=Hy(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Be()}},{key:"rn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Qx);var i,a=0,o=C(Hy(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=C(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.fn(t,s.fieldPath)&&Wg(c))r=this.dn(r,s,c);else{var d=f.Ke(s.kind);qx.Ee.ae(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this._n(r)}},{key:"sn",value:function(e,t,n){return this.rn(e,t,n.position)}},{key:"_n",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Be();return t}},{key:"dn",value:function(e,t,n){var r,i=d(e),a=[],o=C(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=C(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Qx;f.seed(l.Be()),qx.Ee.ae(s,f.Ke(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"fn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof ak&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=pE(e),i=vE(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return ig.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Xy(t.sequenceNumber,new $y(Nx(t.readTime),new Ky(Xw(t.documentKey)),t.largestBatchId)):Xy.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new Qy(zy.fromServerFormat(n),r)}));return new Wy(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ly(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=pE(e),a=vE(e);return this.wn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ig.forEach(t,(function(t){return a.put(jx(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ig.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ig.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ig.forEach(a,(function(r){return n.mn(e,t,r).next((function(t){var a=n.gn(i,r);return t.isEqual(a)?ig.resolve():n.yn(e,i,r,t,a)}))}))}))}))}},{key:"pn",value:function(e,t,n,r){return hE(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.ln(n,t.key),documentKey:t.key.path.toArray()})}},{key:"In",value:function(e,t,n,r){return hE(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.ln(n,t.key),t.key.path.toArray()])}},{key:"mn",value:function(e,t,n){var r=hE(e),i=new Ck(Yx);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.ln(n,t)])},(function(e,r){i=i.add(new Xx(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"gn",value:function(e,t){var n=new Ck(Yx),r=this.hn(t,e);if(null==r)return n;var i=Gy(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Wg(a)){var o,u=C(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Xx(t.indexId,e.key,this.un(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Xx(t.indexId,e.key,lE,r));return n}},{key:"yn",value:function(e,t,n,r,i){var a=this;vy("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Ak(a),s=Ak(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Ak(o)):l?(i(u),u=Ak(a)):(u=Ak(a),s=Ak(o))}}(r,i,Yx,(function(r){o.push(a.pn(e,t,n,r))}),(function(r){o.push(a.In(e,t,n,r))})),ig.waitFor(o)}},{key:"wn",value:function(e){var t=1;return vE(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Yx(e,t)})).filter((function(e,t,n){return!t||0!==Yx(e,n[t-1])}));var r=[];r.push(e);var i,a=C(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Yx(o,e),s=Yx(o,t);if(0===u)r[0]=e.Ge();else if(u>0&&s<0)r.push(o),r.push(o.Ge());else if(s>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Tn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,lE,[]],d=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,lE,[]];c.push(IDBKeyRange.bound(f,d))}return c}},{key:"Tn",value:function(e,t){return Yx(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(mE)}},{key:"getMinOffset",value:function(e,t){var n=this;return ig.mapArray(this.en(t),(function(t){return n.nn(e,t).next((function(e){return e||ky()}))})).next(mE)}}]),e}();function dE(e){return bx(e,"collectionParents")}function hE(e){return bx(e,"indexEntries")}function pE(e){return bx(e,"indexConfiguration")}function vE(e){return bx(e,"indexState")}function mE(e){by(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Zy(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new $y(t.readTime,t.documentKey,n)}var yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gE=function(){function e(t,n,r){h(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return y(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function kE(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){by(1===u)})));var c,l=[],f=C(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=$w(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return ig.waitFor(a).next((function(){return l}))}function bE(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ky();t=e.noDocument}return JSON.stringify(t).length}gE.DEFAULT_COLLECTION_PERCENTILE=10,gE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gE.DEFAULT=new gE(41943040,gE.DEFAULT_COLLECTION_PERCENTILE,gE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gE.DISABLED=new gE(-1,0,0);var wE=function(){function e(t,n,r,i){h(this,e),this.userId=t,this.Tt=n,this.indexManager=r,this.referenceDelegate=i,this.En={}}return y(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return EE(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=IE(e),o=EE(e);return o.add({}).next((function(u){by("number"==typeof u);var s,c=new wx(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Dw(e.oe,t)})),i=n.mutations.map((function(t){return Dw(e.oe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.Tt,i.userId,c),f=[],d=new Ck((function(e,t){return Ly(e.canonicalString(),t.canonicalString())})),h=C(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=$w(i.userId,p.key.path,u);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Zw))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.En[u]=c.keys()})),ig.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return EE(e).get(t).next((function(e){return e?(by(e.userId===n.userId),Ax(n.Tt,e)):null}))}},{key:"An",value:function(e,t){var n=this;return this.En[t]?ig.resolve(this.En[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.En[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return EE(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(by(t.batchId>=r),a=Ax(n.Tt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return EE(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return EE(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ax(t.Tt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Jw(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return IE(e).X({range:i},(function(r,i,o){var u=l(r,3),s=u[0],c=u[1],f=u[2],d=Xw(c);if(s===n.userId&&t.path.isEqual(d))return EE(e).get(f).next((function(e){if(!e)throw ky();by(e.userId===n.userId),a.push(Ax(n.Tt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ck(Ly),i=[];return t.forEach((function(t){var a=Jw(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=IE(e).X({range:o},(function(e,i,a){var o=l(e,3),u=o[0],s=o[1],c=o[2],f=Xw(s);u===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(u)})),ig.waitFor(i).next((function(){return n.Rn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Jw(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Ck(Ly);return IE(e).X({range:o},(function(e,t,a){var o=l(e,3),s=o[0],c=o[1],f=o[2],d=Xw(c);s===n.userId&&r.isPrefixOf(d)?d.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.Rn(e,u)}))}},{key:"Rn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(EE(e).get(t).next((function(e){if(null===e)throw ky();by(e.userId===n.userId),r.push(Ax(n.Tt,e))})))})),ig.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return kE(e.re,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.bn(t.batchId)})),ig.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"bn",value:function(e){delete this.En[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ig.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return IE(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Xw(e[1]);i.push(a)}else r.done()})).next((function(){by(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return xE(e,this.userId,t)}},{key:"vn",value:function(e){var t=this;return _E(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"ue",value:function(t,n,r,i){return by(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function xE(e,t,n){var r=Jw(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return IE(e).X({range:a,Z:!0},(function(e,n,r){var a=l(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function EE(e){return bx(e,"mutations")}function IE(e){return bx(e,"documentMutations")}function _E(e){return bx(e,"mutationQueues")}var SE=function(){function e(t){h(this,e),this.Pn=t}return y(e,[{key:"next",value:function(){return this.Pn+=2,this.Pn}}],[{key:"Vn",value:function(){return new e(0)}},{key:"Sn",value:function(){return new e(-1)}}]),e}(),TE=function(){function e(t,n){h(this,e),this.referenceDelegate=t,this.Tt=n}return y(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Dn(e).next((function(n){var r=new SE(n.highestTargetId);return n.highestTargetId=r.next(),t.Cn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Dn(e).next((function(e){return Vy.fromTimestamp(new Fy(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Dn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Dn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Cn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.xn(e,t).next((function(){return n.Dn(e).next((function(r){return r.targetCount+=1,n.Nn(t,r),n.Cn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.xn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return CE(e).delete(t.targetId)})).next((function(){return n.Dn(e)})).next((function(t){return by(t.targetCount>0),t.targetCount-=1,n.Cn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return CE(e).X((function(o,u){var s=Ox(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ig.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return CE(e).X((function(e,n){var r=Ox(n);t(r)}))}},{key:"Dn",value:function(e){return NE(e).get("targetGlobalKey").next((function(e){return by(null!==e),e}))}},{key:"Cn",value:function(e,t){return NE(e).put("targetGlobalKey",t)}},{key:"xn",value:function(e,t){return CE(e).put(Dx(this.Tt,t))}},{key:"Nn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Dn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Mk(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return CE(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Ox(n);Fk(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=AE(e);return t.forEach((function(t){var o=Gw(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ig.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=AE(e);return ig.forEach(t,(function(t){var a=Gw(t.path);return ig.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=AE(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=AE(e),i=tw();return r.X({range:n,Z:!0},(function(e,t,n){var r=Xw(e[1]),a=new Ky(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Gw(t.path),r=IDBKeyRange.bound([n],[My(n)],!1,!0),i=0;return AE(e).X({index:"documentTargetsIndex",Z:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ie",value:function(e,t){return CE(e).get(t).next((function(e){return e?Ox(e):null}))}}]),e}();function CE(e){return bx(e,"targets")}function NE(e){return bx(e,"targetGlobal")}function AE(e){return bx(e,"targetDocuments")}function OE(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],u=a[1],s=Ly(r,o);return 0===s?Ly(i,u):s}var DE=function(){function e(t){h(this,e),this.kn=t,this.buffer=new Ck(OE),this.On=0}return y(e,[{key:"Mn",value:function(){return++this.On}},{key:"Fn",value:function(e){var t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();OE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),RE=function(){function e(t,n,r){h(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.$n=null}return y(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}},{key:"stop",value:function(){this.$n&&(this.$n.cancel(),this.$n=null)}},{key:"started",get:function(){return null!==this.$n}},{key:"Bn",value:function(e){var t=this;vy("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.$n=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$n=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!cg(e.t0)){e.next=12;break}vy("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,ng(e.t0);case 14:return e.next=16,t.Bn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),PE=function(){function e(t,n){h(this,e),this.Ln=t,this.params=n}return y(e,[{key:"calculateTargetCount",value:function(e,t){return this.Ln.qn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ig.resolve(mg.at);var r=new DE(t);return this.Ln.forEachTarget(e,(function(e){return r.Fn(e.sequenceNumber)})).next((function(){return n.Ln.Un(e,(function(e){return r.Fn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Ln.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Ln.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(vy("LruGarbageCollector","Garbage collection skipped; disabled"),ig.resolve(yE)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(vy("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),yE):n.Kn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Ln.getCacheSize(e)}},{key:"Kn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(vy("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),py()<=Ii.DEBUG&&vy("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ig.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),LE=function(){function e(t,n){h(this,e),this.db=t,this.garbageCollector=function(e,t){return new PE(e,t)}(this,n)}return y(e,[{key:"qn",value:function(e){var t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Gn",value:function(e){var t=0;return this.Un(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Un",value:function(e,t){return this.Qn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return jE(e,n)}},{key:"removeReference",value:function(e,t,n){return jE(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return jE(e,t)}},{key:"jn",value:function(e,t){return function(e,t){var n=!1;return _E(e).tt((function(r){return xE(e,r,t).next((function(e){return e&&(n=!0),ig.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Qn(e,(function(o,u){if(u<=t){var s=n.jn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Vy.min()),AE(e).delete([0,Gw(o.path)])}))}));i.push(s)}})).next((function(){return ig.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return jE(e,t)}},{key:"Qn",value:function(e,t){var n,r=AE(e),i=mg.at;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==mg.at&&t(new Ky(Xw(n)),i),i=s,n=u):i=mg.at})).next((function(){i!==mg.at&&t(new Ky(Xw(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function jE(e,t){return AE(e).put(function(e,t){return{targetId:0,path:Gw(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var ME=function(){function e(){h(this,e),this.changes=new Kb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return y(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Pk.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ig.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),FE=function(){function e(t){h(this,e),this.Tt=t}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return qE(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return qE(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Tx(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Pk.newInvalidDocument(t);return qE(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zE(t))},(function(e,i){r=n.Wn(t,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r={size:0,document:Pk.newInvalidDocument(t)};return qE(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zE(t))},(function(e,i){r={document:n.Wn(t,i),size:bE(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Gb();return this.Jn(e,t,(function(e,t){var i=n.Wn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Yn",value:function(e,t){var n=this,r=Gb(),i=new _k(Ky.comparator);return this.Jn(e,t,(function(e,t){var a=n.Wn(e,t);r=r.insert(e,a),i=i.insert(e,bE(t))})).next((function(){return{documents:r,Zn:i}}))}},{key:"Jn",value:function(e,t,n){if(t.isEmpty())return ig.resolve();var r=new Ck(WE);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(zE(r.first()),zE(r.last())),a=r.getIterator(),o=a.getNext();return qE(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Ky.fromSegments([].concat(d(t.prefixPath),[t.collectionGroup,t.documentId]));o&&WE(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(zE(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Tx(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qE(e).W(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=Gb(),o=C(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.Wn(Ky.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(rb(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Gb(),o=KE(t,n),u=KE(t,$y.max());return qE(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Wn(Ky.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new UE(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return BE(e).get("remoteDocumentGlobalKey").next((function(e){return by(!!e),e}))}},{key:"zn",value:function(e,t){return BE(e).put("remoteDocumentGlobalKey",t)}},{key:"Wn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Aw(e.oe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Ky.fromSegments(t.noDocument.path),i=Nx(t.noDocument.readTime);n=Pk.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ky();var a=Ky.fromSegments(t.unknownDocument.path),o=Nx(t.unknownDocument.version);n=Pk.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Fy(e[0],e[1]);return Vy.fromTimestamp(t)}(t.readTime)),n}(this.Tt,t);if(!n.isNoDocument()||!n.version.isEqual(Vy.min()))return n}return Pk.newInvalidDocument(e)}}]),e}();function VE(e){return new FE(e)}var UE=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).Xn=e,i.trackRemovals=r,i.ts=new Kb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ck((function(e,t){return Ly(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.ts.get(a);if(n.push(t.Xn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Sx(t.Xn.Tt,o);i=i.add(a.path.popLast());var c=bE(s);r+=c-u.size,n.push(t.Xn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Sx(t.Xn.Tt,o.convertToNoDocument(Vy.min()));n.push(t.Xn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Xn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Xn.updateMetadata(e,r)),ig.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Xn.Hn(e,t).next((function(e){return n.ts.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Xn.Yn(e,t).next((function(e){var t=e.documents;return e.Zn.forEach((function(e,r){n.ts.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(ME);function BE(e){return bx(e,"remoteDocumentGlobal")}function qE(e){return bx(e,"remoteDocumentsV14")}function zE(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function KE(e,t){var n=t.documentKey.path.toArray();return[e,Tx(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function WE(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Ly(n[a],r[a]))return i;return(i=Ly(n.length,r.length))||((i=Ly(n[n.length-2],r[r.length-2]))||Ly(n[n.length-1],r[r.length-1]))}var GE=y((function e(t,n){h(this,e),this.overlayedDocument=t,this.mutatedFields=n})),HE=function(){function e(t,n,r,i){h(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return y(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Nb(r.mutation,e,Ok.empty(),Fy.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,tw()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tw(),i=Yb();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Qb();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Yb();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,tw())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Gb(),a=$b(),o=$b();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Rb)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Nb(o.mutation,t,o.mutation.getFieldMask(),Fy.now())):a.set(t.key,Ok.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new GE(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=$b(),i=new _k((function(e,t){return e-t})),a=tw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=C(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Ok.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||tw()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Jb();c.forEach((function(e){if(!a.has(e)){var n=Tb(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return ig.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Ky.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Xk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ig.resolve(Yb()),u=-1,s=a;return o.next((function(t){return ig.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?ig.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,tw())})).next((function(e){return{batchId:u,changes:Xb(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Ky(t)).next((function(e){var t=Qb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Qb();return this.indexManager.getCollectionParents(e,i).next((function(o){return ig.forEach(o,(function(o){var u=function(e,t){return new zk(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Pk.newInvalidDocument(r)))}));var n=Qb();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Nb(a.mutation,i,Ok.empty(),Fy.now()),rb(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),QE=function(){function e(t){h(this,e),this.Tt=t,this.es=new Map,this.ns=new Map}return y(e,[{key:"getBundleMetadata",value:function(e,t){return ig.resolve(this.es.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.es.set(t.id,{id:(n=t).id,version:n.version,createTime:bw(n.createTime)}),ig.resolve()}},{key:"getNamedQuery",value:function(e,t){return ig.resolve(this.ns.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ns.set(t.name,function(e){return{name:e.name,query:Rx(e.bundledQuery),readTime:bw(e.readTime)}}(t)),ig.resolve()}}]),e}(),XE=function(){function e(){h(this,e),this.overlays=new _k(Ky.comparator),this.ss=new Map}return y(e,[{key:"getOverlay",value:function(e,t){return ig.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Yb();return ig.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ce(e,t,i)})),ig.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ss.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ss.delete(n)),ig.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Yb(),i=t.length+1,a=new Ky(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ig.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new _k((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Yb(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Yb(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ig.resolve(s)}},{key:"ce",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ss.get(r.largestBatchId).delete(n.key);this.ss.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Ex(t,n));var a=this.ss.get(t);void 0===a&&(a=tw(),this.ss.set(t,a)),this.ss.set(t,a.add(n.key))}}]),e}(),YE=function(){function e(){h(this,e),this.rs=new Ck(JE.os),this.us=new Ck(JE.cs)}return y(e,[{key:"isEmpty",value:function(){return this.rs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new JE(e,t);this.rs=this.rs.add(n),this.us=this.us.add(n)}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ls(new JE(e,t))}},{key:"fs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ds",value:function(e){var t=this,n=new Ky(new By([])),r=new JE(n,e),i=new JE(n,e+1),a=[];return this.us.forEachInRange([r,i],(function(e){t.ls(e),a.push(e.key)})),a}},{key:"_s",value:function(){var e=this;this.rs.forEach((function(t){return e.ls(t)}))}},{key:"ls",value:function(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}},{key:"ws",value:function(e){var t=new Ky(new By([])),n=new JE(t,e),r=new JE(t,e+1),i=tw();return this.us.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new JE(e,0),n=this.rs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),JE=function(){function e(t,n){h(this,e),this.key=t,this.gs=n}return y(e,null,[{key:"os",value:function(e,t){return Ky.comparator(e.key,t.key)||Ly(e.gs,t.gs)}},{key:"cs",value:function(e,t){return Ly(e.gs,t.gs)||Ky.comparator(e.key,t.key)}}]),e}(),$E=function(){function e(t,n){h(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new Ck(JE.os)}return y(e,[{key:"checkEmpty",value:function(e){return ig.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new wx(i,t,n,r);this.mutationQueue.push(a);var o,u=C(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ps=this.ps.add(new JE(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ig.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ig.resolve(this.Is(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ts(n),i=r<0?0:r;return ig.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ig.resolve(0===this.mutationQueue.length?-1:this.ys-1)}},{key:"getAllMutationBatches",value:function(e){return ig.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new JE(t,0),i=new JE(t,Number.POSITIVE_INFINITY),a=[];return this.ps.forEachInRange([r,i],(function(e){var t=n.Is(e.gs);a.push(t)})),ig.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ck(Ly);return t.forEach((function(e){var t=new JE(e,0),i=new JE(e,Number.POSITIVE_INFINITY);n.ps.forEachInRange([t,i],(function(e){r=r.add(e.gs)}))})),ig.resolve(this.Es(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ky.isDocumentKey(i)||(i=i.child(""));var a=new JE(new Ky(i),0),o=new Ck(Ly);return this.ps.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gs)),!0)}),a),ig.resolve(this.Es(o))}},{key:"Es",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Is(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;by(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ps;return ig.forEach(t.mutations,(function(i){var a=new JE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ps=r}))}},{key:"bn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new JE(t,0),r=this.ps.firstAfterOrEqual(n);return ig.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ig.resolve()}},{key:"As",value:function(e,t){return this.Ts(e)}},{key:"Ts",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Is",value:function(e){var t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),ZE=function(){function e(t){h(this,e),this.Rs=t,this.docs=new _k(Ky.comparator),this.size=0}return y(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Rs(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ig.resolve(n?n.document.mutableCopy():Pk.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Gb();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Pk.newInvalidDocument(e))})),ig.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Gb(),a=t.path,o=new Ky(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Zy(Jy(l),n)<=0||(r.has(l.key)||rb(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return ig.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ky()}},{key:"bs",value:function(e,t){return ig.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new eI(this)}},{key:"getSize",value:function(e){return ig.resolve(this.size)}}]),e}(),eI=function(e){k(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this)).Xn=e,r}return y(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Xn.addEntry(e,i)):t.Xn.removeEntry(r)})),ig.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Xn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Xn.getEntries(e,t)}}]),n}(ME),tI=function(){function e(t){h(this,e),this.persistence=t,this.vs=new Kb((function(e){return Mk(e)}),Fk),this.lastRemoteSnapshotVersion=Vy.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new YE,this.targetCount=0,this.Ss=SE.Vn()}return y(e,[{key:"forEachTarget",value:function(e,t){return this.vs.forEach((function(e,n){return t(n)})),ig.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ig.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ig.resolve(this.Ps)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ss.next(),ig.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ps&&(this.Ps=t),ig.resolve()}},{key:"xn",value:function(e){this.vs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ss=new SE(t),this.highestTargetId=t),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.xn(t),this.targetCount+=1,ig.resolve()}},{key:"updateTargetData",value:function(e,t){return this.xn(t),ig.resolve()}},{key:"removeTargetData",value:function(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,ig.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.vs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.vs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ig.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ig.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.vs.get(t)||null;return ig.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Vs.hs(t,n),ig.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Vs.fs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ig.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Vs.ds(t),ig.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Vs.ws(t);return ig.resolve(n)}},{key:"containsKey",value:function(e,t){return ig.resolve(this.Vs.containsKey(t))}}]),e}(),nI=function(){function e(t,n){var r=this;h(this,e),this.Ds={},this.overlays={},this.Cs=new mg(0),this.xs=!1,this.xs=!0,this.referenceDelegate=t(this),this.Ns=new tI(this),this.indexManager=new sE,this.remoteDocumentCache=new ZE((function(e){return r.referenceDelegate.ks(e)})),this.Tt=new _x(n),this.Os=new QE(this.Tt)}return y(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xs=!1,Promise.resolve()}},{key:"started",get:function(){return this.xs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new XE,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ds[e.toKey()];return n||(n=new $E(t,this.referenceDelegate),this.Ds[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Os}},{key:"runTransaction",value:function(e,t,n){var r=this;vy("MemoryPersistence","Starting transaction:",e);var i=new rI(this.Cs.next());return this.referenceDelegate.Ms(),n(i).next((function(e){return r.referenceDelegate.Fs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e,t){return ig.or(Object.values(this.Ds).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),rI=function(e){k(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return y(n)}(tg),iI=function(){function e(t){h(this,e),this.persistence=t,this.Bs=new YE,this.Ls=null}return y(e,[{key:"Us",get:function(){if(this.Ls)return this.Ls;throw ky()}},{key:"addReference",value:function(e,t,n){return this.Bs.addReference(n,t),this.Us.delete(n.toString()),ig.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Bs.removeReference(n,t),this.Us.add(n.toString()),ig.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Us.add(t.toString()),ig.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Bs.ds(t.targetId).forEach((function(e){return n.Us.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Us.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ms",value:function(){this.Ls=new Set}},{key:"Fs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ig.forEach(this.Us,(function(r){var i=Ky.fromPath(r);return t.Ks(e,i).next((function(e){e||n.removeEntry(i,Vy.min())}))})).next((function(){return t.Ls=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ks(e,t).next((function(e){e?n.Us.delete(t.toString()):n.Us.add(t.toString())}))}},{key:"ks",value:function(e){return 0}},{key:"Ks",value:function(e,t){var n=this;return ig.or([function(){return ig.resolve(n.Bs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.$s(e,t)}])}}],[{key:"qs",value:function(t){return new e(t)}}]),e}(),aI=function(){function e(t){h(this,e),this.Tt=t}return y(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new ag("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yw,{unique:!0}),e.createObjectStore("documentMutations")}(e),oI(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ig.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),oI(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vy.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yw,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ig.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Gs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.js(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ws(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:fx});t.createIndex("collectionPathOverlayIndex",dx,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",hx,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:ex});t.createIndex("documentKeyIndex",tx),t.createIndex("collectionGroupIndex",nx)}(e)})).next((function(){return i.Hs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Js(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ux}).createIndex("sequenceNumberIndex",sx,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:cx}).createIndex("documentKeyIndex",lx,{unique:!1})}(e)}))),o}},{key:"Qs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=bE(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Gs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return ig.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return ig.forEach(r,(function(r){by(r.userId===n.userId);var i=Ax(t.Tt,r);return kE(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"js",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new By(n),o=function(e){return[0,Gw(e)]}(a);r.push(t.get(o).next((function(n){return n?ig.resolve():function(n){return t.put({targetId:0,path:Gw(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ig.waitFor(r)}))}))}},{key:"zs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ox});var n=t.store("collectionParents"),r=new cE,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Gw(i)})}};return t.store("remoteDocuments").X({Z:!0},(function(e,t){var n=new By(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Z:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],Xw(r));return i(a.popLast())}))}))}},{key:"Ws",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=Ox(r),a=Dx(t.Tt,i);return n.put(a)}))}},{key:"Hs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Ky(By.fromString(i.document.name).popFirst(5)):i.noDocument?Ky.fromSegments(i.noDocument.path):i.unknownDocument?Ky.fromSegments(i.unknownDocument.path):ky()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return ig.waitFor(r)}))}},{key:"Js",value:function(e,t){var n=this,r=t.store("mutations"),i=VE(this.Tt),a=new nI(iI.qs,this.Tt.oe);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:tw();Ax(n.Tt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),ig.forEach(r,(function(e,r){var o=new fy(r),u=Ux.ue(n.Tt,o),s=a.getIndexManager(o),c=wE.ue(o,n.Tt,s,a.referenceDelegate);return new HE(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new kx(t,mg.at),e).next()}))}))}}]),e}();function oI(e){e.createObjectStore("targetDocuments",{keyPath:ix}).createIndex("documentTargetsIndex",ax,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rx,{unique:!0}),e.createObjectStore("targetGlobal")}var uI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sI=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(h(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Ys=a,this.window=o,this.document=u,this.Zs=c,this.Xs=l,this.ti=f,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=function(e){return Promise.resolve()},!e.C())throw new Ey(xy.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new LE(this,i),this.oi=n+"main",this.Tt=new _x(s),this.ui=new og(this.oi,this.ti,new aI(this.Tt)),this.Ns=new TE(this.referenceDelegate,this.Tt),this.remoteDocumentCache=VE(this.Tt),this.Os=new Mx,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===l&&my("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return y(e,[{key:"start",value:function(){var e=this;return this.ai().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ey(xy.FAILED_PRECONDITION,uI);return e.hi(),e.li(),e.fi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ns.getHighestSequenceNumber(t)}))})).then((function(t){e.Cs=new mg(t,e.Zs)})).then((function(){e.xs=!0})).catch((function(t){return e.ui&&e.ui.close(),Promise.reject(t)}))}},{key:"di",value:function(e){var t=this;return this.ri=function(){var n=$e(Ye().mark((function n(r){return Ye().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ui.L(function(){var t=$e(Ye().mark((function t(n){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget($e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ai();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ai",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return lI(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e._i(t).next((function(t){t||(e.isPrimary=!1,e.Ys.enqueueRetryable((function(){return e.ri(!1)})))}))})).next((function(){return e.wi(t)})).next((function(n){return e.isPrimary&&!n?e.mi(t).next((function(){return!1})):!!n&&e.gi(t).next((function(){return!0}))}))})).catch((function(t){if(cg(t))return vy("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return vy("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Ys.enqueueRetryable((function(){return e.ri(t)})),e.isPrimary=t}))}},{key:"_i",value:function(e){var t=this;return cI(e).get("owner").next((function(e){return ig.resolve(t.yi(e))}))}},{key:"pi",value:function(e){return lI(e).delete(this.clientId)}},{key:"Ii",value:function(){var e=$e(Ye().mark((function e(){var t,n,r,i,a=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ti(this.ii,18e5)){e.next=6;break}return this.ii=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=bx(e,"clientMetadata");return t.W().next((function(e){var n=a.Ei(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ig.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ci){n=C(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ci.removeItem(this.Ai(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fi",value:function(){var e=this;this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ai().then((function(){return e.Ii()})).then((function(){return e.fi()}))}))}},{key:"yi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"wi",value:function(e){var t=this;return this.Xs?ig.resolve(!0):cI(e).get("owner").next((function(n){if(null!==n&&t.Ti(n.leaseTimestampMs,5e3)&&!t.Ri(n.ownerId)){if(t.yi(n)&&t.networkEnabled)return!0;if(!t.yi(n)){if(!n.allowTabSynchronization)throw new Ey(xy.FAILED_PRECONDITION,uI);return!1}}return!(!t.networkEnabled||!t.inForeground)||lI(e).W().next((function(e){return void 0===t.Ei(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&vy("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=$e(Ye().mark((function e(){var t=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xs=!1,this.bi(),this.si&&(this.si.cancel(),this.si=null),this.vi(),this.Pi(),e.next=7,this.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new kx(e,mg.at);return t.mi(n).next((function(){return t.pi(n)}))}));case 7:this.ui.close(),this.Vi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ei",value:function(e,t){var n=this;return e.filter((function(e){return n.Ti(e.updateTimeMs,t)&&!n.Ri(e.clientId)}))}},{key:"Si",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return lI(t).W().next((function(t){return e.Ei(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xs}},{key:"getMutationQueue",value:function(e,t){return wE.ue(e,this.Tt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Ns}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new fE(e,this.Tt.oe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Ux.ue(this.Tt,e)}},{key:"getBundleCache",value:function(){return this.Os}},{key:"runTransaction",value:function(e,t,n){var r=this;vy("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.ti)?gx:14===i?yx:13===i?mx:12===i?vx:11===i?px:void ky();return this.ui.runTransaction(e,o,u,(function(i){return a=new kx(i,r.Cs?r.Cs.next():mg.at),"readwrite-primary"===t?r._i(a).next((function(e){return!!e||r.wi(a)})).next((function(t){if(!t)throw my("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Ys.enqueueRetryable((function(){return r.ri(!1)})),new Ey(xy.FAILED_PRECONDITION,eg);return n(a)})).next((function(e){return r.gi(a).next((function(){return e}))})):r.Di(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Di",value:function(e){var t=this;return cI(e).get("owner").next((function(e){if(null!==e&&t.Ti(e.leaseTimestampMs,5e3)&&!t.Ri(e.ownerId)&&!t.yi(e)&&!(t.Xs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ey(xy.FAILED_PRECONDITION,uI)}))}},{key:"gi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cI(e).put("owner",t)}},{key:"mi",value:function(e){var t=this,n=cI(e);return n.get("owner").next((function(e){return t.yi(e)?(vy("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ig.resolve()}))}},{key:"Ti",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(my("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"hi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=function(){e.Ys.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ai()}))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}},{key:"vi",value:function(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}},{key:"li",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=function(){t.bi(),!ti()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Ys.enterRestrictedMode(!0),t.Ys.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ei))}},{key:"Pi",value:function(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}},{key:"Ri",value:function(e){var t;try{var n=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return vy("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return my("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"bi",value:function(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(bh){my("Failed to set zombie client id.",bh)}}},{key:"Vi",value:function(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch(bh){}}},{key:"Ai",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return og.C()}}]),e}();function cI(e){return bx(e,"owner")}function lI(e){return bx(e,"clientMetadata")}function fI(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var dI=function(){function e(t,n,r,i){h(this,e),this.targetId=t,this.fromCache=n,this.Ci=r,this.xi=i}return y(e,null,[{key:"Ni",value:function(t,n){var r,i=tw(),a=tw(),o=C(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),hI=function(){function e(){h(this,e),this.ki=!1}return y(e,[{key:"initialize",value:function(e,t){this.Oi=e,this.indexManager=t,this.ki=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Mi(e,t).next((function(a){return a||i.Fi(e,t,r,n)})).next((function(n){return n||i.$i(e,t)}))}},{key:"Mi",value:function(e,t){var n=this;if(Gk(t))return ig.resolve(null);var r=Jk(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Zk(t,null,"F"),r=Jk(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=tw.apply(void 0,d(i));return n.Oi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Bi(t,i);return n.Li(t,o,a,r.readTime)?n.Mi(e,Zk(t,null,"F")):n.qi(e,o,t,r)}))}))})))}))}},{key:"Fi",value:function(e,t,n,r){var i=this;return Gk(t)||r.isEqual(Vy.min())?this.$i(e,t):this.Oi.getDocuments(e,n).next((function(a){var o=i.Bi(t,a);return i.Li(t,o,n,r)?i.$i(e,t):(py()<=Ii.DEBUG&&vy("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),nb(t)),i.qi(e,o,t,Yy(r,-1)))}))}},{key:"Bi",value:function(e,t){var n=new Ck(ab(e));return t.forEach((function(t,r){rb(e,r)&&(n=n.add(r))})),n}},{key:"Li",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"$i",value:function(e,t){return py()<=Ii.DEBUG&&vy("QueryEngine","Using full collection scan to execute query:",nb(t)),this.Oi.getDocumentsMatchingQuery(e,t,$y.min())}},{key:"qi",value:function(e,t,n,r){return this.Oi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),pI=function(){function e(t,n,r,i){h(this,e),this.persistence=t,this.Ui=n,this.Tt=i,this.Ki=new _k(Ly),this.Gi=new Kb((function(e){return Mk(e)}),Fk),this.Qi=new Map,this.ji=t.getRemoteDocumentCache(),this.Ns=t.getTargetCache(),this.Os=t.getBundleCache(),this.zi(r)}return y(e,[{key:"zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HE(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ki)}))}}]),e}();function vI(e,t,n,r){return new pI(e,t,n,r)}function mI(e,t){return yI.apply(this,arguments)}function yI(){return yI=$e(Ye().mark((function e(t,n){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wy(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=tw(),s=C(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=C(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var h,p=C(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,y=C(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Wi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),yI.apply(this,arguments)}function gI(e,t){var n=wy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ji.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ig.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);by(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=tw(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function kI(e){var t=wy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ns.getLastRemoteSnapshotVersion(e)}))}function bI(e,t){var n=wy(e),r=t.snapshotVersion,i=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ji.newChangeBuffer({trackRemovals:!0});i=n.Ki;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Ns.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Ns.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Sg.EMPTY_BYTE_STRING,Vy.min()).withLastLimboFreeSnapshotVersion(Vy.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Ns.updateTargetData(e,c))}}));var u=Gb(),s=tw();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(wI(e,a,t.documentUpdates).next((function(e){u=e.Hi,s=e.Ji}))),!r.isEqual(Vy.min())){var c=n.Ns.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ns.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return ig.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ki=i,e}))}function wI(e,t,n){var r=tw(),i=tw();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Gb();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Vy.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):vy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Hi:r,Ji:i}}))}function xI(e,t){var n=wy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function EI(e,t){var n=wy(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ns.getTargetData(e,t).next((function(i){return i?(r=i,ig.resolve(r)):n.Ns.allocateTargetId(e).next((function(i){return r=new Ix(t,i,0,e.currentSequenceNumber),n.Ns.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ki.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(e.targetId,e),n.Gi.set(t,e.targetId)),e}))}function II(e,t,n){return _I.apply(this,arguments)}function _I(){return _I=$e(Ye().mark((function e(t,n,r){var i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=wy(t),a=i.Ki.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),cg(e.t1)){e.next=12;break}throw e.t1;case 12:vy("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ki=i.Ki.remove(n),i.Gi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),_I.apply(this,arguments)}function SI(e,t,n){var r=wy(e),i=Vy.min(),a=tw();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=wy(e),i=r.Gi.get(n);return void 0!==i?ig.resolve(r.Ki.get(i)):r.Ns.getTargetData(t,n)}(r,e,Jk(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Ui.getDocumentsMatchingQuery(e,t,n?i:Vy.min(),n?a:tw())})).next((function(e){return NI(r,ib(t),e),{documents:e,Yi:a}}))}))}function TI(e,t){var n=wy(e),r=wy(n.Ns),i=n.Ki.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ie(e,t).next((function(e){return e?e.target:null}))}))}function CI(e,t){var n=wy(e),r=n.Qi.get(t)||Vy.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ji.getAllFromCollectionGroup(e,t,Yy(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return NI(n,t,e),e}))}function NI(e,t,n){var r=e.Qi.get(t)||Vy.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Qi.set(t,r)}function AI(e,t,n,r){return OI.apply(this,arguments)}function OI(){return OI=$e(Ye().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,h,p;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=wy(t),o=tw(),u=Gb(),s=C(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Zi(l.metadata.name),l.document&&(o=o.add(f)),(d=n.Xi(l)).setReadTime(n.tr(l.metadata.readTime)),u=u.insert(f,d)}catch(v){s.e(v)}finally{s.f()}return h=a.ji.newChangeBuffer({trackRemovals:!0}),e.next=7,EI(a,function(e){return Jk(Wk(By.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return wI(e,h,u).next((function(t){return h.apply(e),t})).next((function(t){return a.Ns.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Ns.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Hi,t.Ji)})).next((function(){return t.Hi}))}))})));case 9:case"end":return e.stop()}}),e)}))),OI.apply(this,arguments)}function DI(e,t){return RI.apply(this,arguments)}function RI(){return RI=$e(Ye().mark((function e(t,n){var r,i,a,o=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:tw(),e.next=3,EI(t,Jk(Rx(n.bundledQuery)));case 3:return i=e.sent,a=wy(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=bw(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Os.saveNamedQuery(e,n);var o=i.withResumeToken(Sg.EMPTY_BYTE_STRING,t);return a.Ki=a.Ki.insert(o.targetId,o),a.Ns.updateTargetData(e,o).next((function(){return a.Ns.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Ns.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Os.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),RI.apply(this,arguments)}function PI(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function LI(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function jI(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var MI=function(){function e(t,n,r,i){h(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return y(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Ey(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(my("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),FI=function(){function e(t,n,r){h(this,e),this.targetId=t,this.state=n,this.error=r}return y(e,[{key:"nr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"er",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ey(i.error.code,i.error.message))),a?new e(t,i.state,r):(my("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),VI=function(){function e(t,n){h(this,e),this.clientId=t,this.activeTargetIds=n}return y(e,null,[{key:"er",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=rw(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ig(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(my("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),UI=function(){function e(t,n){h(this,e),this.clientId=t,this.onlineState=n}return y(e,null,[{key:"er",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(my("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),BI=function(){function e(){h(this,e),this.activeTargetIds=rw()}return y(e,[{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"ir",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"nr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),qI=function(){function e(t,n,r,i,a){h(this,e),this.window=t,this.Ys=n,this.persistenceKey=r,this.rr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new _k(Ly),this.started=!1,this.hr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.lr=PI(this.persistenceKey,this.rr),this.dr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.rr,new BI),this._r=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.wr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.mr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.gr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.yr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}return y(e,[{key:"start",value:function(){var e=$e(Ye().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Si();case 2:t=e.sent,n=C(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.rr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(PI(this.persistenceKey,i)))&&(o=VI.er(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.pr(),(u=this.storage.getItem(this.gr))&&(s=this.Ir(u))&&this.Tr(s),c=C(this.hr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.cr(f)}catch(h){c.e(h)}finally{c.f()}this.hr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.dr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Er(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Ar(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Ar(e,t,n),this.Rr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(jI(this.persistenceKey,e));if(n){var r=FI.er(e,n);r&&(t=r.state)}}return this.br.sr(e),this.pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.br.ir(e),this.pr()}},{key:"isLocalQueryTarget",value:function(e){return this.br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(jI(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.vr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Rr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return vy("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){vy("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){vy("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"cr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(vy("SharedClientState","EVENT",n.key,n.newValue),n.key===this.lr)return void my("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable($e(Ye().mark((function e(){var r,i,a,o,u,s,c;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t._r.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Sr(n.key),e.abrupt("return",t.Dr(r,null));case 6:if(!(i=t.Cr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Dr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.wr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Nr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.kr(a));case 16:e.next=41;break;case 18:if(!t.mr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Or(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.gr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Ir(n.newValue))){e.next=30;break}return e.abrupt("return",t.Tr(u));case 30:e.next=41;break;case 32:if(n.key!==t.dr){e.next=37;break}s=function(e){var t=mg.at;if(null!=e)try{var n=JSON.parse(e);by("number"==typeof n),t=n}catch(e){my("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==mg.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.yr){e.next=41;break}return c=t.Fr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.$r(e)})));case 41:e.next=44;break;case 43:t.hr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"br",get:function(){return this.ar.get(this.rr)}},{key:"pr",value:function(){this.setItem(this.lr,this.br.nr())}},{key:"Ar",value:function(e,t,n){var r=new MI(this.currentUser,e,t,n),i=LI(this.persistenceKey,this.currentUser,e);this.setItem(i,r.nr())}},{key:"Rr",value:function(e){var t=LI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.rr,onlineState:e};this.storage.setItem(this.gr,JSON.stringify(t))}},{key:"vr",value:function(e,t,n){var r=jI(this.persistenceKey,e),i=new FI(e,t,n);this.setItem(r,i.nr())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}},{key:"Sr",value:function(e){var t=this._r.exec(e);return t?t[1]:null}},{key:"Cr",value:function(e,t){var n=this.Sr(e);return VI.er(n,t)}},{key:"Nr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return MI.er(new fy(i),r,t)}},{key:"Or",value:function(e,t){var n=this.mr.exec(e),r=Number(n[1]);return FI.er(r,t)}},{key:"Ir",value:function(e){return UI.er(e)}},{key:"Fr",value:function(e){return JSON.parse(e)}},{key:"kr",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Br(t.batchId,t.state,t.error));case 2:vy("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}},{key:"Dr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Er(this.ar),a=this.Er(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.qr(o,u).then((function(){n.ar=r}))}},{key:"Tr",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Er",value:function(e){var t=rw();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),zI=function(){function e(){h(this,e),this.Ur=new BI,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return y(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Kr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.ir(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Kr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new BI,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),KI=function(){function e(){h(this,e)}return y(e,[{key:"Gr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),WI=function(){function e(){var t=this;h(this,e),this.Qr=function(){return t.jr()},this.zr=function(){return t.Wr()},this.Hr=[],this.Jr()}return y(e,[{key:"Gr",value:function(e){this.Hr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}},{key:"Jr",value:function(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}},{key:"jr",value:function(){vy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=C(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){vy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=C(this.Hr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),GI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},HI=function(){function e(t){h(this,e),this.Yr=t.Yr,this.Zr=t.Zr}return y(e,[{key:"Xr",value:function(e){this.eo=e}},{key:"no",value:function(e){this.so=e}},{key:"onMessage",value:function(e){this.io=e}},{key:"close",value:function(){this.Zr()}},{key:"send",value:function(e){this.Yr(e)}},{key:"ro",value:function(){this.eo()}},{key:"oo",value:function(e){this.so(e)}},{key:"uo",value:function(e){this.io(e)}}]),e}(),QI=function(e){k(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return y(n,[{key:"wo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new cy;o.setWithCredentials(!0),o.listenOnce(iy.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case ry.NO_ERROR:var t=o.getResponseJson();vy("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ry.TIMEOUT:vy("Connection",'RPC "'+e+'" timed out'),a(new Ey(xy.DEADLINE_EXCEEDED,"Request time out"));break;case ry.HTTP_ERROR:var n=o.getStatus();if(vy("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(xy).indexOf(t)>=0?t:xy.UNKNOWN}(u.status);a(new Ey(s,u.message))}else a(new Ey(xy.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Ey(xy.UNAVAILABLE,"Connection failed."));break;default:ky()}}finally{vy("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"yo",value:function(e,t,n){var r=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ty(),a=ny(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new uy({})),this._o(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");vy("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new HI({Yr:function(e){l?vy("Connection","Not sending because WebChannel is closed:",e):(c||(vy("Connection","Opening WebChannel transport."),s.open(),c=!0),vy("Connection","WebChannel sending:",e),s.send(e))},Zr:function(){return s.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(s,sy.EventType.OPEN,(function(){l||vy("Connection","WebChannel transport opened.")})),d(s,sy.EventType.CLOSE,(function(){l||(l=!0,vy("Connection","WebChannel transport closed"),f.oo())})),d(s,sy.EventType.ERROR,(function(e){l||(l=!0,yy("Connection","WebChannel transport errored:",e),f.oo(new Ey(xy.UNAVAILABLE,"The operation could not be completed")))})),d(s,sy.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];by(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){vy("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Mb[e];if(void 0!==t)return zb(t)}(a),u=i.message;void 0===o&&(o=xy.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.oo(new Ey(o,u)),s.close()}else vy("Connection","WebChannel received:",n),f.uo(n)}})),d(a,ay.STAT_EVENT,(function(e){e.stat===oy.PROXY?vy("Connection","Detected buffering proxy"):e.stat===oy.NOPROXY&&vy("Connection","Detected no buffering proxy")})),setTimeout((function(){f.ro()}),0),f}}]),n}(function(){function e(t){h(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.co=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return y(e,[{key:"ho",get:function(){return!1}},{key:"lo",value:function(e,t,n,r,i){var a=this.fo(e,t);vy("RestConnection","Sending: ",a,n);var o={};return this._o(o,r,i),this.wo(e,a,o,n).then((function(e){return vy("RestConnection","Received: ",e),e}),(function(t){throw yy("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"mo",value:function(e,t,n,r,i,a){return this.lo(e,t,n,r,i)}},{key:"_o",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+dy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"fo",value:function(e,t){var n=GI[e];return"".concat(this.co,"/v1/").concat(t,":").concat(n)}}]),e}());function XI(){return"undefined"!=typeof window?window:null}function YI(){return"undefined"!=typeof document?document:null}function JI(e){return new mw(e,!0)}var $I=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;h(this,e),this.Ys=t,this.timerId=n,this.po=r,this.Io=i,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}return y(e,[{key:"reset",value:function(){this.Eo=0}},{key:"bo",value:function(){this.Eo=this.To}},{key:"vo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Eo+this.Po()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,n-r);i>0&&vy("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Eo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,(function(){return t.Ro=Date.now(),e()})),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}},{key:"Vo",value:function(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}},{key:"cancel",value:function(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}},{key:"Po",value:function(){return(Math.random()-.5)*this.Eo}}]),e}(),ZI=function(){function e(t,n,r,i,a,o,u,s){h(this,e),this.Ys=t,this.So=r,this.Do=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new $I(t,n)}return y(e,[{key:"Oo",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Fo()}},{key:"stop",value:function(){var e=$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.state=0,this.ko.reset()}},{key:"Bo",value:function(){var e=this;this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,(function(){return e.Lo()})))}},{key:"qo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Lo",value:function(){var e=$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"Ko",value:function(){this.No&&(this.No.cancel(),this.No=null)}},{key:"close",value:function(){var e=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,4!==t?this.ko.reset():n&&n.code===xy.RESOURCE_EXHAUSTED?(my(n.toString()),my("Using maximum backoff delay to prevent overloading the backend."),this.ko.bo()):n&&n.code===xy.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Go(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.no(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Go",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.Co===n&&e.jo(i,a)}),(function(n){t((function(){var t=new Ey(xy.UNKNOWN,"Fetching auth token failed: "+n.message);return e.zo(t)}))}))}},{key:"jo",value:function(e,t){var n=this,r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.No=n.Ys.enqueueAfterDelay(n.Do,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.no((function(e){r((function(){return n.zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Fo",value:function(){var e=this;this.state=5,this.ko.vo($e(Ye().mark((function t(){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"zo",value:function(e){return vy("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Qo",value:function(e){var t=this;return function(n){t.Ys.enqueueAndForget((function(){return t.Co===e?n():(vy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),e_=function(e){k(n,e);var t=I(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).Tt=o,s}return y(n,[{key:"Wo",value:function(e,t){return this.connection.yo("Listen",e,t)}},{key:"onMessage",value:function(e){this.ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ky()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.yt?(by(void 0===t||"string"==typeof t),Sg.fromBase64String(t||"")):(by(void 0===t||t instanceof Uint8Array),Sg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?xy.UNKNOWN:zb(e.code);return new Ey(t,e.message||"")}(o);n=new sw(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Iw(e,s.document.name),l=bw(s.document.updateTime),f=s.document.createTime?bw(s.document.createTime):Vy.min(),d=new Dk({mapValue:{fields:s.document.fields}}),h=Pk.newFoundDocument(c,l,f,d),p=s.targetIds||[],v=s.removedTargetIds||[];n=new ow(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Iw(e,m.document),g=m.readTime?bw(m.readTime):Vy.min(),k=Pk.newNoDocument(y,g),b=m.removedTargetIds||[];n=new ow([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Iw(e,w.document),E=w.removedTargetIds||[];n=new ow([],E,x,null)}else{if(!("filter"in t))return ky();t.filter;var I=t.filter;I.targetId;var _=I.count||0,S=new Bb(_),T=I.targetId;n=new uw(T,S)}return n}(this.Tt,e),n=function(e){if(!("targetChange"in e))return Vy.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Vy.min():t.readTime?bw(t.readTime):Vy.min()}(e);return this.listener.Ho(t,n)}},{key:"Jo",value:function(e){var t={};t.database=Tw(this.Tt),t.addTarget=function(e,t){var n,r=t.target;return(n=Vk(r)?{documents:Pw(e,r)}:{query:Lw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=gw(e,t.resumeToken):t.snapshotVersion.compareTo(Vy.min())>0&&(n.readTime=yw(e,t.snapshotVersion.toTimestamp())),n}(this.Tt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ky()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.Tt,e);n&&(t.labels=n),this.qo(t)}},{key:"Yo",value:function(e){var t={};t.database=Tw(this.Tt),t.removeTarget=e,this.qo(t)}}]),n}(ZI),t_=function(e){k(n,e);var t=I(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).Tt=o,s.Zo=!1,s}return y(n,[{key:"Xo",get:function(){return this.Zo}},{key:"start",value:function(){this.Zo=!1,this.lastStreamToken=void 0,Wa(b(n.prototype),"start",this).call(this)}},{key:"Go",value:function(){this.Zo&&this.tu([])}},{key:"Wo",value:function(e,t){return this.connection.yo("Write",e,t)}},{key:"onMessage",value:function(e){if(by(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();var t=function(e,t){return e&&e.length>0?(by(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?bw(e.updateTime):bw(t);return n.isEqual(Vy.min())&&(n=bw(t)),new Eb(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=bw(e.commitTime);return this.listener.eu(n,t)}return by(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}},{key:"su",value:function(){var e={};e.database=Tw(this.Tt),this.qo(e)}},{key:"tu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Dw(t.Tt,e)}))};this.qo(n)}}]),n}(ZI),n_=function(e){k(n,e);var t=I(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.Tt=a,o.iu=!1,o}return y(n,[{key:"ru",value:function(){if(this.iu)throw new Ey(xy.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"lo",value:function(e,t,n){var r=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.connection.lo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===xy.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ey(xy.UNKNOWN,e.toString())}))}},{key:"mo",value:function(e,t,n,r){var i=this;return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=l(a,2),u=o[0],s=o[1];return i.connection.mo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===xy.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Ey(xy.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.iu=!0}}]),n}(function(){return y((function e(){h(this,e)}))}());var r_=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}return y(e,[{key:"au",value:function(){var e=this;0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.uu=null,e.lu("Backend didn't respond within 10 seconds."),e.hu("Offline"),Promise.resolve()})))}},{key:"fu",value:function(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.hu("Offline")))}},{key:"set",value:function(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}},{key:"hu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"lu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.cu?(my(t),this.cu=!1):vy("OnlineStateTracker",t)}},{key:"du",value:function(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}]),e}(),i_=y((function e(t,n,r,i,a){var o=this;h(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=a,this.yu.Gr((function(e){r.enqueueAndForget($e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=v_(o),!e.t0){e.next=5;break}return vy("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=wy(t)).mu.add(4),e.next=4,u_(n);case 4:return n.pu.set("Unknown"),n.mu.delete(4),e.next=8,a_(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.pu=new r_(r,i)}));function a_(e){return o_.apply(this,arguments)}function o_(){return o_=$e(Ye().mark((function e(t){var n,r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v_(t)){e.next=18;break}n=C(t.gu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),o_.apply(this,arguments)}function u_(e){return s_.apply(this,arguments)}function s_(){return s_=$e(Ye().mark((function e(t){var n,r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t.gu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),s_.apply(this,arguments)}function c_(e,t){var n=wy(e);n.wu.has(t.targetId)||(n.wu.set(t.targetId,t),p_(n)?h_(n):K_(n).Mo()&&f_(n,t))}function l_(e,t){var n=wy(e),r=K_(n);n.wu.delete(t),r.Mo()&&d_(n,t),0===n.wu.size&&(r.Mo()?r.Bo():v_(n)&&n.pu.set("Unknown"))}function f_(e,t){e.Iu.Ft(t.targetId),K_(e).Jo(t)}function d_(e,t){e.Iu.Ft(t),K_(e).Yo(t)}function h_(e){e.Iu=new lw({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ie:function(t){return e.wu.get(t)||null}}),K_(e).start(),e.pu.au()}function p_(e){return v_(e)&&!K_(e).Oo()&&e.wu.size>0}function v_(e){return 0===wy(e).mu.size}function m_(e){e.Iu=void 0}function y_(e){return g_.apply(this,arguments)}function g_(){return g_=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.wu.forEach((function(e,n){f_(t,e)}));case 1:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}function k_(e,t){return b_.apply(this,arguments)}function b_(){return b_=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m_(t),p_(t)?(t.pu.fu(n),h_(t)):t.pu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),b_.apply(this,arguments)}function w_(e,t,n){return x_.apply(this,arguments)}function x_(){return x_=$e(Ye().mark((function e(t,n,r){var i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.pu.set("Online"),!(n instanceof sw&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=$e(Ye().mark((function e(t,n){var r,i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=C(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.wu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.wu.delete(o),t.Iu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),vy("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,E_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof ow?t.Iu.Qt(n):n instanceof uw?t.Iu.Zt(n):t.Iu.Wt(n),r.isEqual(Vy.min())){e.next=29;break}return e.prev=14,e.next=17,kI(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Iu.ee(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.wu.get(r);i&&e.wu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.wu.get(t);if(n){e.wu.set(t,n.withResumeToken(Sg.EMPTY_BYTE_STRING,n.snapshotVersion)),d_(e,t);var r=new Ix(n.target,t,1,n.sequenceNumber);f_(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),vy("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,E_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),x_.apply(this,arguments)}function E_(e,t,n){return I_.apply(this,arguments)}function I_(){return I_=$e(Ye().mark((function e(t,n,r){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cg(n)){e.next=2;break}throw n;case 2:return t.mu.add(1),e.next=5,u_(t);case 5:t.pu.set("Offline"),r||(r=function(){return kI(t.localStore)}),t.asyncQueue.enqueueRetryable($e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vy("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.mu.delete(1),e.next=6,a_(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),I_.apply(this,arguments)}function __(e,t){return t().catch((function(n){return E_(e,n,t)}))}function S_(e){return T_.apply(this,arguments)}function T_(){return T_=$e(Ye().mark((function e(t){var n,r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=wy(t),r=W_(n),i=n._u.length>0?n._u[n._u.length-1].batchId:-1;case 2:if(!C_(n)){e.next=19;break}return e.prev=3,e.next=6,xI(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n._u.length&&r.Bo(),e.abrupt("break",19);case 10:i=a.batchId,N_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,E_(n,e.t0);case 17:e.next=2;break;case 19:A_(n)&&O_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),T_.apply(this,arguments)}function C_(e){return v_(e)&&e._u.length<10}function N_(e,t){e._u.push(t);var n=W_(e);n.Mo()&&n.Xo&&n.tu(t.mutations)}function A_(e){return v_(e)&&!W_(e).Oo()&&e._u.length>0}function O_(e){W_(e).start()}function D_(e){return R_.apply(this,arguments)}function R_(){return R_=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W_(t).su();case 1:case"end":return e.stop()}}),e)}))),R_.apply(this,arguments)}function P_(e){return L_.apply(this,arguments)}function L_(){return L_=$e(Ye().mark((function e(t){var n,r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=W_(t),r=C(t._u);try{for(r.s();!(i=r.n()).done;)a=i.value,n.tu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}function j_(e,t,n){return M_.apply(this,arguments)}function M_(){return M_=$e(Ye().mark((function e(t,n,r){var i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t._u.shift(),a=xx.from(i,n,r),e.next=3,__(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,S_(t);case 5:case"end":return e.stop()}}),e)}))),M_.apply(this,arguments)}function F_(e,t){return V_.apply(this,arguments)}function V_(){return V_=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&W_(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=$e(Ye().mark((function e(t,n){var r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!qb(i=n.code)||i===xy.ABORTED){e.next=7;break}return r=t._u.shift(),W_(t).$o(),e.next=5,__(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,S_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:A_(t)&&O_(t);case 5:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}function U_(e,t){return B_.apply(this,arguments)}function B_(){return B_=$e(Ye().mark((function e(t,n){var r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=wy(t)).asyncQueue.verifyOperationInProgress(),vy("RemoteStore","RemoteStore received new credentials"),i=v_(r),r.mu.add(3),e.next=6,u_(r);case 6:return i&&r.pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.mu.delete(3),e.next=12,a_(r);case 12:case"end":return e.stop()}}),e)}))),B_.apply(this,arguments)}function q_(e,t){return z_.apply(this,arguments)}function z_(){return z_=$e(Ye().mark((function e(t,n){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=wy(t),!n){e.next=7;break}return r.mu.delete(2),e.next=5,a_(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.mu.add(2),e.next=12,u_(r);case 12:r.pu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),z_.apply(this,arguments)}function K_(e){return e.Tu||(e.Tu=function(e,t,n){var r=wy(e);return r.ru(),new e_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:y_.bind(null,e),no:k_.bind(null,e),Ho:w_.bind(null,e)}),e.gu.push(function(){var t=$e(Ye().mark((function t(n){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Tu.$o(),p_(e)?h_(e):e.pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Tu.stop();case 6:m_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}function W_(e){return e.Eu||(e.Eu=function(e,t,n){var r=wy(e);return r.ru(),new t_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(e.datastore,e.asyncQueue,{Xr:D_.bind(null,e),no:F_.bind(null,e),nu:P_.bind(null,e),eu:j_.bind(null,e)}),e.gu.push(function(){var t=$e(Ye().mark((function t(n){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Eu.$o(),t.next=4,S_(e);case 4:t.next=9;break;case 6:return t.next=8,e.Eu.stop();case 8:e._u.length>0&&(vy("RemoteStore","Stopping write stream with ".concat(e._u.length," pending writes")),e._u=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Eu}var G_=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Iy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return y(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ey(xy.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function H_(e,t){if(my("AsyncQueue","".concat(t,": ").concat(e)),cg(e))return new Ey(xy.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Q_=function(){function e(t){h(this,e),this.comparator=t?function(e,n){return t(e,n)||Ky.comparator(e.key,n.key)}:function(e,t){return Ky.comparator(e.key,t.key)},this.keyedMap=Qb(),this.sortedSet=new _k(this.comparator)}return y(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),X_=function(){function e(){h(this,e),this.Au=new _k(Ky.comparator)}return y(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Au.get(t);n?0!==e.type&&3===n.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==n.type?this.Au=this.Au.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Au=this.Au.remove(t):1===e.type&&2===n.type?this.Au=this.Au.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):ky():this.Au=this.Au.insert(t,e)}},{key:"Ru",value:function(){var e=[];return this.Au.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Y_=function(){function e(t,n,r,i,a,o,u,s,c){h(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return y(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Q_.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),J_=y((function e(){h(this,e),this.bu=void 0,this.listeners=[]})),$_=y((function e(){h(this,e),this.queries=new Kb((function(e){return tb(e)}),eb),this.onlineState="Unknown",this.vu=new Set}));function Z_(e,t){return eS.apply(this,arguments)}function eS(){return eS=$e(Ye().mark((function e(t,n){var r,i,a,o,u;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=wy(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new J_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.bu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=H_(e.t0,"Initialization of query '".concat(nb(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.bu&&n.Vu(o.bu)&&aS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),eS.apply(this,arguments)}function tS(e,t){return nS.apply(this,arguments)}function nS(){return nS=$e(Ye().mark((function e(t,n){var r,i,a,o,u;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=wy(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(e,t){var n,r=wy(e),i=!1,a=C(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=C(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.bu=o}}}catch(f){a.e(f)}finally{a.f()}i&&aS(r)}function iS(e,t,n){var r=wy(e),i=r.queries.get(t);if(i){var a,o=C(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function aS(e){e.vu.forEach((function(e){e.next()}))}var oS=function(){function e(t,n,r){h(this,e),this.query=t,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}return y(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=C(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Y_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Du?this.xu(e)&&(this.Su.next(e),a=!0):this.Nu(e,this.onlineState)&&(this.ku(e),a=!0),this.Cu=e,a}},{key:"onError",value:function(e){this.Su.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}},{key:"Nu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ou||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"xu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ku",value:function(e){e=Y_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}]),e}(),uS=function(){function e(t,n){h(this,e),this.Mu=t,this.byteLength=n}return y(e,[{key:"Fu",value:function(){return"metadata"in this.Mu}}]),e}(),sS=function(){function e(t){h(this,e),this.Tt=t}return y(e,[{key:"Zi",value:function(e){return Iw(this.Tt,e)}},{key:"Xi",value:function(e){return e.metadata.exists?Aw(this.Tt,e.document,!1):Pk.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}},{key:"tr",value:function(e){return bw(e)}}]),e}(),cS=function(){function e(t,n,r){h(this,e),this.$u=t,this.localStore=n,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lS(t)}return y(e,[{key:"Bu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;var n=By.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Lu",value:function(e){var t,n=new Map,r=new sS(this.Tt),i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Zi(a.metadata.name),s=C(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||tw()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=$e(Ye().mark((function e(){var t,n,r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AI(this.localStore,new sS(this.Tt),this.documents,this.$u.id);case 2:t=e.sent,n=this.Lu(this.documents),r=C(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,DI(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,qu:this.collectionGroups,Uu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function lS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var fS=y((function e(t){h(this,e),this.key=t})),dS=y((function e(t){h(this,e),this.key=t})),hS=function(){function e(t,n){h(this,e),this.query=t,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=tw(),this.mutatedKeys=tw(),this.ju=ab(t),this.zu=new Q_(this.ju)}return y(e,[{key:"Wu",get:function(){return this.Ku}},{key:"Hu",value:function(e,t){var n=this,r=t?t.Ju:new X_,i=t?t.zu:this.zu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=rb(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Yu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.ju(f,s)>0||c&&n.ju(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:u,mutatedKeys:a}}},{key:"Yu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;var a=e.Ju.Ru();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ky()}};return n(e)-n(t)}(e.type,t.type)||r.ju(e.doc,t.doc)})),this.Zu(n);var o=t?this.Xu():[],u=0===this.Qu.size&&this.current?1:0,s=u!==this.Gu;return this.Gu=u,0!==a.length||s?{snapshot:new Y_(this.query,e.zu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new X_,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}},{key:"ec",value:function(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}},{key:"Zu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ku=t.Ku.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ku=t.Ku.delete(e)})),this.current=e.current)}},{key:"Xu",value:function(){var e=this;if(!this.current)return[];var t=this.Qu;this.Qu=tw(),this.zu.forEach((function(t){e.ec(t.key)&&(e.Qu=e.Qu.add(t.key))}));var n=[];return t.forEach((function(t){e.Qu.has(t)||n.push(new dS(t))})),this.Qu.forEach((function(e){t.has(e)||n.push(new fS(e))})),n}},{key:"nc",value:function(e){this.Ku=e.Yi,this.Qu=tw();var t=this.Hu(e.documents);return this.applyChanges(t,!0)}},{key:"sc",value:function(){return Y_.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}]),e}(),pS=y((function e(t,n,r){h(this,e),this.query=t,this.targetId=n,this.view=r})),vS=y((function e(t){h(this,e),this.key=t,this.ic=!1})),mS=function(){function e(t,n,r,i,a,o){h(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new Kb((function(e){return tb(e)}),eb),this.uc=new Map,this.cc=new Set,this.ac=new _k(Ky.comparator),this.hc=new Map,this.lc=new YE,this.fc={},this.dc=new Map,this._c=SE.Sn(),this.onlineState="Unknown",this.wc=void 0}return y(e,[{key:"isPrimaryClient",get:function(){return!0===this.wc}}]),e}();function yS(e,t){return gS.apply(this,arguments)}function gS(){return gS=$e(Ye().mark((function e(t,n){var r,i,a,o,u,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lT(t),!(o=r.oc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.sc(),e.next=15;break;case 6:return e.next=8,EI(r.localStore,Jk(n));case 8:return u=e.sent,r.isPrimaryClient&&c_(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,kS(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),gS.apply(this,arguments)}function kS(e,t,n,r,i){return bS.apply(this,arguments)}function bS(){return bS=$e(Ye().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.mc=function(e,n,r){return function(){var e=$e(Ye().mark((function e(t,n,r,i){var a,o,u;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Hu(r),e.t0=a.Li,!e.t0){e.next=6;break}return e.next=5,SI(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Hu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(US(t,n.targetId,u.tc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,SI(t.localStore,n,!0);case 3:return o=e.sent,u=new hS(n,o.Yi),s=u.Hu(o.documents),c=aw.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),US(t,r,l.tc),f=new pS(n,r,u),e.abrupt("return",(t.oc.set(n,f),t.uc.has(r)?t.uc.get(r).push(n):t.uc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),bS.apply(this,arguments)}function wS(e,t){return xS.apply(this,arguments)}function xS(){return xS=$e(Ye().mark((function e(t,n){var r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=wy(t),i=r.oc.get(n),!((a=r.uc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.uc.set(i.targetId,a.filter((function(e){return!eb(e,n)}))),void r.oc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,II(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),l_(r.remoteStore,i.targetId),FS(r,i.targetId)})).catch(ng);case 9:e.next=14;break;case 11:return FS(r,i.targetId),e.next=14,II(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function ES(e,t,n){return IS.apply(this,arguments)}function IS(){return IS=$e(Ye().mark((function e(t,n,r){var i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fT(t),e.prev=1,e.next=4,function(e,t){var n,r,i=wy(e),a=Fy.now(),o=t.reduce((function(e,t){return e.add(t.key)}),tw());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Gb(),s=tw();return i.ji.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=C(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Ab(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Rb(c.key,l,Rk(l.value.mapValue),Ib.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Xb(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fc[e.currentUser.toKey()];r||(r=new _k(Ly)),r=r.insert(t,n),e.fc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,zS(i,a.changes);case 9:return e.next=11,S_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=H_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),IS.apply(this,arguments)}function _S(e,t){return SS.apply(this,arguments)}function SS(){return SS=$e(Ye().mark((function e(t,n){var r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wy(t),e.prev=1,e.next=4,bI(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.hc.get(t);n&&(by(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ic=!0:e.modifiedDocuments.size>0?by(n.ic):e.removedDocuments.size>0&&(by(n.ic),n.ic=!1))})),e.next=8,zS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ng(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),SS.apply(this,arguments)}function TS(e,t,n){var r=wy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.oc.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=wy(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=C(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&aS(n)}(r.eventManager,t),i.length&&r.rc.Ho(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function CS(e,t,n){return NS.apply(this,arguments)}function NS(){return NS=$e(Ye().mark((function e(t,n,r){var i,a,o,u,s,c;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=wy(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.hc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new _k(Ky.comparator)).insert(o,Pk.newNoDocument(o,Vy.min())),s=tw().add(o),c=new iw(Vy.min(),new Map,new Ck(Ly),u,s),e.next=9,_S(i,c);case 9:i.ac=i.ac.remove(o),i.hc.delete(n),qS(i),e.next=16;break;case 14:return e.next=16,II(i.localStore,n,!1).then((function(){return FS(i,n,r)})).catch(ng);case 16:case"end":return e.stop()}}),e)}))),NS.apply(this,arguments)}function AS(e,t){return OS.apply(this,arguments)}function OS(){return OS=$e(Ye().mark((function e(t,n){var r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wy(t),i=n.batch.batchId,e.prev=1,e.next=4,gI(r.localStore,n);case 4:return a=e.sent,MS(r,i,null),jS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,zS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ng(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),OS.apply(this,arguments)}function DS(e,t,n){return RS.apply(this,arguments)}function RS(){return RS=$e(Ye().mark((function e(t,n,r){var i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wy(t),e.prev=1,e.next=4,function(e,t){var n=wy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return by(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,MS(i,n,r),jS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,zS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ng(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),RS.apply(this,arguments)}function PS(e,t){return LS.apply(this,arguments)}function LS(){return LS=$e(Ye().mark((function e(t,n){var r,i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v_((r=wy(t)).remoteStore)||vy("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=wy(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.dc.get(i)||[]).push(n),r.dc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=H_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),LS.apply(this,arguments)}function jS(e,t){(e.dc.get(t)||[]).forEach((function(e){e.resolve()})),e.dc.delete(t)}function MS(e,t,n){var r=wy(e),i=r.fc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fc[r.currentUser.toKey()]=i}}function FS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=C(e.uc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.oc.delete(a),n&&e.rc.gc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.uc.delete(t),e.isPrimaryClient&&e.lc.ds(t).forEach((function(t){e.lc.containsKey(t)||VS(e,t)}))}function VS(e,t){e.cc.delete(t.path.canonicalString());var n=e.ac.get(t);null!==n&&(l_(e.remoteStore,n),e.ac=e.ac.remove(t),e.hc.delete(n),qS(e))}function US(e,t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof fS?(e.lc.addReference(a.key,t),BS(e,a)):a instanceof dS?(vy("SyncEngine","Document no longer in limbo: "+a.key),e.lc.removeReference(a.key,t),e.lc.containsKey(a.key)||VS(e,a.key)):ky()}}catch(o){i.e(o)}finally{i.f()}}function BS(e,t){var n=t.key,r=n.path.canonicalString();e.ac.get(n)||e.cc.has(r)||(vy("SyncEngine","New document in limbo: "+n),e.cc.add(r),qS(e))}function qS(e){for(;e.cc.size>0&&e.ac.size<e.maxConcurrentLimboResolutions;){var t=e.cc.values().next().value;e.cc.delete(t);var n=new Ky(By.fromString(t)),r=e._c.next();e.hc.set(r,new vS(n)),e.ac=e.ac.insert(n,r),c_(e.remoteStore,new Ix(Jk(Wk(n.path)),r,2,mg.at))}}function zS(e,t,n){return KS.apply(this,arguments)}function KS(){return KS=$e(Ye().mark((function e(t,n,r){var i,a,o,u;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=wy(t),a=[],o=[],u=[],e.t0=i.oc.isEmpty(),e.t0){e.next=9;break}return i.oc.forEach((function(e,t){u.push(i.mc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=dI.Ni(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.rc.Ho(a),e.next=9,function(){var e=$e(Ye().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wy(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ig.forEach(n,(function(t){return ig.forEach(t.Ci,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ig.forEach(t.xi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),cg(e.t0)){e.next=10;break}throw e.t0;case 10:vy("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=C(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ki.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ki=r.Ki.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function WS(e,t){return GS.apply(this,arguments)}function GS(){return GS=$e(Ye().mark((function e(t,n){var r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=wy(t)).currentUser.isEqual(n)){e.next=11;break}return vy("SyncEngine","User change. New user:",n.toKey()),e.next=5,mI(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.dc.forEach((function(e){e.forEach((function(e){e.reject(new Ey(xy.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.dc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,zS(r,i.Wi);case 11:case"end":return e.stop()}}),e)}))),GS.apply(this,arguments)}function HS(e,t){var n=wy(e),r=n.hc.get(t);if(r&&r.ic)return tw().add(r.key);var i=tw(),a=n.uc.get(t);if(!a)return i;var o,u=C(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.oc.get(s);i=i.unionWith(c.view.Wu)}}catch(l){u.e(l)}finally{u.f()}return i}function QS(e,t){return XS.apply(this,arguments)}function XS(){return XS=$e(Ye().mark((function e(t,n){var r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wy(t),e.next=3,SI(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.nc(i),e.abrupt("return",(r.isPrimaryClient&&US(r,n.targetId,a.tc),a));case 6:case"end":return e.stop()}}),e)}))),XS.apply(this,arguments)}function YS(e,t){return JS.apply(this,arguments)}function JS(){return JS=$e(Ye().mark((function e(t,n){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wy(t),e.abrupt("return",CI(r.localStore,n).then((function(e){return zS(r,e)})));case 2:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function $S(e,t,n,r){return ZS.apply(this,arguments)}function ZS(){return ZS=$e(Ye().mark((function e(t,n,r,i){var a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=wy(t),e.next=3,function(e,t){var n=wy(e),r=wy(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.An(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):ig.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,S_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(MS(a,n,i||null),jS(a,n),function(e,t){wy(wy(e).mutationQueue).bn(t)}(a.localStore,n)):ky();case 11:return e.next=13,zS(a,o);case 13:e.next=16;break;case 15:vy("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),ZS.apply(this,arguments)}function eT(e,t){return tT.apply(this,arguments)}function tT(){return tT=$e(Ye().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lT(r=wy(t)),fT(r),!0!==n||!0===r.wc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,nT(r,i.toArray());case 5:return a=e.sent,r.wc=!0,e.next=9,q_(r.remoteStore,!0);case 9:o=C(a);try{for(o.s();!(u=o.n()).done;)s=u.value,c_(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.wc){e.next=25;break}return c=[],l=Promise.resolve(),r.uc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return FS(r,t),II(r.localStore,t,!0)})),l_(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,nT(r,c);case 21:return function(e){var t=wy(e);t.hc.forEach((function(e,n){l_(t.remoteStore,n)})),t.lc._s(),t.hc=new Map,t.ac=new _k(Ky.comparator)}(r),r.wc=!1,e.next=25,q_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t,n){return rT.apply(this,arguments)}function rT(){return rT=$e(Ye().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v,m,y;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=wy(t),a=[],o=[],u=C(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.uc.get(c))||0===f.length){e.next=34;break}return e.next=11,EI(i.localStore,Jk(f[0]));case 11:l=e.sent,d=C(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.oc.get(p),e.next=20,QS(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,TI(i.localStore,c);case 36:return y=e.sent,e.next=39,EI(i.localStore,y);case 39:return l=e.sent,e.next=42,kS(i,iT(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.rc.Ho(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),rT.apply(this,arguments)}function iT(e){return Kk(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function aT(e){var t=wy(e);return wy(wy(t.localStore).persistence).Si()}function oT(e,t,n,r){return uT.apply(this,arguments)}function uT(){return uT=$e(Ye().mark((function e(t,n,r,i){var a,o,u,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=wy(t)).wc){e.next=3;break}return e.abrupt("return",void vy("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.uc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,CI(a.localStore,ib(o[0]));case 10:return u=e.sent,s=iw.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Sg.EMPTY_BYTE_STRING),e.next=14,zS(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,II(a.localStore,n,!0);case 17:return FS(a,n,i),e.abrupt("break",20);case 19:ky();case 20:case"end":return e.stop()}}),e)}))),uT.apply(this,arguments)}function sT(e,t,n){return cT.apply(this,arguments)}function cT(){return cT=$e(Ye().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=lT(t)).wc){e.next=45;break}a=C(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.uc.has(u)){e.next=10;break}return vy("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,TI(i.localStore,u);case 12:return s=e.sent,e.next=15,EI(i.localStore,s);case 15:return c=e.sent,e.next=18,kS(i,iT(s),c.targetId,!1,c.resumeToken);case 18:c_(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=C(r),e.prev=30,d=Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.uc.has(t),!e.t0){e.next=5;break}return e.next=5,II(i.localStore,t,!1).then((function(){l_(i.remoteStore,t),FS(i,t)})).catch(ng);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),cT.apply(this,arguments)}function lT(e){var t=wy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_S.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CS.bind(null,t),t.rc.Ho=rS.bind(null,t.eventManager),t.rc.gc=iS.bind(null,t.eventManager),t}function fT(e){var t=wy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=AS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=DS.bind(null,t),t}function dT(e,t,n){var r=wy(e);(function(){var e=$e(Ye().mark((function e(t,n,r){var i,a,o,u,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=wy(e),r=bw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Os.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(lS(i)),a=new cS(i,t.localStore,n.Tt),e.next=15,n.yc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Bu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.yc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,zS(t,s.Uu,void 0);case 31:return e.next=33,function(e,t){var n=wy(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Os.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.qu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(yy("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var hT=function(){function e(){h(this,e),this.synchronizeTabs=!1}return y(e,[{key:"initialize",value:function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Tt=JI(t.databaseInfo.databaseId),this.sharedClientState=this.Ic(t),this.persistence=this.Tc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ec(t),this.gcScheduler=this.Ac(t,this.localStore),this.indexBackfillerScheduler=this.Rc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ac",value:function(e,t){return null}},{key:"Rc",value:function(e,t){return null}},{key:"Ec",value:function(e){return vI(this.persistence,new hI,e.initialUser,this.Tt)}},{key:"Tc",value:function(e){return new nI(iI.qs,this.Tt)}},{key:"Ic",value:function(e){return new zI}},{key:"terminate",value:function(){var e=$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),pT=function(e){k(n,e);var t=I(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).bc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return y(n,[{key:"initialize",value:function(){var e=$e(Ye().mark((function e(t){var r=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa(b(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.bc.initialize(this,t);case 4:return e.next=6,fT(this.bc.syncEngine);case 6:return e.next=8,S_(this.bc.remoteStore);case 8:return e.next=10,this.persistence.di((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ec",value:function(e){return vI(this.persistence,new hI,e.initialUser,this.Tt)}},{key:"Ac",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new RE(n,e.asyncQueue,t)}},{key:"Rc",value:function(e,t){var n=new vg(t,this.persistence);return new pg(e.asyncQueue,n)}},{key:"Tc",value:function(e){var t=fI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?gE.withCacheSize(this.cacheSizeBytes):gE.DEFAULT;return new sI(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,XI(),YI(),this.Tt,this.sharedClientState,!!this.forceOwnership)}},{key:"Ic",value:function(e){return new zI}}]),n}(hT),vT=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r,!1)).bc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return y(n,[{key:"initialize",value:function(){var e=$e(Ye().mark((function e(t){var r,i=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa(b(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.bc.syncEngine,e.t0=this.sharedClientState instanceof qI,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Br:$S.bind(null,r),Lr:oT.bind(null,r),qr:sT.bind(null,r),Si:aT.bind(null,r),$r:YS.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.di(function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eT(i.bc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){var t=XI();if(!qI.C(t))throw new Ey(xy.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=fI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qI(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(pT),mT=function(){function e(){h(this,e)}return y(e,[{key:"initialize",value:function(){var e=$e(Ye().mark((function e(t,n){var r=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return TS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=WS.bind(null,this.syncEngine),e.next=12,q_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new $_}},{key:"createDatastore",value:function(e){var t,n=JI(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new QI(t));return function(e,t,n,r){return new n_(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return TS(o.syncEngine,e,0)},a=WI.C()?new WI:new KI,new i_(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new mS(e,t,n,r,i,a);return o&&(u.wc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wy(t),vy("RemoteStore","RemoteStore shutting down."),n.mu.add(5),e.next=5,u_(n);case 5:n.yu.shutdown(),n.pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function yT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return $e(Ye().mark((function r(){var i;return Ye().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return $e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var gT=function(){function e(t){h(this,e),this.observer=t,this.muted=!1}return y(e,[{key:"next",value:function(e){this.observer.next&&this.vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.vc(this.observer.error,e):my("Uncaught Error in snapshot listener:",e.toString())}},{key:"Pc",value:function(){this.muted=!0}},{key:"vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),kT=function(){function e(t,n){var r=this;h(this,e),this.Vc=t,this.Tt=n,this.metadata=new Iy,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then((function(e){e&&e.Fu()?r.metadata.resolve(e.Mu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Mu))))}),(function(e){return r.metadata.reject(e)}))}return y(e,[{key:"close",value:function(){return this.Vc.cancel()}},{key:"getMetadata",value:function(){var e=$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yc",value:function(){var e=$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Dc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=$e(Ye().mark((function e(){var t,n,r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Sc.decode(t),r=Number(n),isNaN(r)&&this.xc("length string (".concat(n,") is not valid number")),e.next=9,this.Nc(r);case 9:return i=e.sent,e.abrupt("return",new uS(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"kc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Cc",value:function(){var e=$e(Ye().mark((function e(){var t,n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.kc()<0)){e.next=7;break}return e.next=3,this.Oc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.kc())<0&&this.xc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Oc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.xc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Sc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xc",value:function(e){throw this.Vc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Oc",value:function(){var e=$e(Ye().mark((function e(){var t,n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),bT=function(){function e(t){h(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return y(e,[{key:"lookup",value:function(){var e=$e(Ye().mark((function e(t){var n,r=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Ey(xy.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=$e(Ye().mark((function e(t,n){var r,i,a,o,u,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wy(t),i=Tw(r.Tt)+"/documents",a={documents:n.map((function(e){return Ew(r.Tt,e)}))},e.next=5,r.mo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Ow(r.Tt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());by(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Vb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=$e(Ye().mark((function e(){var t,n=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Ky.fromPath(t);n.mutations.push(new Ub(r,n.precondition(r)))})),e.next=7,function(){var e=$e(Ye().mark((function e(t,n){var r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wy(t),i=Tw(r.Tt)+"/documents",a={writes:n.map((function(e){return Dw(r.Tt,e)}))},e.next=3,r.lo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ky();t=Vy.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ey(xy.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Vy.min())?Ib.exists(!1):Ib.updateTime(t):Ib.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vy.min()))throw new Ey(xy.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ib.updateTime(t)}return Ib.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),wT=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Mc=r.maxAttempts,this.ko=new $I(this.asyncQueue,"transaction_retry")}return y(e,[{key:"run",value:function(){this.Mc-=1,this.Fc()}},{key:"Fc",value:function(){var e=this;this.ko.vo($e(Ye().mark((function t(){var n,r;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new bT(e.datastore),(r=e.$c(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Bc(t)}))}))})).catch((function(t){e.Bc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"$c",value:function(e){try{var t=this.updateFunction(e);return!xg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Bc",value:function(e){var t=this;this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Lc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!qb(t)}return!1}}]),e}(),xT=function(){function e(t,n,r,i){var a=this;h(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=fy.UNAUTHENTICATED,this.clientId=Py.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vy("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return vy("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return y(e,[{key:"getConfiguration",value:function(){var e=$e(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Ey(xy.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Iy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted($e(Ye().mark((function n(){var r;return Ye().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=H_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function ET(e,t){return IT.apply(this,arguments)}function IT(){return IT=$e(Ye().mark((function e(t,n){var r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),vy("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,mI(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),IT.apply(this,arguments)}function _T(e,t){return ST.apply(this,arguments)}function ST(){return ST=$e(Ye().mark((function e(t,n){var r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,TT(t);case 3:return r=e.sent,vy("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return U_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return U_(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),ST.apply(this,arguments)}function TT(e){return CT.apply(this,arguments)}function CT(){return CT=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return vy("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,ET(t,new hT);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),CT.apply(this,arguments)}function NT(e){return AT.apply(this,arguments)}function AT(){return AT=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return vy("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,_T(t,new mT);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),AT.apply(this,arguments)}function OT(e){return TT(e).then((function(e){return e.persistence}))}function DT(e){return TT(e).then((function(e){return e.localStore}))}function RT(e){return NT(e).then((function(e){return e.remoteStore}))}function PT(e){return NT(e).then((function(e){return e.syncEngine}))}function LT(e){return NT(e).then((function(e){return e.datastore}))}function jT(e){return MT.apply(this,arguments)}function MT(){return MT=$e(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=yS.bind(null,n.syncEngine),r.onUnlisten=wS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),MT.apply(this,arguments)}function FT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Iy;return e.asyncQueue.enqueueAndForget($e(Ye().mark((function i(){return Ye().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new gT({next:function(a){t.enqueueAndForget((function(){return tS(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Ey(xy.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Ey(xy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new oS(Wk(n.path),a,{includeMetadataChanges:!0,Ou:!0});return Z_(e,o)},i.next=3,jT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function VT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Iy;return e.asyncQueue.enqueueAndForget($e(Ye().mark((function i(){return Ye().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new gT({next:function(n){t.enqueueAndForget((function(){return tS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Ey(xy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new oS(n,a,{includeMetadataChanges:!0,Ou:!0});return Z_(e,o)},i.next=3,jT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var UT=new Map;function BT(e,t,n){if(!n)throw new Ey(xy.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function qT(e,t,n,r){if(!0===t&&!0===r)throw new Ey(xy.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function zT(e){if(!Ky.isDocumentKey(e))throw new Ey(xy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function KT(e){if(Ky.isDocumentKey(e))throw new Ey(xy.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function WT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ky()}function GT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ey(xy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=WT(e);throw new Ey(xy.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function HT(e,t){if(t<=0)throw new Ey(xy.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var QT=function(){function e(t){var n;if(h(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Ey(xy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ey(xy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,qT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return y(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),XT=function(){function e(t,n,r,i){h(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QT({}),this._settingsFrozen=!1}return y(e,[{key:"app",get:function(){if(!this._app)throw new Ey(xy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Ey(xy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Sy;switch(e.type){case"gapi":var t=e.client;return new Ay(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ey(xy.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=UT.get(e);t&&(vy("ComponentProvider","Removing Datastore"),UT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function YT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=GT(e,XT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&yy("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=fy.MOCK_USER;else{o=Zr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Ey(xy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new fy(s)}e._authCredentials=new Ty(new _y(o,u))}}var JT=function(){function e(t,n,r){h(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return y(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ZT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),$T=function(){function e(t,n,r){h(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return y(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),ZT=function(e){k(n,e);var t=I(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,Wk(i)))._path=i,a.type="collection",a}return y(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new JT(this.firestore,null,new Ky(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}($T);function eC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ki(e),BT("collection","path",t),e instanceof XT){var a=By.fromString.apply(By,[t].concat(r));return KT(a),new ZT(e,null,a)}if(!(e instanceof JT||e instanceof ZT))throw new Ey(xy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(By.fromString.apply(By,[t].concat(r)));return KT(o),new ZT(e.firestore,null,o)}function tC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ki(e),1===arguments.length&&(t=Py.R()),BT("doc","path",t),e instanceof XT){var a=By.fromString.apply(By,[t].concat(r));return zT(a),new JT(e,null,new Ky(a))}if(!(e instanceof JT||e instanceof ZT))throw new Ey(xy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(By.fromString.apply(By,[t].concat(r)));return zT(o),new JT(e.firestore,e instanceof ZT?e.converter:null,new Ky(o))}function nC(e,t){return e=ki(e),t=ki(t),(e instanceof JT||e instanceof ZT)&&(t instanceof JT||t instanceof ZT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function rC(e,t){return e=ki(e),t=ki(t),e instanceof $T&&t instanceof $T&&e.firestore===t.firestore&&eb(e._query,t._query)&&e.converter===t.converter}var iC=function(){function e(){var t=this;h(this,e),this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new $I(this,"async_queue_retry"),this.Hc=function(){var e=YI();e&&vy("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ko.Vo()};var n=YI();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Hc)}return y(e,[{key:"isShuttingDown",get:function(){return this.Kc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Jc(),this.Yc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;var t=YI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Jc(),this.Kc)return new Promise((function(){}));var n=new Iy;return this.Yc((function(){return t.Kc&&t.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Uc.push(e),t.Zc()}))}},{key:"Zc",value:function(){var e=$e(Ye().mark((function e(){var t=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Uc.length){e.next=14;break}return e.prev=1,e.next=4,this.Uc[0]();case 4:this.Uc.shift(),this.ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),cg(e.t0)){e.next=12;break}throw e.t0;case 12:vy("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Uc.length>0&&this.ko.vo((function(){return t.Zc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Yc",value:function(e){var t=this,n=this.qc.then((function(){return t.jc=!0,e().catch((function(e){t.Qc=e,t.jc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw my("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.jc=!1,e}))}));return this.qc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);var i=G_.createAndSchedule(this,e,t,n,(function(e){return r.Xc(e)}));return this.Gc.push(i),i}},{key:"Jc",value:function(){this.Qc&&ky()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ta",value:function(){var e=$e(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.qc,e.next=3,t;case 3:if(t!==this.qc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ea",value:function(e){var t,n=C(this.Gc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"na",value:function(e){var t=this;return this.ta().then((function(){t.Gc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=C(t.Gc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ta()}))}},{key:"sa",value:function(e){this.Wc.push(e)}},{key:"Xc",value:function(e){var t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}]),e}();function aC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=C(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var oC=function(){function e(){h(this,e),this._progressObserver={},this._taskCompletionResolver=new Iy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return y(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),uC=function(e){k(n,e);var t=I(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new iC,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return y(n,[{key:"_terminate",value:function(){return this._firestoreClient||cC(this),this._firestoreClient.terminate()}}]),n}(XT);function sC(e){return e._firestoreClient||cC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cC(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new yg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new xT(e._authCredentials,e._appCheckCredentials,e._queue,r)}function lC(e,t,n){var r=new Iy;return e.asyncQueue.enqueue($e(Ye().mark((function i(){var a;return Ye().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,ET(e,n);case 3:return i.next=5,_T(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===xy.FAILED_PRECONDITION||e.code===xy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:yy("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function fC(e){return function(e){return e.asyncQueue.enqueue($e(Ye().mark((function t(){var n,r;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,OT(e);case 2:return n=t.sent,t.next=5,RT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=wy(e);return t.mu.delete(0),a_(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(sC(e=GT(e,uC)))}function dC(e){return function(e){return e.asyncQueue.enqueue($e(Ye().mark((function t(){var n,r;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,OT(e);case 2:return n=t.sent,t.next=5,RT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=wy(t)).mu.add(0),e.next=4,u_(n);case 4:n.pu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(sC(e=GT(e,uC)))}function hC(e,t){var n=sC(e=GT(e,uC)),r=new oC;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new kT(e,t)}(function(e,t){if(e instanceof Uint8Array)return yT(e,t);if(e instanceof ArrayBuffer)return yT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,JI(t));e.asyncQueue.enqueueAndForget($e(Ye().mark((function t(){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=dT,t.next=3,PT(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function pC(e,t){return function(e,t){return e.asyncQueue.enqueue($e(Ye().mark((function n(){return Ye().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=wy(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Os.getNamedQuery(e,t)}))},n.next=3,DT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(sC(e=GT(e,uC)),t).then((function(t){return t?new $T(e,null,t.query):null}))}function vC(e){if(e._initialized||e._terminated)throw new Ey(xy.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var mC=function(){function e(t){h(this,e),this._byteString=t}return y(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Sg.fromBase64String(t))}catch(t){throw new Ey(xy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Sg.fromUint8Array(t))}}]),e}(),yC=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Ey(xy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zy(n)}return y(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var gC=y((function e(t){h(this,e),this._methodName=t})),kC=function(){function e(t,n){if(h(this,e),!isFinite(t)||t<-90||t>90)throw new Ey(xy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ey(xy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return y(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ly(this._lat,e._lat)||Ly(this._long,e._long)}}]),e}(),bC=/^__.*__$/,wC=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Rb(e,this.data,this.fieldMask,t,this.fieldTransforms):new Db(e,this.data,t,this.fieldTransforms)}}]),e}(),xC=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return y(e,[{key:"toMutation",value:function(e,t){return new Rb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function EC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ky()}}var IC=function(){function e(t,n,r,i,a,o){h(this,e),this.settings=t,this.databaseId=n,this.Tt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ia(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return y(e,[{key:"path",get:function(){return this.settings.path}},{key:"ra",get:function(){return this.settings.ra}},{key:"oa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.aa(e),r}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:n,ca:!1});return r.ia(),r}},{key:"la",value:function(e){return this.oa({path:void 0,ca:!0})}},{key:"fa",value:function(e){return KC(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ia",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.aa(this.path.get(e))}},{key:"aa",value:function(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(EC(this.ra)&&bC.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}]),e}(),_C=function(){function e(t,n,r){h(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.Tt=r||JI(t)}return y(e,[{key:"wa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new IC({ra:e,methodName:t,_a:n,path:zy.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}]),e}();function SC(e){var t=e._freezeSettings(),n=JI(e._databaseId);return new _C(e._databaseId,!!t.ignoreUndefinedProperties,n)}function TC(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.wa(a.merge||a.mergeFields?2:0,t,n,i);UC("Data must be an object, but it was:",o,r);var u,s,c=FC(r,o);if(a.merge)u=new Ok(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=C(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=l.value,p=BC(t,h,n);if(!o.contains(p))throw new Ey(xy.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));WC(f,p)||f.push(p)}}catch(v){d.e(v)}finally{d.f()}u=new Ok(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new wC(new Dk(c),u,s)}var CC=function(e){k(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ra)throw 1===e.ra?e.fa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.fa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gC);function NC(e,t,n){return new IC({ra:3,_a:t.settings._a,methodName:e._methodName,ca:n},t.databaseId,t.Tt,t.ignoreUndefinedProperties)}var AC=function(e){k(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return y(n,[{key:"_toFieldTransform",value:function(e){return new xb(e.path,new pb)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gC),OC=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).ma=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=NC(this,e,!0),n=this.ma.map((function(e){return MC(e,t)})),r=new vb(n);return new xb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gC),DC=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).ma=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=NC(this,e,!0),n=this.ma.map((function(e){return MC(e,t)})),r=new yb(n);return new xb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gC),RC=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).ga=r,i}return y(n,[{key:"_toFieldTransform",value:function(e){var t=new kb(e.Tt,cb(e.Tt,this.ga));return new xb(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gC);function PC(e,t,n,r){var i=e.wa(1,t,n);UC("Data must be an object, but it was:",i,r);var a=[],o=Dk.empty();bg(r,(function(e,r){var u=zC(t,e,n);r=ki(r);var s=i.ha(u);if(r instanceof CC)a.push(u);else{var c=MC(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Ok(a);return new xC(o,u,i.fieldTransforms)}function LC(e,t,n,r,i,a){var o=e.wa(1,t,n),u=[BC(t,r,n)],s=[i];if(a.length%2!=0)throw new Ey(xy.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(BC(t,a[c])),s.push(a[c+1]);for(var l=[],f=Dk.empty(),d=u.length-1;d>=0;--d)if(!WC(l,u[d])){var h=u[d],p=s[d];p=ki(p);var v=o.ha(h);if(p instanceof CC)l.push(h);else{var m=MC(p,v);null!=m&&(l.push(h),f.set(h,m))}}var y=new Ok(l);return new xC(f,y,o.fieldTransforms)}function jC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return MC(n,e.wa(r?4:3,t))}function MC(e,t){if(VC(e=ki(e)))return UC("Unsupported field value:",t,e),FC(e,t);if(e instanceof gC)return function(e,t){if(!EC(t.ra))throw t.fa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.fa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ca&&4!==t.ra)throw t.fa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=C(e);try{for(a.s();!(n=a.n()).done;){var o=MC(n.value,t.la(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ki(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return cb(t.Tt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Fy.fromDate(e);return{timestampValue:yw(t.Tt,n)}}if(e instanceof Fy){var r=new Fy(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yw(t.Tt,r)}}if(e instanceof kC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mC)return{bytesValue:gw(t.Tt,e._byteString)};if(e instanceof JT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.fa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ww(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.fa("Unsupported field value: ".concat(WT(e)))}(e,t)}function FC(e,t){var n={};return wg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bg(e,(function(e,r){var i=MC(r,t.ua(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function VC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Fy||e instanceof kC||e instanceof mC||e instanceof JT||e instanceof gC)}function UC(e,t,n){if(!VC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=WT(n);throw"an object"===r?t.fa(e+" a custom object"):t.fa(e+" "+r)}}function BC(e,t,n){if((t=ki(t))instanceof yC)return t._internalPath;if("string"==typeof t)return zC(e,t);throw KC("Field path arguments must be of type string or ",e,!1,void 0,n)}var qC=new RegExp("[~\\*/\\[\\]]");function zC(e,t,n){if(t.search(qC)>=0)throw KC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return _(yC,d(t.split(".")))._internalPath}catch(r){throw KC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function KC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Ey(xy.INVALID_ARGUMENT,u+e+s)}function WC(e,t){return e.some((function(e){return e.isEqual(t)}))}var GC=function(){function e(t,n,r,i,a){h(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return y(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new JT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new HC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(QC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),HC=function(e){k(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){return Wa(b(n.prototype),"data",this).call(this)}}]),n}(GC);function QC(e,t){return"string"==typeof t?zC(e,t):t instanceof yC?t._internalPath:t._delegate._internalPath}function XC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ey(xy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var YC=y((function e(){h(this,e)})),JC=function(e){k(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return y(n)}(YC);function $C(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof YC&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof tN})).length,n=e.filter((function(e){return e instanceof ZC})).length;if(t>1||t>0&&n>0)throw new Ey(xy.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=C(n);try{for(u.s();!(o=u.n()).done;){var s=o.value;e=s._apply(e)}}catch(c){u.e(c)}finally{u.f()}return e}var ZC=function(e){k(n,e);var t=I(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return y(n,[{key:"_apply",value:function(e){var t=this._parse(e);return hN(e._query,t),new $T(e.firestore,e.converter,$k(e._query,t))}},{key:"_parse",value:function(e){var t=SC(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Ey(xy.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){dN(o,a);var s,c=[],l=C(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(fN(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=fN(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||dN(o,a),u=jC(n,"where",o,"in"===a||"not-in"===a);return ak.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(JC);function eN(e,t,n){var r=t,i=QC("where",e);return ZC._create(i,r,n)}var tN=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return y(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:ok.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=C(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;hN(r,a),r=$k(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new $T(e.firestore,e.converter,$k(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(YC);var nN=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return y(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ey(xy.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ey(xy.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ek(t,n);return function(e,t){if(null===Hk(e)){var n=Qk(e);null!==n&&pN(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new $T(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new zk(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(JC);var rN=function(e){k(n,e);var t=I(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return y(n,[{key:"_apply",value:function(e){return new $T(e.firestore,e.converter,Zk(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(JC);var iN=function(e){k(n,e);var t=I(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=lN(e,this.type,this._docOrFields,this._inclusive);return new $T(e.firestore,e.converter,function(e,t){return new zk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(JC);function aN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return iN._create("startAt",t,!0)}function oN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return iN._create("startAfter",t,!1)}var uN=function(e){k(n,e);var t=I(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return y(n,[{key:"_apply",value:function(e){var t=lN(e,this.type,this._docOrFields,this._inclusive);return new $T(e.firestore,e.converter,function(e,t){return new zk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(JC);function sN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uN._create("endBefore",t,!1)}function cN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return uN._create("endAt",t,!0)}function lN(e,t,n,r){if(n[0]=ki(n[0]),n[0]instanceof GC)return function(e,t,n,r,i){if(!r)throw new Ey(xy.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=C(Yk(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(zg(t,r.key));else{var c=r.data.field(s.field);if(Og(c))throw new Ey(xy.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Ey(xy.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new tk(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=SC(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Ey(xy.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Ey(xy.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Xk(e)&&-1!==c.indexOf("/"))throw new Ey(xy.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(By.fromString(c));if(!Ky.isDocumentKey(l))throw new Ey(xy.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Ky(l);u.push(zg(t,f))}else{var d=jC(n,r,c);u.push(d)}}return new tk(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function fN(e,t,n){if("string"==typeof(n=ki(n))){if(""===n)throw new Ey(xy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xk(t)&&-1!==n.indexOf("/"))throw new Ey(xy.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(By.fromString(n));if(!Ky.isDocumentKey(r))throw new Ey(xy.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return zg(e,new Ky(r))}if(n instanceof JT)return zg(e,n._key);throw new Ey(xy.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(WT(n),"."))}function dN(e,t){if(!Array.isArray(e)||0===e.length)throw new Ey(xy.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function hN(e,t){if(t.isInequality()){var n=Qk(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Ey(xy.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Hk(e);null!==i&&pN(e,r,i)}var a=function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i,a=C(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Ey(xy.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ey(xy.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function pN(e,t,n){if(!n.isEqual(t))throw new Ey(xy.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var vN=function(){function e(){h(this,e)}return y(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(jg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ng(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ag(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ky()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return bg(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new kC(Ng(e.latitude),Ng(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Dg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Rg(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Cg(e);return new Fy(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=By.fromString(e);by(Ww(n));var r=new gg(n.get(1),n.get(3)),i=new Ky(n.popFirst(5));return r.isEqual(t)||my("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function mN(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var yN=function(e){k(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new mC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new JT(this.firestore,null,t)}}]),n}(vN);var gN=function(){function e(t,n){h(this,e),this.hasPendingWrites=t,this.fromCache=n}return y(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),kN=function(e){k(n,e);var t=I(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return y(n,[{key:"exists",value:function(){return Wa(b(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new bN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(QC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(GC),bN=function(e){k(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Wa(b(n.prototype),"data",this).call(this,e)}}]),n}(kN),wN=function(){function e(t,n,r,i){h(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new gN(i.hasPendingWrites,i.fromCache),this.query=r}return y(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new bN(n._firestore,n._userDataWriter,r.key,r,new gN(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ey(xy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new bN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new bN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:xN(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function xN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ky()}}function EN(e,t){return e instanceof kN&&t instanceof kN?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof wN&&t instanceof wN&&e._firestore===t._firestore&&rC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var IN=function(e){k(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new mC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new JT(this.firestore,null,t)}}]),n}(vN);function _N(e){e=GT(e,JT);var t=GT(e.firestore,uC),n=sC(t),r=new IN(t);return function(e,t){var n=new Iy;return e.asyncQueue.enqueueAndForget($e(Ye().mark((function r(){return Ye().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=$e(Ye().mark((function e(t,n,r){var i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=wy(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Ey(xy.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=H_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,DT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new kN(t,r,e._key,n,new gN(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function SN(e){e=GT(e,$T);var t=GT(e.firestore,uC),n=sC(t),r=new IN(t);return XC(e._query),VT(n,e._query).then((function(n){return new wN(t,r,e,n)}))}function TN(e){e=GT(e,$T);var t=GT(e.firestore,uC),n=sC(t),r=new IN(t);return function(e,t){var n=new Iy;return e.asyncQueue.enqueueAndForget($e(Ye().mark((function r(){return Ye().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=$e(Ye().mark((function e(t,n,r){var i,a,o,u,s;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,SI(t,n,!0);case 3:i=e.sent,a=new hS(n,i.Yi),o=a.Hu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=H_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,DT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new wN(t,r,e,n)}))}function CN(e,t,n){e=GT(e,JT);var r=GT(e.firestore,uC),i=mN(e.converter,t,n);return DN(r,[TC(SC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ib.none())])}function NN(e,t,n){e=GT(e,JT);for(var r=GT(e.firestore,uC),i=SC(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return DN(r,[("string"==typeof(t=ki(t))||t instanceof yC?LC(i,"updateDoc",e._key,t,n,o):PC(i,"updateDoc",e._key,t)).toMutation(e._key,Ib.exists(!0))])}function AN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ki(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||aC(n[s])||(u=n[s],s++);var c,l,f,d={includeMetadataChanges:u.includeMetadataChanges};if(aC(n[s])){var h=n[s];n[s]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[s+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[s+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof JT)l=GT(e.firestore,uC),f=Wk(e._key.path),c={next:function(t){n[s]&&n[s](RN(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=GT(e,$T);l=GT(p.firestore,uC),f=p._query;var v=new IN(l);c={next:function(e){n[s]&&n[s](new wN(l,v,p,e))},error:n[s+1],complete:n[s+2]},XC(e._query)}return function(e,t,n,r){var i=new gT(r),a=new oS(t,i,n);return e.asyncQueue.enqueueAndForget($e(Ye().mark((function t(){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Z_,t.next=3,jT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Pc(),e.asyncQueue.enqueueAndForget($e(Ye().mark((function t(){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=tS,t.next=3,jT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sC(l),f,d,c)}function ON(e,t){return function(e,t){var n=new gT(t);return e.asyncQueue.enqueueAndForget($e(Ye().mark((function t(){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){wy(e).vu.add(t),t.next()},t.next=3,jT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Pc(),e.asyncQueue.enqueueAndForget($e(Ye().mark((function t(){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){wy(e).vu.delete(t)},t.next=3,jT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sC(e=GT(e,uC)),aC(t)?t:{next:t})}function DN(e,t){return function(e,t){var n=new Iy;return e.asyncQueue.enqueueAndForget($e(Ye().mark((function r(){return Ye().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ES,r.next=3,PT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(sC(e),t)}function RN(e,t,n){var r=n.docs.get(t._key),i=new IN(e);return new kN(e,i,t._key,r,new gN(n.hasPendingWrites,n.fromCache),t.converter)}var PN={maxAttempts:5},LN=function(){function e(t,n){h(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=SC(t)}return y(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=jN(e,this._firestore),i=mN(r.converter,t,n),a=TC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Ib.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=jN(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ki(t))||t instanceof yC?LC(this._dataReader,"WriteBatch.update",i._key,t,n,o):PC(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Ib.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=jN(e,this._firestore);return this._mutations=this._mutations.concat(new Vb(t._key,Ib.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Ey(xy.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function jN(e,t){if((e=ki(e)).firestore!==t)throw new Ey(xy.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var MN=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r))._firestore=e,i}return y(n,[{key:"get",value:function(e){var t=this,r=jN(e,this._firestore),i=new IN(this._firestore);return Wa(b(n.prototype),"get",this).call(this,e).then((function(e){return new kN(t._firestore,i,r._key,e._document,new gN(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){h(this,e),this._firestore=t,this._transaction=n,this._dataReader=SC(t)}return y(e,[{key:"get",value:function(e){var t=this,n=jN(e,this._firestore),r=new yN(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ky();var i=e[0];if(i.isFoundDocument())return new GC(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new GC(t._firestore,r,n._key,null,n.converter);throw ky()}))}},{key:"set",value:function(e,t,n){var r=jN(e,this._firestore),i=mN(r.converter,t,n),a=TC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=jN(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ki(t))||t instanceof yC?LC(this._dataReader,"Transaction.update",i._key,t,n,o):PC(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=jN(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function FN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OC("arrayUnion",t)}function VN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new DC("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){dy=e}(ha),oa(new bi("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new uC(new Cy(e.getProvider("auth-internal")),new Dy(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ey(xy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gg(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ka(ly,"3.8.4",e),ka(ly,"3.8.4","esm2017")}();function UN(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ey("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function BN(){if("undefined"===typeof Uint8Array)throw new Ey("unimplemented","Uint8Arrays are not available in this environment.")}function qN(){if("undefined"==typeof atob)throw new Ey("unimplemented","Blobs are unavailable in Firestore in this environment.")}var zN=function(){function e(t){h(this,e),this._delegate=t}return y(e,[{key:"toBase64",value:function(){return qN(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return BN(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return qN(),new e(mC.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return BN(),new e(mC.fromUint8Array(t))}}]),e}();function KN(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var WN=function(){function e(){h(this,e)}return y(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){vC(e=GT(e,uC));var n=sC(e),r=e._freezeSettings(),i=new mT;return lC(n,i,new pT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){vC(e=GT(e,uC));var t=sC(e),n=e._freezeSettings(),r=new mT;return lC(t,r,new vT(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Ey(xy.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Iy;return e._queue.enqueueAndForgetEvenWhileRestricted($e(Ye().mark((function n(){return Ye().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=$e(Ye().mark((function e(t){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(og.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,og.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(fI(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),GN=function(){function e(t,n,r){var i=this;h(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof gg||(this._appCompat=t)}return y(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||yy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};YT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return fC(this._delegate)}},{key:"disableNetwork",value:function(){return dC(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&qT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Iy;return e.asyncQueue.enqueueAndForget($e(Ye().mark((function n(){return Ye().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=PS,n.next=3,PT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(sC(e=GT(e,uC)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return ON(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Ey("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new oA(this,eC(this._delegate,e))}catch(t){throw $N(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new JN(this,tC(this._delegate,e))}catch(t){throw $N(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new rA(this,function(e,t){if(e=GT(e,XT),BT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ey(xy.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new $T(e,null,function(e){return new zk(By.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw $N(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=GT(e,uC);var r=Object.assign(Object.assign({},PN),n);return function(e){if(e.maxAttempts<1)throw new Ey(xy.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Iy;return e.asyncQueue.enqueueAndForget($e(Ye().mark((function i(){var a;return Ye().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,LT(e);case 2:a=i.sent,new wT(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(sC(e),(function(n){return t(new MN(e,n))}),r)}(this._delegate,(function(n){return e(new QN(t,n))}))}},{key:"batch",value:function(){var e=this;return sC(this._delegate),new XN(new LN(this._delegate,(function(t){return DN(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return hC(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return pC(this._delegate,e).then((function(e){return e?new rA(t,e):null}))}}]),e}(),HN=function(e){k(n,e);var t=I(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return y(n,[{key:"convertBytes",value:function(e){return new zN(new mC(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return JN.forKey(t,this.firestore,null)}}]),n}(vN);var QN=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new HN(t)}return y(e,[{key:"get",value:function(e){var t=this,n=uA(e);return this._delegate.get(n).then((function(e){return new tA(t._firestore,new kN(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=uA(e);return n?(UN("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=uA(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=uA(e);return this._delegate.delete(t),this}}]),e}(),XN=function(){function e(t){h(this,e),this._delegate=t}return y(e,[{key:"set",value:function(e,t,n){var r=uA(e);return n?(UN("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=uA(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=uA(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),YN=function(){function e(t,n,r){h(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return y(e,[{key:"fromFirestore",value:function(e,t){var n=new bN(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new nA(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new HN(t),n),i.set(n,a)),a}}]),e}();YN.INSTANCES=new WeakMap;var JN=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new HN(t)}return y(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new oA(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new oA(this.firestore,eC(this._delegate,e))}catch(t){throw $N(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ki(e))instanceof JT&&nC(this._delegate,e)}},{key:"set",value:function(e,t){t=UN("DocumentReference.set",t);try{return t?CN(this._delegate,e,t):CN(this._delegate,e)}catch(n){throw $N(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?NN(this._delegate,e):NN.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw $N(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return DN(GT(e.firestore,uC),[new Vb(e._key,Ib.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=ZN(n),a=eA(n,(function(t){return new tA(e.firestore,new kN(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return AN(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?_N(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=GT(e,JT);var t=GT(e.firestore,uC);return FT(sC(t),e._key,{source:"server"}).then((function(n){return RN(t,e,n)}))}(this._delegate):function(e){e=GT(e,JT);var t=GT(e.firestore,uC);return FT(sC(t),e._key).then((function(n){return RN(t,e,n)}))}(this._delegate),t.then((function(e){return new tA(n.firestore,new kN(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(YN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Ey("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new JT(n._delegate,r,new Ky(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new JT(n._delegate,r,t))}}]),e}();function $N(e,t,n){return e.message=e.message.replace(t,n),e}function ZN(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!KN(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function eA(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=KN(e[0])?e[0]:KN(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var tA=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"ref",get:function(){return new JN(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return EN(this._delegate,e._delegate)}}]),e}(),nA=function(e){k(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return y(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||ky()}(void 0!==t),t}}]),n}(tA),rA=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new HN(t)}return y(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,$C(this._delegate,eN(t,n,r)))}catch(i){throw $N(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,$C(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=QC("orderBy",e);return nN._create(r,n)}(t,n)))}catch(r){throw $N(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,$C(this._delegate,function(e){return HT("limit",e),rN._create("limit",e,"F")}(t)))}catch(n){throw $N(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,$C(this._delegate,function(e){return HT("limitToLast",e),rN._create("limitToLast",e,"L")}(t)))}catch(n){throw $N(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,$C(this._delegate,aN.apply(void 0,arguments)))}catch(t){throw $N(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,$C(this._delegate,oN.apply(void 0,arguments)))}catch(t){throw $N(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,$C(this._delegate,sN.apply(void 0,arguments)))}catch(t){throw $N(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,$C(this._delegate,cN.apply(void 0,arguments)))}catch(t){throw $N(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return rC(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?TN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=GT(e,$T);var t=GT(e.firestore,uC),n=sC(t),r=new IN(t);return VT(n,e._query,{source:"server"}).then((function(n){return new wN(t,r,e,n)}))}(this._delegate):SN(this._delegate),t.then((function(e){return new aA(n.firestore,new wN(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=ZN(n),a=eA(n,(function(t){return new aA(e.firestore,new wN(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return AN(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(YN.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),iA=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new nA(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),aA=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return y(e,[{key:"query",get:function(){return new rA(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new nA(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new iA(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new nA(n._firestore,r))}))}},{key:"isEqual",value:function(e){return EN(this._delegate,e._delegate)}}]),e}(),oA=function(e){k(n,e);var t=I(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return y(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new JN(this.firestore,e):null}},{key:"doc",value:function(e){try{return new JN(this.firestore,void 0===e?tC(this._delegate):tC(this._delegate,e))}catch(t){throw $N(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=GT(e.firestore,uC),r=tC(e),i=mN(e.converter,t);return DN(n,[TC(SC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ib.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new JN(t.firestore,e)}))}},{key:"isEqual",value:function(e){return nC(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(YN.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(rA);function uA(e){return GT(e,JT)}var sA=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=_(yC,n)}return y(e,[{key:"isEqual",value:function(e){return(e=ki(e))instanceof yC&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(zy.keyField().canonicalString())}}]),e}(),cA=function(){function e(t){h(this,e),this._delegate=t}return y(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new AC("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new CC("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=FN.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=VN.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new RC("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),lA={Firestore:GN,GeoPoint:kC,Timestamp:Fy,Blob:zN,Transaction:QN,WriteBatch:XN,DocumentReference:JN,DocumentSnapshot:tA,Query:rA,QueryDocumentSnapshot:nA,QuerySnapshot:aA,CollectionReference:oA,FieldPath:sA,FieldValue:cA,setLogLevel:function(e){!function(e){hy.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new bi("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},lA)))}(e,(function(e,t){return new GN(e,t,new WN)})),e.registerVersion("@firebase/firestore-compat","0.3.4")}(za);za.initializeApp({apiKey:"AIzaSyDi8sp2O952SLnGzjOnb2hQJ3X_nOb9ymw",authDomain:"primerproyecto-5d54e.firebaseapp.com",projectId:"primerproyecto-5d54e",storageBucket:"primerproyecto-5d54e.appspot.com",messagingSenderId:"202283008769",appId:"1:202283008769:web:0431bcac3bc7f00f649100",measurementId:"G-3TXCLT66M0"});var fA=za;function dA(){return dA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dA.apply(this,arguments)}n(176);function hA(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function pA(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function vA(e,t,n){var i=(0,r.useRef)(void 0!==e),a=(0,r.useState)(t),o=a[0],u=a[1],s=void 0!==e,c=i.current;return i.current=s,!s&&c&&o!==t&&u(t),[s?e:o,(0,r.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),u(e)}),[n])]}function mA(e,t){return Object.keys(t).reduce((function(n,r){var i,a=n,o=a[hA(r)],u=a[r],s=Ze(a,[hA(r),r].map(pA)),c=t[r],l=vA(u,o,e[c]),f=l[0],d=l[1];return dA({},s,((i={})[r]=f,i[c]=d,i))}),e)}function yA(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function gA(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function kA(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}yA.__suppressDeprecationWarning=!0,gA.__suppressDeprecationWarning=!0,kA.__suppressDeprecationWarning=!0;var bA=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t};function wA(e){var t=bA(e);return(0,r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}function xA(){return(0,r.useState)(null)}function EA(){var e=(0,r.useRef)(!0),t=(0,r.useRef)((function(){return e.current}));return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t.current}function IA(e){var t=(0,r.useRef)(null);return(0,r.useEffect)((function(){t.current=e})),t.current}var _A="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,SA="undefined"!==typeof document||_A?r.useLayoutEffect:r.useEffect;new WeakMap;var TA=["as","disabled"];function CA(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,u=e.onClick,s=e.tabIndex,c=void 0===s?0:s,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var d=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==u||u(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:d,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),d(e))}},f]}var NA=r.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,TA),a=l(CA(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],u=a[1].tagName;return(0,at.jsx)(u,Object.assign({},i,o,{ref:t}))}));NA.displayName="Button";var AA=NA,OA=["onKeyDown"];var DA=r.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,OA),a=l(CA(Object.assign({tagName:"a"},i)),1)[0],o=wA((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,at.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,at.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));DA.displayName="Anchor";var RA=DA;var PA=n(164),LA=!1,jA=r.createContext(null),MA="unmounted",FA="exited",VA="entering",UA="entered",BA="exiting",qA=function(e){var t,n;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=FA,r.appearStatus=VA):i=UA:i=t.unmountOnExit||t.mountOnEnter?MA:FA,r.state={status:i},r.nextCallback=null,r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,g(t,n),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===MA?{status:FA}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==VA&&n!==UA&&(t=VA):n!==VA&&n!==UA||(t=BA)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===VA){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:PA.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===FA&&this.setState({status:MA})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[PA.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||LA?this.safeSetState({status:UA},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:VA},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:UA},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:PA.findDOMNode(this);t&&!LA?(this.props.onExit(r),this.safeSetState({status:BA},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:FA},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:FA},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:PA.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===MA)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Ze(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(jA.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},i}(r.Component);function zA(){}qA.contextType=jA,qA.propTypes={},qA.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:zA,onEntering:zA,onEntered:zA,onExit:zA,onExiting:zA,onExited:zA},qA.UNMOUNTED=MA,qA.EXITED=FA,qA.ENTERING=VA,qA.ENTERED=UA,qA.EXITING=BA;var KA=qA;function WA(e){return e&&e.ownerDocument||document}function GA(e,t){return function(e){var t=WA(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var HA=/([A-Z])/g;var QA=/^ms-/;function XA(e){return function(e){return e.replace(HA,"-$1").toLowerCase()}(e).replace(QA,"-ms-")}var YA=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var JA=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(XA(t))||GA(e).getPropertyValue(XA(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!YA.test(e))}(i)?n+=XA(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(XA(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},$A=!("undefined"===typeof window||!window.document||!window.document.createElement),ZA=!1,eO=!1;try{var tO={get passive(){return ZA=!0},get once(){return eO=ZA=!0}};$A&&(window.addEventListener("test",tO,tO),window.removeEventListener("test",tO,!0))}catch(wM){}var nO=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!eO){var i=r.once,a=r.capture,o=n;!eO&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,ZA?r:a)}e.addEventListener(t,n,r)};var rO=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var iO=function(e,t,n,r){return nO(e,t,n,r),function(){rO(e,t,n,r)}};function aO(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=iO(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function oO(e,t,n,r){null==n&&(n=function(e){var t=JA(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=aO(e,n,r),a=iO(e,"transitionend",t);return function(){i(),a()}}function uO(e,t){var n=JA(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function sO(e,t){var n=uO(e,"transitionDuration"),r=uO(e,"transitionDelay"),i=oO(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}function cO(e){e.offsetHeight}var lO=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var fO=function(e,t){return(0,r.useMemo)((function(){return function(e,t){var n=lO(e),r=lO(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])};var dO,hO=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],pO=r.forwardRef((function(e,t){var n=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,u=e.onExiting,s=e.onExited,c=e.addEndListener,l=e.children,f=e.childRef,d=et(e,hO),h=(0,r.useRef)(null),p=fO(h,f),v=function(e){var t;p((t=e)&&"setState"in t?PA.findDOMNode(t):null!=t?t:null)},m=function(e){return function(t){e&&h.current&&e(h.current,t)}},y=(0,r.useCallback)(m(n),[n]),g=(0,r.useCallback)(m(i),[i]),k=(0,r.useCallback)(m(a),[a]),b=(0,r.useCallback)(m(o),[o]),w=(0,r.useCallback)(m(u),[u]),x=(0,r.useCallback)(m(s),[s]),E=(0,r.useCallback)(m(c),[c]);return(0,at.jsx)(KA,Xe(Xe({ref:t},d),{},{onEnter:y,onEntered:k,onEntering:g,onExit:b,onExited:x,onExiting:w,addEndListener:E,nodeRef:h,children:"function"===typeof l?function(e,t){return l(e,Xe(Xe({},t),{},{ref:v}))}:r.cloneElement(l,{ref:v})}))})),vO=pO,mO=["className","children","transitionClasses"],yO=(He(dO={},VA,"show"),He(dO,UA,"show"),dO),gO=r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,u=et(e,mO),s=(0,r.useCallback)((function(e,t){cO(e),null==u.onEnter||u.onEnter(e,t)}),[u]);return(0,at.jsx)(vO,Xe(Xe({ref:t,addEndListener:sO},u),{},{onEnter:s,childRef:i.ref,children:function(e,t){return r.cloneElement(i,Xe(Xe({},t),{},{className:nt()("fade",n,i.props.className,yO[e],o[e])}))}}))}));gO.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},gO.displayName="Fade";var kO=gO,bO=["className","variant"],wO={"aria-label":it().string,onClick:it().func,variant:it().oneOf(["white"])},xO=r.forwardRef((function(e,t){var n=e.className,r=e.variant,i=et(e,bO);return(0,at.jsx)("button",Xe({ref:t,type:"button",className:nt()("btn-close",r&&"btn-close-".concat(r),n)},i))}));xO.displayName="CloseButton",xO.propTypes=wO,xO.defaultProps={"aria-label":"Close"};var EO=xO,IO=function(e){return r.forwardRef((function(t,n){return(0,at.jsx)("div",Xe(Xe({},t),{},{ref:n,className:nt()(t.className,e)}))}))},_O=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],SO=IO("h4");SO.displayName="DivStyledAsH4";var TO=Rt("alert-heading",{Component:SO}),CO=Rt("alert-link",{Component:RA}),NO={variant:"primary",show:!0,transition:kO,closeLabel:"Close alert"},AO=r.forwardRef((function(e,t){var n=mA(e,{show:"onClose"}),r=n.bsPrefix,i=n.show,a=n.closeLabel,o=n.closeVariant,u=n.className,s=n.children,c=n.variant,l=n.onClose,f=n.dismissible,d=n.transition,h=et(n,_O),p=ht(r,"alert"),v=wA((function(e){l&&l(!1,e)})),m=!0===d?kO:d,y=(0,at.jsxs)("div",Xe(Xe({role:"alert"},m?void 0:h),{},{ref:t,className:nt()(u,p,c&&"".concat(p,"-").concat(c),f&&"".concat(p,"-dismissible")),children:[f&&(0,at.jsx)(EO,{onClick:v,"aria-label":a,variant:o}),s]}));return m?(0,at.jsx)(m,Xe(Xe({unmountOnExit:!0},h),{},{ref:void 0,in:i,children:y})):i?y:null}));AO.displayName="Alert",AO.defaultProps=NO;var OO=Object.assign(AO,{Link:CO,Heading:TO});var DO=function(e){var t=e.variant,n=e.text,r=e.duration,i=void 0===r?0:r,a=e.link,o=xe();return 0!==i&&a&&setTimeout((function(){o(a)}),i),(0,at.jsxs)(OO,{variant:t,children:[" ",n]})},RO=["as","bsPrefix","variant","size","active","className"],PO=r.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,u=e.className,s=et(e,RO),c=ht(r,"btn"),f=l(CA(Xe({tagName:n},s)),2),d=f[0],h=f[1].tagName;return(0,at.jsx)(h,Xe(Xe(Xe({},d),s),{},{ref:t,className:nt()(u,c,o&&"active",i&&"".concat(c,"-").concat(i),a&&"".concat(c,"-").concat(a),s.href&&s.disabled&&"disabled")}))}));PO.displayName="Button",PO.defaultProps={variant:"primary",active:!1,disabled:!1};var LO=PO,jO=["bsPrefix","variant","animation","size","as","className"],MO=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,i=e.animation,a=void 0===i?"border":i,o=e.size,u=e.as,s=void 0===u?"div":u,c=e.className,l=et(e,jO);n=ht(n,"spinner");var f="".concat(n,"-").concat(a);return(0,at.jsx)(s,Xe(Xe({ref:t},l),{},{className:nt()(c,f,o&&"".concat(f,"-").concat(o),r&&"text-".concat(r))}))}));MO.displayName="Spinner";var FO=MO;var VO=function(e){var t=e.variant,n=void 0===t?"primary":t,r=e.type,i=void 0===r?"submit":r,a=e.loading,o=e.children;return(0,at.jsxs)(LO,{type:i,variant:n,disabled:a,children:[a&&(0,at.jsx)(FO,{animation:"border",size:"sm"}),o]})},UO={separador:{height:"500px",backgroundColor:"#027fbb",display:"flex",justifyContent:"center"},h1:{color:"white",marginTop:"200px",fontSize:"60px",fontWeight:"900"},container:{maxWidth:"370px",marginTop:"50px"},button:{width:"100%",height:"70px",backgroundColor:"#202d56"}};var BO=function(){var e,t,n=Mr({mode:"onChange"}),i=n.register,a=n.handleSubmit,o=n.formState.errors,u=l((0,r.useState)({variant:"",text:""}),2),s=u[0],c=u[1],f=l((0,r.useState)(!1),2),d=f[0],h=f[1],p=function(){var e=$e(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),console.log(t),e.prev=2,e.next=5,fA.auth().createUserWithEmailAndPassword(t.email,t.password);case 5:n=e.sent,console.log(n),n.user.uid&&(r=fA.firestore().collection("Usuarios").add({nombre:t.nombre,apellido:t.apellido,userId:n.user.uid}),console.log(r),r&&(c({variant:"success",text:"\xa1Registro Exitoso!",duration:3e3,link:"/ingresar"}),h(!1))),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),c({variant:"danger",text:"Error"}),console.log(e.t0),h(!1);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,at.jsxs)("div",{children:[(0,at.jsx)("div",{style:UO.separador,children:(0,at.jsx)("h1",{style:UO.h1,children:"BIENVENIDO/A!"})}),(0,at.jsx)(Br,{style:UO.container,children:(0,at.jsxs)(ln,{onSubmit:a(p),children:[(0,at.jsx)(Fr,{label:"Nombre",register:Xe({},i("nombre",{required:!0}))}),o.nombre&&(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:"This field is required"})}),(0,at.jsx)(Fr,{label:"Apellido",register:Xe({},i("apellido",{required:!0}))}),o.apellido&&(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:"This field is required"})}),(0,at.jsx)(Fr,{label:"E-mail",type:"email",autoComplete:"newUsername",register:Xe({},i("email",{required:!0}))}),o.email&&(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:"This field is required"})}),(0,at.jsx)(Fr,{label:"Contrase\xf1a",type:"password",autoComplete:"newPassword",register:Xe({},i("password",{required:!0,minLength:6}))}),o.password&&(0,at.jsxs)("div",{children:["required"===(null===(e=o.password)||void 0===e?void 0:e.type)&&(0,at.jsx)("span",{children:"This field is required"}),"minLength"===(null===(t=o.password)||void 0===t?void 0:t.type)&&(0,at.jsx)("span",{children:"*Debe tener al menos 6 caracteres"})]}),(0,at.jsx)(VO,{variant:"primary",type:"submit",loading:d,style:UO.button,children:"Registrarse"}),s&&(0,at.jsx)(DO,Xe({},s))]})})]})},qO=function(e,t){var n="string"==typeof e?e:t||"(default)",r=ua("object"==typeof e?e:va(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=Yr("firestore");i&&YT.apply(void 0,[r].concat(d(i)))}return r}(),zO=function(){var e=$e(Ye().mark((function e(){var t,n,r,i,a,o,u,s,c,l=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:"",n=l.length>1&&void 0!==l[1]?l[1]:"",r=l.length>2&&void 0!==l[2]?l[2]:"",i=eC(qO,"Productos"),a=t.toLowerCase().trim(),o=n.toLowerCase().trim(),u=[],a&&u.push(eN("title_normalized",">=",a),eN("title_normalized","<=",a+"\uf8ff")),o&&u.push(eN("category_normalized",">=",o),eN("category_normalized","<=",o+"\uf8ff")),r&&u.push(eN("Barcode",">=",r),eN("Barcode","<=",r+"\uf8ff")),s=$C.apply(void 0,[i].concat(u)),e.next=13,SN(s);case 13:return c=e.sent,e.abrupt("return",c.docs.map((function(e){return{id:e.id,data:e.data()}})));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function KO(){return WO.apply(this,arguments)}function WO(){return(WO=$e(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fA.firestore().collection("CarouselImg").get();case 2:return t=e.sent,e.abrupt("return",t.docs);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GO(e){return HO.apply(this,arguments)}function HO(){return HO=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fA.firestore().doc("Productos/".concat(t)).get();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),HO.apply(this,arguments)}function QO(e){return XO.apply(this,arguments)}function XO(){return(XO=$e(Ye().mark((function e(t){var n,r,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.title.toLowerCase().replace(/\s+/g,""),r=t.category.toLowerCase().replace(/\s+/g,""),i=Xe(Xe({},t),{},{title_normalized:n,category_normalized:r}),e.prev=3,e.next=6,fA.firestore().collection("Productos").add(i);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),console.error("Error adding document: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function YO(e,t){return JO.apply(this,arguments)}function JO(){return JO=$e(Ye().mark((function e(t,n){var r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.title?n.title.toLowerCase().replace(/\s+/g,""):void 0,i=n.category?n.category.toLowerCase().replace(/\s+/g,""):void 0,a=Xe(Xe({},n),{},{title_normalized:r,category_normalized:i}),e.prev=3,e.next=6,fA.firestore().doc("Productos/".concat(t)).set(a,{merge:!0});case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(3),console.error("Error updating document: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])}))),JO.apply(this,arguments)}function $O(){return $O=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fA.firestore().doc("Productos/".concat(t)).delete();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),$O.apply(this,arguments)}var ZO=function(){var e=$e(Ye().mark((function e(t){var n,r,i,a;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=eC(qO,"Productos"),r=$C(n,eN("Barcode","==",t)),e.next=4,SN(r);case 4:if((i=e.sent).empty){e.next=10;break}return a=i.docs[0],e.abrupt("return",{id:a.id,data:a.data()});case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),eD=function(){var e=$e(Ye().mark((function e(t){var n,r,i,a,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.toLowerCase().replace(/\s+/g,""),r=eC(qO,"Productos"),i=$C(r,eN("title_normalized",">=",n),eN("title_normalized","<=",n+"\uf8ff")),e.next=5,SN(i);case 5:if((a=e.sent).empty){e.next=11;break}return o=a.docs[0],e.abrupt("return",{id:o.id,data:o.data()});case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tD=function(){var e=$e(Ye().mark((function e(t,n){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tC(qO,"Productos",t),e.next=3,NN(r,{stock:n});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),nD=r.createContext(),rD=function(e){var t=e.children,n=l((0,r.useState)(!!localStorage.getItem("login")),2),i=n[0],a=n[1],o=l((0,r.useState)(JSON.parse(localStorage.getItem("user"))||{}),2),u=o[0],s=o[1];return(0,at.jsx)(nD.Provider,{value:{login:i,handleLogin:function(e){localStorage.setItem("login","true"),a(!0),e&&(s(e),localStorage.setItem("user",JSON.stringify(e)))},handleLogout:function(){localStorage.removeItem("login"),localStorage.removeItem("user"),a(!1)},user:u},children:t})},iD=function(){return(0,r.useContext)(nD)},aD={precioBoton:{display:"flex",flexDirection:"row",justifyContent:"space-between"},buttons:{height:"40px",marginTop:"20px",backgroundColor:"#202d56",margin:"10px"},botones:{display:"flex"},tabla:{textAlign:"center",width:"95%",marginLeft:"2.5%"},itemtabla1:{width:"20%",padding:"10px",borderCollapse:"collapse",border:"black 1px solid"},itemtabla2:{width:"20%",borderCollapse:"collapse",border:"black 1px solid"},itemtabla3:{width:"15%",borderCollapse:"collapse",border:"black 1px solid"},itemtabla4:{width:"15%",borderCollapse:"collapse",border:"black 1px solid"},itemtabla5:{width:"12.5%",borderCollapse:"collapse",border:"black 1px solid"},itemtabla6:{width:"12.5%",borderCollapse:"collapse",border:"black 1px solid"},deshabilitado:{color:"gray",textDecoration:"line-through"}};var oD=function(e){var t=e.id,n=e.title,r=e.price,i=e.Barcode,a=e.category,o=e.stock,u=iD().login;return(0,at.jsx)(at.Fragment,{children:(0,at.jsxs)("tr",{style:o<=0?aD.deshabilitado:{},children:[(0,at.jsx)("td",{style:aD.itemtabla1,children:i}),(0,at.jsx)("td",{style:aD.itemtabla2,children:n}),(0,at.jsx)("td",{style:aD.itemtabla3,children:r}),(0,at.jsx)("td",{style:aD.itemtabla4,children:a}),(0,at.jsx)("td",{style:aD.itemtabla5,children:o}),(0,at.jsx)("td",{style:aD.itemtabla6,children:u&&(0,at.jsx)(at.Fragment,{children:(0,at.jsx)(LO,{className:"boton",as:Ke,to:"/detalle/editar/".concat(t),style:aD.buttons,children:"Editar"})})})]})})};var uD=function(e){var t=e.loading,n=e.children;return t?(0,at.jsx)("div",{className:"spinner",children:(0,at.jsx)(FO,{animation:"grow",role:"status",children:(0,at.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,at.jsx)(at.Fragment,{children:n})},sD={button:{width:"100px",height:"50px",backgroundColor:"#202d56"},buscar:{margin:"10px"},tabla:{tableLayout:"fixed",width:"95%",marginLeft:"2.5%",borderCollapse:"collapse",border:"black 1px solid",textAlign:"center"},itemtabla1:{width:"20%",padding:"10px"},itemtabla2:{width:"20%"},itemtabla3:{width:"15%"},itemtabla4:{width:"15%"},itemtabla5:{width:"12.5%"},itemtabla6:{width:"12.5%"},tbody:{borderCollapse:"collapse",border:"black 1px solid",textAlign:"center"},clearButton:{background:"none",border:"none",cursor:"pointer",fontSize:"16px",padding:"0 5px"}};var cD=function(){var e=l((0,r.useState)(""),2),t=e[0],n=e[1],i=l((0,r.useState)(""),2),a=i[0],o=i[1],u=l((0,r.useState)(""),2),s=u[0],c=u[1],f=l((0,r.useState)(!0),2),d=f[0],h=f[1],p=l((0,r.useState)([]),2),v=p[0],m=p[1],y=l((0,r.useState)("titulo"),2),g=y[0],k=y[1];(0,r.useEffect)((function(){var e=function(){var e=$e(Ye().mark((function e(){var n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,zO(t,a,s);case 4:n=e.sent,m(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:h(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[t,a,s]);var b=function(e){return function(){return e("")}};return(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)(uD,{loading:d}),(0,at.jsx)("div",{style:sD.buscar,children:(0,at.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(e.target.elements.query.value),o(e.target.elements.category.value),c(e.target.elements.barcode.value)},children:[(0,at.jsxs)("select",{onChange:function(e){return k(e.target.value)},value:g,children:[(0,at.jsx)("option",{value:"titulo",children:"Filtrar por t\xedtulo"}),(0,at.jsx)("option",{value:"categoria",children:"Filtrar por categor\xeda"}),(0,at.jsx)("option",{value:"barcode",children:"Filtrar por barcode"})]}),"titulo"===g&&(0,at.jsxs)("div",{children:[(0,at.jsx)("input",{type:"text",name:"query",placeholder:"Buscar t\xedtulo",value:t,onChange:function(e){return n(e.target.value)}}),t&&(0,at.jsx)("button",{type:"button",style:sD.clearButton,onClick:b(n),children:"X"})]}),"categoria"===g&&(0,at.jsxs)("div",{children:[(0,at.jsx)("input",{type:"text",name:"category",placeholder:"Buscar categor\xeda",value:a,onChange:function(e){return o(e.target.value)}}),a&&(0,at.jsx)("button",{type:"button",style:sD.clearButton,onClick:b(o),children:"X"})]}),"barcode"===g&&(0,at.jsxs)("div",{children:[(0,at.jsx)("input",{type:"number",min:0,name:"barcode",placeholder:"Buscar barcode",value:s,onChange:function(e){return c(e.target.value)}}),s&&(0,at.jsx)("button",{type:"button",style:sD.clearButton,onClick:b(c),children:"X"})]})]})}),(0,at.jsxs)("table",{style:sD.tabla,children:[(0,at.jsx)("thead",{style:sD.tr,children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{style:sD.itemtabla1,scope:"col",children:"Barcode"}),(0,at.jsx)("th",{style:sD.itemtabla2,scope:"col",children:"Titulo"}),(0,at.jsx)("th",{style:sD.itemtabla3,scope:"col",children:"Precio"}),(0,at.jsx)("th",{style:sD.itemtabla4,scope:"col",children:"Categoria"}),(0,at.jsx)("th",{style:sD.itemtabla5,scope:"col",children:"Stock"}),(0,at.jsx)("th",{style:sD.itemtabla6,scope:"col",children:"Editar"})]})}),(0,at.jsx)("tbody",{style:sD.tbody,children:v.map((function(e){return(0,at.jsx)(oD,{id:e.id,title:e.data.title,stock:e.data.stock,price:e.data.price,category:e.data.category,Barcode:e.data.Barcode,disabled:0===e.data.stock},e.id)}))})]})]})},lD={separador:{height:"500px",backgroundColor:"#FFAE00",display:"flex",justifyContent:"center"},h1:{color:"white",marginTop:"200px",fontSize:"60px",fontWeight:"900"}};var fD=function(){return(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("div",{style:lD.separador,children:(0,at.jsx)("h1",{style:lD.h1,children:"INVENTARIO"})}),(0,at.jsx)(cD,{})]})};function dD(e){return hD.apply(this,arguments)}function hD(){return(hD=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fA.firestore().collection("Usuarios").where("userId","==",t).get();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pD={separador:{height:"500px",backgroundColor:"#027fbb",display:"flex",justifyContent:"center"},h1:{color:"white",marginTop:"200px",fontSize:"60px",fontWeight:"900"},container:{maxWidth:"370px",marginTop:"50px"},button:{width:"100%",height:"70px",backgroundColor:"#202d56"},buttonG:{width:"100%",height:"70px",backgroundColor:"orange"},label:{color:"#454545"}};var vD=function(){var e,t,n=Mr({mode:"onChange"}),i=n.register,a=n.handleSubmit,o=n.formState.errors,u=l((0,r.useState)({variant:"",text:""}),2),s=u[0],c=u[1],f=l((0,r.useState)(!1),2),d=f[0],h=f[1],p=iD().handleLogin,v=function(){var e=$e(Ye().mark((function e(t){var n,r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,fA.auth().signInWithEmailAndPassword(t.email,t.password);case 4:if(n=e.sent,console.log(n),!n.user.uid){e.next=13;break}return e.next=9,dD(n.user.uid);case 9:r=e.sent,p(r.docs[0].data()),c({variant:"success",text:"\xa1Correcto!",duration:3e3,link:"/"}),h(!1);case 13:e.next=21;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0),c({variant:"danger",text:"Error"}),console.log(e.t0),h(!1);case 21:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return(0,at.jsx)(at.Fragment,{children:(0,at.jsxs)("div",{children:[(0,at.jsx)("div",{style:pD.separador,children:(0,at.jsx)("h1",{style:pD.h1,children:"LOGIN"})}),(0,at.jsx)(Br,{style:pD.container,children:(0,at.jsxs)(ln,{onSubmit:a(v),children:[(0,at.jsx)(Fr,{label:"E-mail",type:"email",autoComplete:"username",register:Xe({},i("email",{required:!0})),style:pD.label}),o.email&&(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:"This field is required"})}),(0,at.jsx)(Fr,{label:"Contrase\xf1a",type:"password",autoComplete:"current-password",register:Xe({},i("password",{required:!0,minLength:6})),style:pD.label}),o.password&&(0,at.jsxs)("div",{children:["required"===(null===(e=o.password)||void 0===e?void 0:e.type)&&(0,at.jsx)("span",{children:"This field is required"}),"minLength"===(null===(t=o.password)||void 0===t?void 0:t.type)&&(0,at.jsx)("span",{children:"*Debe tener al menos 6 caracteres"})]}),(0,at.jsxs)(LO,{disabled:d,style:pD.button,type:"submit",children:[d&&(0,at.jsx)(FO,{animation:"border",size:"sm"}),"Iniciar"]}),s&&(0,at.jsx)(DO,Xe({},s))]})})]})})},mD=(n(573),Function.prototype.bind.call(Function.prototype.call,[].slice));function yD(e,t){return mD(e.querySelectorAll(t))}function gD(){return(0,r.useReducer)((function(e){return!e}),!1)[1]}var kD=r.createContext(null);kD.displayName="NavContext";var bD=kD,wD=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},xD=r.createContext(null),ED=r.createContext(null);function ID(e){return"".concat("data-rr-ui-").concat(e)}var _D=["as","active","eventKey"];function SD(e){var t=e.key,n=e.onClick,i=e.active,a=e.id,o=e.role,u=e.disabled,s=(0,r.useContext)(xD),c=(0,r.useContext)(bD),l=(0,r.useContext)(ED),f=i,d={role:o};if(c){o||"tablist"!==c.role||(d.role="tab");var h=c.getControllerId(null!=t?t:null),p=c.getControlledId(null!=t?t:null);d[ID("event-key")]=t,d.id=h||a,!(f=null==i&&null!=t?c.activeKey===t:i)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(d["aria-controls"]=p)}return"tab"===d.role&&(d["aria-selected"]=f,f||(d.tabIndex=-1),u&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=wA((function(e){u||(null==n||n(e),null!=t&&s&&!e.isPropagationStopped()&&s(t,e))})),[d,{isActive:f}]}var TD=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?AA:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,_D),u=l(SD(Object.assign({key:wD(a,o.href),active:i},o)),2),s=u[0],c=u[1];return s[ID("active")]=c.isActive,(0,at.jsx)(r,Object.assign({},o,s,{ref:t}))}));TD.displayName="NavItem";var CD=TD,ND=["as","onSelect","activeKey","role","onKeyDown"];var AD=function(){},OD=ID("event-key"),DD=r.forwardRef((function(e,t){var n,i,a=e.as,o=void 0===a?"div":a,u=e.onSelect,s=e.activeKey,c=e.role,l=e.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ND),d=gD(),h=(0,r.useRef)(!1),p=(0,r.useContext)(xD),v=(0,r.useContext)(ED);v&&(c=c||"tablist",s=v.activeKey,n=v.getControlledId,i=v.getControllerId);var m=(0,r.useRef)(null),y=function(e){var t=m.current;if(!t)return null;var n=yD(t,"[".concat(OD,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},g=function(e,t){null!=e&&(null==u||u(e,t),null==p||p(e,t))};(0,r.useEffect)((function(){if(m.current&&h.current){var e=m.current.querySelector("[".concat(OD,"][aria-selected=true]"));null==e||e.focus()}h.current=!1}));var k=fO(t,m);return(0,at.jsx)(xD.Provider,{value:g,children:(0,at.jsx)(bD.Provider,{value:{role:c,activeKey:wD(s),getControlledId:n||AD,getControllerId:i||AD},children:(0,at.jsx)(o,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}if(t)e.preventDefault(),g(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),h.current=!0,d()}},ref:k,role:c}))})})}));DD.displayName="Nav";var RD=Object.assign(DD,{Item:CD}),PD=r.createContext(null);PD.displayName="NavbarContext";var LD=PD,jD=r.createContext(null);jD.displayName="CardHeaderContext";var MD=jD,FD=Rt("nav-item"),VD=["bsPrefix","className","as","active","eventKey"],UD=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?RA:i,o=e.active,u=e.eventKey,s=et(e,VD);n=ht(n,"nav-link");var c=l(SD(Xe({key:wD(u,s.href),active:o},s)),2),f=c[0],d=c[1];return(0,at.jsx)(a,Xe(Xe(Xe({},s),f),{},{ref:t,className:nt()(r,n,s.disabled&&"disabled",d.isActive&&"active")}))}));UD.displayName="NavLink",UD.defaultProps={disabled:!1};var BD=UD,qD=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],zD=r.forwardRef((function(e,t){var n,i,a,o=mA(e,{activeKey:"onSelect"}),u=o.as,s=void 0===u?"div":u,c=o.bsPrefix,l=o.variant,f=o.fill,d=o.justify,h=o.navbar,p=o.navbarScroll,v=o.className,m=o.activeKey,y=et(o,qD),g=ht(c,"nav"),k=!1,b=(0,r.useContext)(LD),w=(0,r.useContext)(MD);return b?(i=b.bsPrefix,k=null==h||h):w&&(a=w.cardHeaderBsPrefix),(0,at.jsx)(RD,Xe({as:s,ref:t,activeKey:m,className:nt()(v,(n={},He(n,g,!k),He(n,"".concat(i,"-nav"),k),He(n,"".concat(i,"-nav-scroll"),k&&p),He(n,"".concat(a,"-").concat(l),!!a),He(n,"".concat(g,"-").concat(l),!!l),He(n,"".concat(g,"-fill"),f),He(n,"".concat(g,"-justified"),d),n))},y))}));zD.displayName="Nav",zD.defaultProps={justify:!1,fill:!1};var KD=Object.assign(zD,{Item:FD,Link:BD}),WD=["bsPrefix","className","as"],GD=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=et(e,WD);n=ht(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,at.jsx)(o,Xe(Xe({},a),{},{ref:t,className:nt()(r,n)}))}));GD.displayName="NavbarBrand";var HD=GD;var QD,XD=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)},YD=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],JD={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function $D(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=JD[e];return n+parseInt(JA(t,r[0]),10)+parseInt(JA(t,r[1]),10)}var ZD=(He(QD={},FA,"collapse"),He(QD,BA,"collapsing"),He(QD,VA,"collapsing"),He(QD,UA,"collapse show"),QD),eR={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:$D},tR=r.forwardRef((function(e,t){var n=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,u=e.onExiting,s=e.className,c=e.children,l=e.dimension,f=void 0===l?"height":l,d=e.getDimensionValue,h=void 0===d?$D:d,p=et(e,YD),v="function"===typeof f?f():f,m=(0,r.useMemo)((function(){return XD((function(e){e.style[v]="0"}),n)}),[v,n]),y=(0,r.useMemo)((function(){return XD((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),i)}),[v,i]),g=(0,r.useMemo)((function(){return XD((function(e){e.style[v]=null}),a)}),[v,a]),k=(0,r.useMemo)((function(){return XD((function(e){e.style[v]="".concat(h(v,e),"px"),cO(e)}),o)}),[o,h,v]),b=(0,r.useMemo)((function(){return XD((function(e){e.style[v]=null}),u)}),[v,u]);return(0,at.jsx)(vO,Xe(Xe({ref:t,addEndListener:sO},p),{},{"aria-expanded":p.role?p.in:null,onEnter:m,onEntering:y,onEntered:g,onExit:k,onExiting:b,childRef:c.ref,children:function(e,t){return r.cloneElement(c,Xe(Xe({},t),{},{className:nt()(s,c.props.className,ZD[e],"width"===v&&"collapse-horizontal")}))}}))}));tR.defaultProps=eR;var nR=tR,rR=["children","bsPrefix"],iR=r.forwardRef((function(e,t){var n=e.children,i=e.bsPrefix,a=et(e,rR);i=ht(i,"navbar-collapse");var o=(0,r.useContext)(LD);return(0,at.jsx)(nR,Xe(Xe({in:!(!o||!o.expanded)},a),{},{children:(0,at.jsx)("div",{ref:t,className:i,children:n})}))}));iR.displayName="NavbarCollapse";var aR=iR,oR=["bsPrefix","className","children","label","as","onClick"],uR=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=e.label,u=e.as,s=void 0===u?"button":u,c=e.onClick,l=et(e,oR);n=ht(n,"navbar-toggler");var f=(0,r.useContext)(LD)||{},d=f.onToggle,h=f.expanded,p=wA((function(e){c&&c(e),d&&d()}));return"button"===s&&(l.type="button"),(0,at.jsx)(s,Xe(Xe({},l),{},{ref:t,onClick:p,"aria-label":o,className:nt()(i,n,!h&&"collapsed"),children:a||(0,at.jsx)("span",{className:"".concat(n,"-icon")})}))}));uR.displayName="NavbarToggle",uR.defaultProps={label:"Toggle navigation"};var sR=uR,cR=new WeakMap,lR=function(e,t){if(e&&t){var n=cR.get(t)||new Map;cR.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function fR(e,t){void 0===t&&(t="undefined"===typeof window?void 0:window);var n=lR(e,t),i=(0,r.useState)((function(){return!!n&&n.matches})),a=i[0],o=i[1];return SA((function(){var n=lR(e,t);if(!n)return o(!1);var r=cR.get(t),i=function(){o(n.matches)};return n.refCount++,n.addListener(i),i(),function(){n.removeListener(i),n.refCount--,n.refCount<=0&&(null==r||r.delete(n.media)),n=void 0}}),[e]),a}var dR=function(e){var t=Object.keys(e);function n(e,t){return e===t?t:e?e+" and "+t:t}function i(n){var r=function(e){return t[Math.min(t.indexOf(e)+1,t.length-1)]}(n),i=e[r];return"(max-width: "+(i="number"===typeof i?i-.2+"px":"calc("+i+" - 0.2px)")+")"}return function(t,a,o){var u,s;return"object"===typeof t?(u=t,o=a,a=!0):((s={})[t]=a=a||!0,u=s),fR((0,r.useMemo)((function(){return Object.entries(u).reduce((function(t,r){var a=r[0],o=r[1];return"up"!==o&&!0!==o||(t=n(t,function(t){var n=e[t];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(a))),"down"!==o&&!0!==o||(t=n(t,i(a))),t}),"")}),[JSON.stringify(u)]),o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function hR(e){void 0===e&&(e=WA());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(wM){return e.body}}function pR(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function vR(e){var t=function(e){var t=(0,r.useRef)(e);return t.current=e,t}(e);(0,r.useEffect)((function(){return function(){return t.current()}}),[])}var mR=ID("modal-open"),yR=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;h(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return y(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=He({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(JA(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(mR,""),JA(r,t)}},{key:"reset",value:function(){var e=this;d(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(mR),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),gR=yR,kR=(0,r.createContext)($A?window:void 0);kR.Provider;function bR(){return(0,r.useContext)(kR)}var wR=function(e,t){return $A?null==e?(t||WA()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};var xR=function(e){var t=e.children,n=e.in,i=e.onExited,a=e.mountOnEnter,o=e.unmountOnExit,u=(0,r.useRef)(null),s=(0,r.useRef)(n),c=wA(i);(0,r.useEffect)((function(){n?s.current=!0:c(u.current)}),[n,c]);var l=fO(u,t.ref),f=(0,r.cloneElement)(t,{ref:l});return n?f:o||!s.current&&a?null:f};function ER(e){var t=e.children,n=e.in,i=e.onExited,a=e.onEntered,o=e.transition,u=l((0,r.useState)(!n),2),s=u[0],c=u[1];n&&s&&c(!1);var f=function(e){var t=e.in,n=e.onTransition,i=(0,r.useRef)(null),a=(0,r.useRef)(!0),o=wA(n);return SA((function(){if(i.current){var e=!1;return o({in:t,element:i.current,initial:a.current,isStale:function(){return e}}),function(){e=!0}}}),[t,o]),SA((function(){return a.current=!1,function(){a.current=!0}}),[]),i}({in:!!n,onTransition:function(e){Promise.resolve(o(e)).then((function(){e.isStale()||(e.in?null==a||a(e.element,e.initial):(c(!0),null==i||i(e.element)))}),(function(t){throw e.in||c(!0),t}))}}),d=fO(f,t.ref);return s&&!n?null:(0,r.cloneElement)(t,{ref:d})}function IR(e,t,n){return e?(0,at.jsx)(e,Object.assign({},n)):t?(0,at.jsx)(ER,Object.assign({},n,{transition:t})):(0,at.jsx)(xR,Object.assign({},n))}var _R,SR=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function TR(e){var t=bR(),n=e||function(e){return _R||(_R=new gR({ownerDocument:null==e?void 0:e.document})),_R}(t),i=(0,r.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return n.add(i.current)},remove:function(){return n.remove(i.current)},isTopModal:function(){return n.isTopModal(i.current)},setDialogRef:(0,r.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,r.useCallback)((function(e){i.current.backdrop=e}),[])})}var CR=(0,r.forwardRef)((function(e,t){var n=e.show,i=void 0!==n&&n,a=e.role,o=void 0===a?"dialog":a,u=e.className,s=e.style,c=e.children,f=e.backdrop,d=void 0===f||f,h=e.keyboard,p=void 0===h||h,v=e.onBackdropClick,m=e.onEscapeKeyDown,y=e.transition,g=e.runTransition,k=e.backdropTransition,b=e.runBackdropTransition,w=e.autoFocus,x=void 0===w||w,E=e.enforceFocus,I=void 0===E||E,_=e.restoreFocus,S=void 0===_||_,T=e.restoreFocusOptions,C=e.renderDialog,N=e.renderBackdrop,A=void 0===N?function(e){return(0,at.jsx)("div",Object.assign({},e))}:N,O=e.manager,D=e.container,R=e.onShow,P=e.onHide,L=void 0===P?function(){}:P,j=e.onExit,M=e.onExited,F=e.onExiting,V=e.onEnter,U=e.onEntering,B=e.onEntered,q=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,SR),z=function(e,t){var n=bR(),i=l((0,r.useState)((function(){return wR(e,null==n?void 0:n.document)})),2),a=i[0],o=i[1];if(!a){var u=wR(e);u&&o(u)}return(0,r.useEffect)((function(){t&&a&&t(a)}),[t,a]),(0,r.useEffect)((function(){var t=wR(e);t!==a&&o(t)}),[e,a]),a}(D),K=TR(O),W=EA(),G=IA(i),H=l((0,r.useState)(!i),2),Q=H[0],X=H[1],Y=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(function(){return K}),[K]),$A&&!G&&i&&(Y.current=hR()),i&&Q&&X(!1);var J=wA((function(){if(K.add(),re.current=iO(document,"keydown",te),ne.current=iO(document,"focus",(function(){return setTimeout(Z)}),!0),R&&R(),x){var e=hR(document);K.dialog&&e&&!pR(K.dialog,e)&&(Y.current=e,K.dialog.focus())}})),$=wA((function(){var e;(K.remove(),null==re.current||re.current(),null==ne.current||ne.current(),S)&&(null==(e=Y.current)||null==e.focus||e.focus(T),Y.current=null)}));(0,r.useEffect)((function(){i&&z&&J()}),[i,z,J]),(0,r.useEffect)((function(){Q&&$()}),[Q,$]),vR((function(){$()}));var Z=wA((function(){if(I&&W()&&K.isTopModal()){var e=hR();K.dialog&&e&&!pR(K.dialog,e)&&K.dialog.focus()}})),ee=wA((function(e){e.target===e.currentTarget&&(null==v||v(e),!0===d&&L())})),te=wA((function(e){p&&27===e.keyCode&&K.isTopModal()&&(null==m||m(e),e.defaultPrevented||L())})),ne=(0,r.useRef)(),re=(0,r.useRef)();if(!z)return null;var ie=Object.assign({role:o,ref:K.setDialogRef,"aria-modal":"dialog"===o||void 0},q,{style:s,className:u,tabIndex:-1}),ae=C?C(ie):(0,at.jsx)("div",Object.assign({},ie,{children:r.cloneElement(c,{role:"document"})}));ae=IR(y,g,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!i,onExit:j,onExiting:F,onExited:function(){X(!0),null==M||M.apply(void 0,arguments)},onEnter:V,onEntering:U,onEntered:B,children:ae});var oe=null;return d&&(oe=A({ref:K.setBackdropRef,onClick:ee}),oe=IR(k,b,{in:!!i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:oe})),(0,at.jsx)(at.Fragment,{children:PA.createPortal((0,at.jsxs)(at.Fragment,{children:[oe,ae]}),z)})}));CR.displayName="Modal";var NR,AR=Object.assign(CR,{Manager:gR}),OR=Rt("offcanvas-body"),DR=["bsPrefix","className","children"],RR=(He(NR={},VA,"show"),He(NR,UA,"show"),NR),PR=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=et(e,DR);return n=ht(n,"offcanvas"),(0,at.jsx)(vO,Xe(Xe({ref:t,addEndListener:sO},o),{},{childRef:a.ref,children:function(e,t){return r.cloneElement(a,Xe(Xe({},t),{},{className:nt()(i,a.props.className,(e===VA||e===BA)&&"".concat(n,"-toggling"),RR[e])}))}}))}));PR.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},PR.displayName="OffcanvasToggling";var LR=PR,jR=r.createContext({onHide:function(){}}),MR=["closeLabel","closeVariant","closeButton","onHide","children"],FR=r.forwardRef((function(e,t){var n=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,u=e.children,s=et(e,MR),c=(0,r.useContext)(jR),l=wA((function(){null==c||c.onHide(),null==o||o()}));return(0,at.jsxs)("div",Xe(Xe({ref:t},s),{},{children:[u,a&&(0,at.jsx)(EO,{"aria-label":n,variant:i,onClick:l})]}))}));FR.defaultProps={closeLabel:"Close",closeButton:!1};var VR=FR,UR=["bsPrefix","className"],BR=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=et(e,UR);return n=ht(n,"offcanvas-header"),(0,at.jsx)(VR,Xe(Xe({ref:t},i),{},{className:nt()(r,n)}))}));BR.displayName="OffcanvasHeader",BR.defaultProps={closeLabel:"Close",closeButton:!1};var qR=BR,zR=Rt("offcanvas-title",{Component:IO("h5")});function KR(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var WR,GR=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",HR=".sticky-top",QR=".navbar-toggler",XR=function(e){k(n,e);var t=I(n);function n(){return h(this,n),t.apply(this,arguments)}return y(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,JA(t,He({},e,"".concat(parseFloat(JA(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],JA(t,He({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Wa(b(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";yD(a,GR).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),yD(a,HR).forEach((function(n){return t.adjustAndStore(u,n,-e.scrollBarWidth)})),yD(a,QR).forEach((function(n){return t.adjustAndStore(u,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Wa(b(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=KR(r.className,i):r.setAttribute("class",KR(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",u=this.isRTL?"marginLeft":"marginRight";yD(a,GR).forEach((function(e){return t.restore(o,e)})),yD(a,HR).forEach((function(e){return t.restore(u,e)})),yD(a,QR).forEach((function(e){return t.restore(u,e)}))}}]),n}(gR);var YR=XR,JR=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function $R(e){return(0,at.jsx)(LR,Xe({},e))}function ZR(e){return(0,at.jsx)(kO,Xe({},e))}var eP=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],u=e.placement,s=e.responsive,c=e.show,f=e.backdrop,d=e.keyboard,h=e.scroll,p=e.onEscapeKeyDown,v=e.onShow,m=e.onHide,y=e.container,g=e.autoFocus,k=e.enforceFocus,b=e.restoreFocus,w=e.restoreFocusOptions,x=e.onEntered,E=e.onExit,I=e.onExiting,_=e.onEnter,S=e.onEntering,T=e.onExited,C=e.backdropClassName,N=e.manager,A=e.renderStaticNode,O=et(e,JR),D=(0,r.useRef)();n=ht(n,"offcanvas");var R=((0,r.useContext)(LD)||{}).onToggle,P=l((0,r.useState)(!1),2),L=P[0],j=P[1],M=dR(s||"xs","up");(0,r.useEffect)((function(){j(s?c&&!M:c)}),[c,s,M]);var F=wA((function(){null==R||R(),null==m||m()})),V=(0,r.useMemo)((function(){return{onHide:F}}),[F]);var U=(0,r.useCallback)((function(e){return(0,at.jsx)("div",Xe(Xe({},e),{},{className:nt()("".concat(n,"-backdrop"),C)}))}),[C,n]),B=function(e){return(0,at.jsx)("div",Xe(Xe(Xe({},e),O),{},{className:nt()(i,s?"".concat(n,"-").concat(s):n,"".concat(n,"-").concat(u)),"aria-labelledby":o,children:a}))};return(0,at.jsxs)(at.Fragment,{children:[!L&&(s||A)&&B({}),(0,at.jsx)(jR.Provider,{value:V,children:(0,at.jsx)(AR,{show:L,ref:t,backdrop:f,container:y,keyboard:d,autoFocus:g,enforceFocus:k&&!h,restoreFocus:b,restoreFocusOptions:w,onEscapeKeyDown:p,onShow:v,onHide:F,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==_||_.apply(void 0,[e].concat(n))},onEntering:S,onEntered:x,onExit:E,onExiting:I,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==T||T.apply(void 0,n)},manager:N||(h?(D.current||(D.current=new YR({handleContainerOverflow:!1})),D.current):function(e){return WR||(WR=new XR(e)),WR}()),transition:$R,backdropTransition:ZR,renderBackdrop:U,renderDialog:B})})]})}));eP.displayName="Offcanvas",eP.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start",renderStaticNode:!1};var tP=Object.assign(eP,{Body:OR,Header:qR,Title:zR}),nP=r.forwardRef((function(e,t){var n=(0,r.useContext)(LD);return(0,at.jsx)(tP,Xe(Xe({ref:t,show:!(null==n||!n.expanded)},e),{},{renderStaticNode:!0}))}));nP.displayName="NavbarOffcanvas";var rP=nP,iP=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],aP=Rt("navbar-text",{Component:"span"}),oP=r.forwardRef((function(e,t){var n=mA(e,{expanded:"onToggle"}),i=n.bsPrefix,a=n.expand,o=n.variant,u=n.bg,s=n.fixed,c=n.sticky,l=n.className,f=n.as,d=void 0===f?"nav":f,h=n.expanded,p=n.onToggle,v=n.onSelect,m=n.collapseOnSelect,y=et(n,iP),g=ht(i,"navbar"),k=(0,r.useCallback)((function(){null==v||v.apply(void 0,arguments),m&&h&&(null==p||p(!1))}),[v,m,h,p]);void 0===y.role&&"nav"!==d&&(y.role="navigation");var b="".concat(g,"-expand");"string"===typeof a&&(b="".concat(b,"-").concat(a));var w=(0,r.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!h)},bsPrefix:g,expanded:!!h,expand:a}}),[g,h,a,p]);return(0,at.jsx)(LD.Provider,{value:w,children:(0,at.jsx)(xD.Provider,{value:k,children:(0,at.jsx)(d,Xe(Xe({ref:t},y),{},{className:nt()(l,g,a&&b,o&&"".concat(g,"-").concat(o),u&&"bg-".concat(u),c&&"sticky-".concat(c),s&&"fixed-".concat(s))}))})})}));oP.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},oP.displayName="Navbar";var uP=Object.assign(oP,{Brand:HD,Collapse:aR,Offcanvas:rP,Text:aP,Toggle:sR}),sP=r.createContext(null),cP=Object.prototype.hasOwnProperty;function lP(e,t,n){var r,i=C(e.keys());try{for(i.s();!(r=i.n()).done;)if(fP(n=r.value,t))return n}catch(a){i.e(a)}finally{i.f()}}function fP(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&fP(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var a,o=C(e);try{for(o.s();!(a=o.n()).done;){if((i=r=a.value)&&"object"===typeof i&&!(i=lP(t,i)))return!1;if(!t.has(i))return!1}}catch(c){o.e(c)}finally{o.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var u,s=C(e);try{for(s.s();!(u=s.n()).done;){if((i=(r=u.value)[0])&&"object"===typeof i&&!(i=lP(t,i)))return!1;if(!fP(r[1],t.get(i)))return!1}}catch(c){s.e(c)}finally{s.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(cP.call(e,n)&&++r&&!cP.call(t,n))return!1;if(!(n in t)||!fP(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var dP=function(e){var t=EA();return[e[0],(0,r.useCallback)((function(n){if(t())return e[1](n)}),[t,e[1]])]};function hP(e){return e.split("-")[0]}function pP(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function vP(e){return e instanceof pP(e).Element||e instanceof Element}function mP(e){return e instanceof pP(e).HTMLElement||e instanceof HTMLElement}function yP(e){return"undefined"!==typeof ShadowRoot&&(e instanceof pP(e).ShadowRoot||e instanceof ShadowRoot)}var gP=Math.max,kP=Math.min,bP=Math.round;function wP(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function xP(){return!/^((?!chrome|android).)*safari/i.test(wP())}function EP(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,a=1;t&&mP(e)&&(i=e.offsetWidth>0&&bP(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&bP(r.height)/e.offsetHeight||1);var o=(vP(e)?pP(e):window).visualViewport,u=!xP()&&n,s=(r.left+(u&&o?o.offsetLeft:0))/i,c=(r.top+(u&&o?o.offsetTop:0))/a,l=r.width/i,f=r.height/a;return{width:l,height:f,top:c,right:s+l,bottom:c+f,left:s,x:s,y:c}}function IP(e){var t=EP(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function _P(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&yP(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function SP(e){return e?(e.nodeName||"").toLowerCase():null}function TP(e){return pP(e).getComputedStyle(e)}function CP(e){return["table","td","th"].indexOf(SP(e))>=0}function NP(e){return((vP(e)?e.ownerDocument:e.document)||window.document).documentElement}function AP(e){return"html"===SP(e)?e:e.assignedSlot||e.parentNode||(yP(e)?e.host:null)||NP(e)}function OP(e){return mP(e)&&"fixed"!==TP(e).position?e.offsetParent:null}function DP(e){for(var t=pP(e),n=OP(e);n&&CP(n)&&"static"===TP(n).position;)n=OP(n);return n&&("html"===SP(n)||"body"===SP(n)&&"static"===TP(n).position)?t:n||function(e){var t=/firefox/i.test(wP());if(/Trident/i.test(wP())&&mP(e)&&"fixed"===TP(e).position)return null;var n=AP(e);for(yP(n)&&(n=n.host);mP(n)&&["html","body"].indexOf(SP(n))<0;){var r=TP(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function RP(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function PP(e,t,n){return gP(e,kP(t,n))}function LP(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function jP(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var MP="top",FP="bottom",VP="right",UP="left",BP="auto",qP=[MP,FP,VP,UP],zP="start",KP="end",WP="viewport",GP="popper",HP=qP.reduce((function(e,t){return e.concat([t+"-"+zP,t+"-"+KP])}),[]),QP=[].concat(qP,[BP]).reduce((function(e,t){return e.concat([t,t+"-"+zP,t+"-"+KP])}),[]),XP=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var YP={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,u=hP(n.placement),s=RP(u),c=[UP,VP].indexOf(u)>=0?"height":"width";if(a&&o){var l=function(e,t){return LP("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:jP(e,qP))}(i.padding,n),f=IP(a),d="y"===s?MP:UP,h="y"===s?FP:VP,p=n.rects.reference[c]+n.rects.reference[s]-o[s]-n.rects.popper[c],v=o[s]-n.rects.reference[s],m=DP(a),y=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,g=p/2-v/2,k=l[d],b=y-f[c]-l[h],w=y/2-f[c]/2+g,x=PP(k,w,b),E=s;n.modifiersData[r]=((t={})[E]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&_P(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function JP(e){return e.split("-")[1]}var $P={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ZP(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,u=e.position,s=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,f=e.isFixed,d=o.x,h=void 0===d?0:d,p=o.y,v=void 0===p?0:p,m="function"===typeof l?l({x:h,y:v}):{x:h,y:v};h=m.x,v=m.y;var y=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),k=UP,b=MP,w=window;if(c){var x=DP(n),E="clientHeight",I="clientWidth";if(x===pP(n)&&"static"!==TP(x=NP(n)).position&&"absolute"===u&&(E="scrollHeight",I="scrollWidth"),i===MP||(i===UP||i===VP)&&a===KP)b=FP,v-=(f&&x===w&&w.visualViewport?w.visualViewport.height:x[E])-r.height,v*=s?1:-1;if(i===UP||(i===MP||i===FP)&&a===KP)k=VP,h-=(f&&x===w&&w.visualViewport?w.visualViewport.width:x[I])-r.width,h*=s?1:-1}var _,S=Object.assign({position:u},c&&$P),T=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:bP(t*r)/r||0,y:bP(n*r)/r||0}}({x:h,y:v}):{x:h,y:v};return h=T.x,v=T.y,s?Object.assign({},S,((_={})[b]=g?"0":"",_[k]=y?"0":"",_.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",_)):Object.assign({},S,((t={})[b]=g?v+"px":"",t[k]=y?h+"px":"",t.transform="",t))}var eL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,u=n.roundOffsets,s=void 0===u||u,c={placement:hP(t.placement),variation:JP(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ZP(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ZP(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},tL={passive:!0};var nL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,u=void 0===o||o,s=pP(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,tL)})),u&&s.addEventListener("resize",n.update,tL),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,tL)})),u&&s.removeEventListener("resize",n.update,tL)}},data:{}},rL={left:"right",right:"left",bottom:"top",top:"bottom"};function iL(e){return e.replace(/left|right|bottom|top/g,(function(e){return rL[e]}))}var aL={start:"end",end:"start"};function oL(e){return e.replace(/start|end/g,(function(e){return aL[e]}))}function uL(e){var t=pP(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function sL(e){return EP(NP(e)).left+uL(e).scrollLeft}function cL(e){var t=TP(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function lL(e){return["html","body","#document"].indexOf(SP(e))>=0?e.ownerDocument.body:mP(e)&&cL(e)?e:lL(AP(e))}function fL(e,t){var n;void 0===t&&(t=[]);var r=lL(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=pP(r),o=i?[a].concat(a.visualViewport||[],cL(r)?r:[]):r,u=t.concat(o);return i?u:u.concat(fL(AP(o)))}function dL(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function hL(e,t,n){return t===WP?dL(function(e,t){var n=pP(e),r=NP(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,u=0,s=0;if(i){a=i.width,o=i.height;var c=xP();(c||!c&&"fixed"===t)&&(u=i.offsetLeft,s=i.offsetTop)}return{width:a,height:o,x:u+sL(e),y:s}}(e,n)):vP(t)?function(e,t){var n=EP(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):dL(function(e){var t,n=NP(e),r=uL(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=gP(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=gP(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+sL(e),s=-r.scrollTop;return"rtl"===TP(i||n).direction&&(u+=gP(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:u,y:s}}(NP(e)))}function pL(e,t,n,r){var i="clippingParents"===t?function(e){var t=fL(AP(e)),n=["absolute","fixed"].indexOf(TP(e).position)>=0&&mP(e)?DP(e):e;return vP(n)?t.filter((function(e){return vP(e)&&_P(e,n)&&"body"!==SP(e)})):[]}(e):[].concat(t),a=[].concat(i,[n]),o=a[0],u=a.reduce((function(t,n){var i=hL(e,n,r);return t.top=gP(i.top,t.top),t.right=kP(i.right,t.right),t.bottom=kP(i.bottom,t.bottom),t.left=gP(i.left,t.left),t}),hL(e,o,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function vL(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?hP(i):null,o=i?JP(i):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(a){case MP:t={x:u,y:n.y-r.height};break;case FP:t={x:u,y:n.y+n.height};break;case VP:t={x:n.x+n.width,y:s};break;case UP:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var c=a?RP(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case zP:t[c]=t[c]-(n[l]/2-r[l]/2);break;case KP:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function mL(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.strategy,o=void 0===a?e.strategy:a,u=n.boundary,s=void 0===u?"clippingParents":u,c=n.rootBoundary,l=void 0===c?WP:c,f=n.elementContext,d=void 0===f?GP:f,h=n.altBoundary,p=void 0!==h&&h,v=n.padding,m=void 0===v?0:v,y=LP("number"!==typeof m?m:jP(m,qP)),g=d===GP?"reference":GP,k=e.rects.popper,b=e.elements[p?g:d],w=pL(vP(b)?b:b.contextElement||NP(e.elements.popper),s,l,o),x=EP(e.elements.reference),E=vL({reference:x,element:k,strategy:"absolute",placement:i}),I=dL(Object.assign({},k,E)),_=d===GP?I:x,S={top:w.top-_.top+y.top,bottom:_.bottom-w.bottom+y.bottom,left:w.left-_.left+y.left,right:_.right-w.right+y.right},T=e.modifiersData.offset;if(d===GP&&T){var C=T[i];Object.keys(S).forEach((function(e){var t=[VP,FP].indexOf(e)>=0?1:-1,n=[MP,FP].indexOf(e)>=0?"y":"x";S[e]+=C[n]*t}))}return S}var yL={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0===o||o,s=n.fallbackPlacements,c=n.padding,l=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=void 0===h||h,v=n.allowedAutoPlacements,m=t.options.placement,y=hP(m),g=s||(y===m||!p?[iL(m)]:function(e){if(hP(e)===BP)return[];var t=iL(e);return[oL(e),t,oL(t)]}(m)),k=[m].concat(g).reduce((function(e,n){return e.concat(hP(n)===BP?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,c=void 0===s?QP:s,l=JP(r),f=l?u?HP:HP.filter((function(e){return JP(e)===l})):qP,d=f.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=f);var h=d.reduce((function(t,n){return t[n]=mL(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[hP(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:l,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),b=t.rects.reference,w=t.rects.popper,x=new Map,E=!0,I=k[0],_=0;_<k.length;_++){var S=k[_],T=hP(S),C=JP(S)===zP,N=[MP,FP].indexOf(T)>=0,A=N?"width":"height",O=mL(t,{placement:S,boundary:l,rootBoundary:f,altBoundary:d,padding:c}),D=N?C?VP:UP:C?FP:MP;b[A]>w[A]&&(D=iL(D));var R=iL(D),P=[];if(a&&P.push(O[T]<=0),u&&P.push(O[D]<=0,O[R]<=0),P.every((function(e){return e}))){I=S,E=!1;break}x.set(S,P)}if(E)for(var L=function(e){var t=k.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return I=t,"break"},j=p?3:1;j>0;j--){if("break"===L(j))break}t.placement!==I&&(t.modifiersData[r]._skip=!0,t.placement=I,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function gL(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function kL(e){return[MP,VP,FP,UP].some((function(t){return e[t]>=0}))}var bL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=QP.reduce((function(e,n){return e[n]=function(e,t,n){var r=hP(e),i=[UP,MP].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],u=a[1];return o=o||0,u=(u||0)*i,[UP,VP].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}(n,t.rects,a),e}),{}),u=o[t.placement],s=u.x,c=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var wL={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0!==o&&o,s=n.boundary,c=n.rootBoundary,l=n.altBoundary,f=n.padding,d=n.tether,h=void 0===d||d,p=n.tetherOffset,v=void 0===p?0:p,m=mL(t,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),y=hP(t.placement),g=JP(t.placement),k=!g,b=RP(y),w="x"===b?"y":"x",x=t.modifiersData.popperOffsets,E=t.rects.reference,I=t.rects.popper,_="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,S="number"===typeof _?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(x){if(a){var N,A="y"===b?MP:UP,O="y"===b?FP:VP,D="y"===b?"height":"width",R=x[b],P=R+m[A],L=R-m[O],j=h?-I[D]/2:0,M=g===zP?E[D]:I[D],F=g===zP?-I[D]:-E[D],V=t.elements.arrow,U=h&&V?IP(V):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=B[A],z=B[O],K=PP(0,E[D],U[D]),W=k?E[D]/2-j-K-q-S.mainAxis:M-K-q-S.mainAxis,G=k?-E[D]/2+j+K+z+S.mainAxis:F+K+z+S.mainAxis,H=t.elements.arrow&&DP(t.elements.arrow),Q=H?"y"===b?H.clientTop||0:H.clientLeft||0:0,X=null!=(N=null==T?void 0:T[b])?N:0,Y=R+G-X,J=PP(h?kP(P,R+W-X-Q):P,R,h?gP(L,Y):L);x[b]=J,C[b]=J-R}if(u){var $,Z="x"===b?MP:UP,ee="x"===b?FP:VP,te=x[w],ne="y"===w?"height":"width",re=te+m[Z],ie=te-m[ee],ae=-1!==[MP,UP].indexOf(y),oe=null!=($=null==T?void 0:T[w])?$:0,ue=ae?re:te-E[ne]-I[ne]-oe+S.altAxis,se=ae?te+E[ne]+I[ne]-oe-S.altAxis:ie,ce=h&&ae?function(e,t,n){var r=PP(e,t,n);return r>n?n:r}(ue,te,se):PP(h?ue:re,te,h?se:ie);x[w]=ce,C[w]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};function xL(e,t,n){void 0===n&&(n=!1);var r=mP(t),i=mP(t)&&function(e){var t=e.getBoundingClientRect(),n=bP(t.width)/e.offsetWidth||1,r=bP(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=NP(t),o=EP(e,i,n),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&(("body"!==SP(t)||cL(a))&&(u=function(e){return e!==pP(e)&&mP(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:uL(e);var t}(t)),mP(t)?((s=EP(t,!0)).x+=t.clientLeft,s.y+=t.clientTop):a&&(s.x=sL(a))),{x:o.left+u.scrollLeft-s.x,y:o.top+u.scrollTop-s.y,width:o.width,height:o.height}}function EL(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function IL(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var _L={placement:"bottom",modifiers:[],strategy:"absolute"};function SL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function TL(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?_L:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},_L,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],u=!1,s={state:i,setOptions:function(n){var u="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,u),i.scrollParents={reference:vP(e)?fL(e):e.contextElement?fL(e.contextElement):[],popper:fL(t)};var l=function(e){var t=EL(e);return XP.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var u=a({state:i,name:t,instance:s,options:r}),c=function(){};o.push(u||c)}})),s.update()},forceUpdate:function(){if(!u){var e=i.elements,t=e.reference,n=e.popper;if(SL(t,n)){i.rects={reference:xL(t,DP(n),"fixed"===i.options.strategy),popper:IP(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,f=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:f,instance:s})||i)}else i.reset=!1,r=-1}}},update:IL((function(){return new Promise((function(e){s.forceUpdate(),e(i)}))})),destroy:function(){c(),u=!0}};if(!SL(e,t))return s;function c(){o.forEach((function(e){return e()})),o=[]}return s.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}var CL=TL({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=mL(t,{elementContext:"reference"}),u=mL(t,{altBoundary:!0}),s=gL(o,r),c=gL(u,i,a),l=kL(s),f=kL(c);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=vL({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},eL,nL,bL,yL,wL,YP]}),NL=["enabled","placement","strategy","modifiers"];function AL(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var OL={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},DL={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in i){var o=i.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",o?"".concat(o,",").concat(r.id):r.id)}}},RL=[];var PL=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.enabled,a=void 0===i||i,o=n.placement,u=void 0===o?"bottom":o,s=n.strategy,c=void 0===s?"absolute":s,f=n.modifiers,h=void 0===f?RL:f,p=AL(n,NL),v=(0,r.useRef)(h),m=(0,r.useRef)(),y=(0,r.useCallback)((function(){var e;null==(e=m.current)||e.update()}),[]),g=(0,r.useCallback)((function(){var e;null==(e=m.current)||e.forceUpdate()}),[]),k=dP((0,r.useState)({placement:u,update:y,forceUpdate:g,attributes:{},styles:{popper:{},arrow:{}}})),b=l(k,2),w=b[0],x=b[1],E=(0,r.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),x({state:t,styles:n,attributes:r,update:y,forceUpdate:g,placement:t.placement})}}}),[y,g,x]),I=(0,r.useMemo)((function(){return fP(v.current,h)||(v.current=h),v.current}),[h]);return(0,r.useEffect)((function(){m.current&&a&&m.current.setOptions({placement:u,strategy:c,modifiers:[].concat(d(I),[E,OL])})}),[c,u,E,a,I]),(0,r.useEffect)((function(){if(a&&null!=e&&null!=t)return m.current=CL(e,t,Object.assign({},p,{placement:u,strategy:c,modifiers:[].concat(d(I),[DL,E])})),function(){null!=m.current&&(m.current.destroy(),m.current=void 0,x((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[a,e,t]),w},LL=function(){};function jL(e){return 0===e.button}function ML(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var FL=function(e){return e&&("current"in e?e.current:e)},VL={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};var UL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LL,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.disabled,a=n.clickTrigger,o=void 0===a?"click":a,u=(0,r.useRef)(!1),s=(0,r.useRef)(!1),c=(0,r.useCallback)((function(t){var n=FL(e);St()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),u.current=!n||ML(t)||!jL(t)||!!pR(n,t.target)||s.current,s.current=!1}),[e]),l=wA((function(t){var n=FL(e);n&&pR(n,t.target)&&(s.current=!0)})),f=wA((function(e){u.current||t(e)}));(0,r.useEffect)((function(){if(!i&&null!=e){var t=WA(FL(e)),n=(t.defaultView||window).event,r=null;VL[o]&&(r=iO(t,VL[o],l,!0));var a=iO(t,o,c,!0),u=iO(t,o,(function(e){e!==n?f(e):n=void 0})),s=[];return"ontouchstart"in t.documentElement&&(s=[].slice.call(t.body.children).map((function(e){return iO(e,"mousemove",LL)}))),function(){null==r||r(),a(),u(),s.forEach((function(e){return e()}))}}}),[e,i,o,c,l,f])};function BL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function qL(e){var t,n,r,i,a,o=e.enabled,u=e.enableEvents,s=e.placement,c=e.flip,l=e.offset,f=e.fixed,d=e.containerPadding,h=e.arrowElement,p=e.popperConfig,v=void 0===p?{}:p,m=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(v.modifiers);return Object.assign({},v,{placement:s,enabled:o,strategy:f?"fixed":v.strategy,modifiers:BL(Object.assign({},m,{eventListeners:{enabled:u,options:null==(t=m.eventListeners)?void 0:t.options},preventOverflow:Object.assign({},m.preventOverflow,{options:d?Object.assign({padding:d},null==(n=m.preventOverflow)?void 0:n.options):null==(r=m.preventOverflow)?void 0:r.options}),offset:{options:Object.assign({offset:l},null==(i=m.offset)?void 0:i.options)},arrow:Object.assign({},m.arrow,{enabled:!!h,options:Object.assign({},null==(a=m.arrow)?void 0:a.options,{element:h})}),flip:Object.assign({enabled:!!c},m.flip)}))})}var zL=["children"];var KL=function(){};function WL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.useContext)(sP),n=xA(),i=l(n,2),a=i[0],o=i[1],u=(0,r.useRef)(!1),s=e.flip,c=e.offset,f=e.rootCloseEvent,d=e.fixed,h=void 0!==d&&d,p=e.placement,v=e.popperConfig,m=void 0===v?{}:v,y=e.enableEventListeners,g=void 0===y||y,k=e.usePopper,b=void 0===k?!!t:k,w=null==(null==t?void 0:t.show)?!!e.show:t.show;w&&!u.current&&(u.current=!0);var x=function(e){null==t||t.toggle(!1,e)},E=t||{},I=E.placement,_=E.setMenu,S=E.menuElement,T=E.toggleElement,C=PL(T,S,qL({placement:p||I||"bottom-start",enabled:b,enableEvents:null==g?w:g,offset:c,flip:s,fixed:h,arrowElement:a,popperConfig:m})),N=Object.assign({ref:_||KL,"aria-labelledby":null==T?void 0:T.id},C.attributes.popper,{style:C.styles.popper}),A={show:w,placement:I,hasShown:u.current,toggle:null==t?void 0:t.toggle,popper:b?C:null,arrowProps:b?Object.assign({ref:o},C.attributes.arrow,{style:C.styles.arrow}):{}};return UL(S,x,{clickTrigger:f,disabled:!w}),[N,A]}function GL(e){var t=e.children,n=l(WL(function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,zL)),2),r=n[0],i=n[1];return(0,at.jsx)(at.Fragment,{children:t(r,i)})}GL.displayName="DropdownMenu",GL.defaultProps={usePopper:!0};var HL=GL,QL={prefix:String(Math.round(1e10*Math.random())),current:0},XL=r.createContext(QL);var YL=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),JL=new WeakMap;function $L(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,r.useContext)(XL),n=(0,r.useRef)(null);if(null===n.current&&!e){var i,a,o=null===(i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===i||null===(a=i.ReactCurrentOwner)||void 0===a?void 0:a.current;if(o){var u=JL.get(o);null==u?JL.set(o,{id:t.current,state:o.memoizedState}):o.memoizedState!==u.state&&(t.current=u.id,JL.delete(o))}n.current=++t.current}return n.current}var ZL=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},ej=function(){};function tj(){var e=function(e){var t=(0,r.useContext)(XL);t!==QL||YL||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");var n=$L(!!e);return e||"react-aria".concat(t.prefix,"-").concat(n)}(),t=(0,r.useContext)(sP)||{},n=t.show,i=void 0!==n&&n,a=t.toggle,o=void 0===a?ej:a,u=t.setToggle,s=t.menuElement,c=(0,r.useCallback)((function(e){o(!i,e)}),[i,o]),l={id:e,ref:u||ej,onClick:c,"aria-expanded":!!i};return s&&ZL(s)&&(l["aria-haspopup"]=!0),[l,{show:i,toggle:o}]}function nj(e){var t=e.children,n=l(tj(),2),r=n[0],i=n[1];return(0,at.jsx)(at.Fragment,{children:t(r,i)})}nj.displayName="DropdownToggle";var rj=nj,ij=["eventKey","disabled","onClick","active","as"];function aj(e){var t=e.key,n=e.href,i=e.active,a=e.disabled,o=e.onClick,u=(0,r.useContext)(xD),s=((0,r.useContext)(bD)||{}).activeKey,c=wD(t,n),l=null==i&&null!=t?wD(s)===c:i;return[He({onClick:wA((function(e){a||(null==o||o(e),u&&!e.isPropagationStopped()&&u(c,e))})),"aria-disabled":a||void 0,"aria-selected":l},ID("dropdown-item"),""),{isActive:l}]}var oj=r.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,i=e.onClick,a=e.active,o=e.as,u=void 0===o?AA:o,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ij),c=l(aj({key:n,href:s.href,disabled:r,onClick:i,active:a}),1)[0];return(0,at.jsx)(u,Object.assign({},s,{ref:t},c))}));oj.displayName="DropdownItem";var uj=oj;function sj(){var e=gD(),t=(0,r.useRef)(null),n=(0,r.useCallback)((function(n){t.current=n,e()}),[e]);return[t,n]}function cj(e){var t=e.defaultShow,n=e.show,i=e.onSelect,a=e.onToggle,o=e.itemSelector,u=void 0===o?"* [".concat(ID("dropdown-item"),"]"):o,s=e.focusFirstItemOnShow,c=e.placement,f=void 0===c?"bottom-start":c,d=e.children,h=bR(),p=l(vA(n,t,a),2),v=p[0],m=p[1],y=l(sj(),2),g=y[0],k=y[1],b=g.current,w=l(sj(),2),x=w[0],E=w[1],I=x.current,_=IA(v),S=(0,r.useRef)(null),T=(0,r.useRef)(!1),C=(0,r.useContext)(xD),N=(0,r.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;m(e,{originalEvent:t,source:n})}),[m]),A=wA((function(e,t){null==i||i(e,t),N(!1,t,"select"),t.isPropagationStopped()||null==C||C(e,t)})),O=(0,r.useMemo)((function(){return{toggle:N,placement:f,show:v,menuElement:b,toggleElement:I,setMenu:k,setToggle:E}}),[N,f,v,b,I,k,E]);b&&_&&!v&&(T.current=b.contains(b.ownerDocument.activeElement));var D=wA((function(){I&&I.focus&&I.focus()})),R=wA((function(){var e=S.current,t=s;if(null==t&&(t=!(!g.current||!ZL(g.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=yD(g.current,u)[0];n&&n.focus&&n.focus()}}));(0,r.useEffect)((function(){v?R():T.current&&(T.current=!1,D())}),[v,T,D,R]),(0,r.useEffect)((function(){S.current=null}));var P=function(e,t){if(!g.current)return null;var n=yD(g.current,u),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return function(e,t,n,i){void 0===i&&(i=!1);var a=wA(n);(0,r.useEffect)((function(){var n="function"===typeof e?e():e;return n.addEventListener(t,a,i),function(){return n.removeEventListener(t,a,i)}}),[e])}((0,r.useCallback)((function(){return h.document}),[h]),"keydown",(function(e){var t,n,r=e.key,i=e.target,a=null==(t=g.current)?void 0:t.contains(i),o=null==(n=x.current)?void 0:n.contains(i);if((!/input|textarea/i.test(i.tagName)||!(" "===r||"Escape"!==r&&a||"Escape"===r&&"search"===i.type))&&(a||o)&&("Tab"!==r||g.current&&v)){S.current=e.type;var u={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var s=P(i,-1);return s&&s.focus&&s.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),v){var c=P(i,1);c&&c.focus&&c.focus()}else m(!0,u);return;case"Tab":nO(i.ownerDocument,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=g.current)&&t.contains(e.target)||m(!1,u)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),m(!1,u)}}})),(0,at.jsx)(xD.Provider,{value:A,children:(0,at.jsx)(sP.Provider,{value:O,children:d})})}cj.displayName="Dropdown",cj.Menu=HL,cj.Toggle=rj,cj.Item=uj;var lj=cj,fj=r.createContext({});fj.displayName="DropdownContext";var dj=fj,hj=["bsPrefix","className","eventKey","disabled","onClick","active","as"],pj=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.eventKey,a=e.disabled,o=void 0!==a&&a,u=e.onClick,s=e.active,c=e.as,f=void 0===c?RA:c,d=et(e,hj),h=ht(n,"dropdown-item"),p=l(aj({key:i,href:d.href,disabled:o,onClick:u,active:s}),2),v=p[0],m=p[1];return(0,at.jsx)(f,Xe(Xe(Xe({},d),v),{},{ref:t,className:nt()(r,h,m.isActive&&"active",o&&"disabled")}))}));pj.displayName="DropdownItem";var vj=pj,mj=r.createContext(null);mj.displayName="InputGroupContext";var yj=mj;function gj(e,t){return e}var kj=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function bj(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t?r=e?n?"right-end":"left-end":n?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}var wj=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.align,o=e.rootCloseEvent,u=e.flip,s=e.show,c=e.renderOnMount,f=e.as,d=void 0===f?"div":f,h=e.popperConfig,p=e.variant,v=et(e,kj),m=!1,y=(0,r.useContext)(LD),g=ht(n,"dropdown-menu"),k=(0,r.useContext)(dj),b=k.align,w=k.drop,x=k.isRTL;a=a||b;var E=(0,r.useContext)(yj),I=[];if(a)if("object"===typeof a){var _=Object.keys(a);if(_.length){var S=_[0],T=a[S];m="start"===T,I.push("".concat(g,"-").concat(S,"-").concat(T))}}else"end"===a&&(m=!0);var C=bj(m,w,x),N=l(WL({flip:u,rootCloseEvent:o,show:s,usePopper:!y&&0===I.length,offset:[0,2],popperConfig:h,placement:C}),2),A=N[0],O=N[1],D=O.hasShown,R=O.popper,P=O.show,L=O.toggle;if(A.ref=fO(gj(t),A.ref),SA((function(){P&&(null==R||R.update())}),[P]),!D&&!c&&!E)return null;"string"!==typeof d&&(A.show=P,A.close=function(){return null==L?void 0:L(!1)},A.align=a);var j=v.style;return null!=R&&R.placement&&(j=Xe(Xe({},v.style),A.style),v["x-placement"]=R.placement),(0,at.jsx)(d,Xe(Xe(Xe(Xe({},v),A),{},{style:j},(I.length||y)&&{"data-bs-popper":"static"}),{},{className:nt().apply(void 0,[i,g,P&&"show",m&&"".concat(g,"-end"),p&&"".concat(g,"-").concat(p)].concat(I))}))}));wj.displayName="DropdownMenu",wj.defaultProps={flip:!0};var xj=wj,Ej=["bsPrefix","split","className","childBsPrefix","as"],Ij=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.split,a=e.className,o=e.childBsPrefix,u=e.as,s=void 0===u?LO:u,c=et(e,Ej),f=ht(n,"dropdown-toggle"),d=(0,r.useContext)(sP);void 0!==o&&(c.bsPrefix=o);var h=l(tj(),1)[0];return h.ref=fO(h.ref,gj(t)),(0,at.jsx)(s,Xe(Xe({className:nt()(a,f,i&&"".concat(f,"-split"),(null==d?void 0:d.show)&&"show")},h),c))}));Ij.displayName="DropdownToggle";var _j=Ij,Sj=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],Tj=Rt("dropdown-header",{defaultProps:{role:"heading"}}),Cj=Rt("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),Nj=Rt("dropdown-item-text",{Component:"span"}),Aj=r.forwardRef((function(e,t){var n=mA(e,{show:"onToggle"}),i=n.bsPrefix,a=n.drop,o=n.show,u=n.className,s=n.align,c=n.onSelect,l=n.onToggle,f=n.focusFirstItemOnShow,d=n.as,h=void 0===d?"div":d,p=(n.navbar,n.autoClose),v=et(n,Sj),m=(0,r.useContext)(yj),y=ht(i,"dropdown"),g=pt(),k=wA((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===p?"click"===n:"inside"===p?"rootClose"!==n:"outside"!==p||"select"!==n)&&(null==l||l(e,t))})),b=bj("end"===s,a,g),w=(0,r.useMemo)((function(){return{align:s,drop:a,isRTL:g}}),[s,a,g]),x={down:y,"down-centered":"".concat(y,"-center"),up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,at.jsx)(dj.Provider,{value:w,children:(0,at.jsx)(lj,{placement:b,show:o,onSelect:c,onToggle:k,focusFirstItemOnShow:f,itemSelector:".".concat(y,"-item:not(.disabled):not(:disabled)"),children:m?v.children:(0,at.jsx)(h,Xe(Xe({},v),{},{ref:t,className:nt()(u,o&&"show",x[a])}))})})}));Aj.displayName="Dropdown",Aj.defaultProps={navbar:!1,align:"start",autoClose:!0,drop:"down"};var Oj=Object.assign(Aj,{Toggle:_j,Menu:xj,Item:vj,ItemText:Nj,Divider:Cj,Header:Tj}),Dj=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"],Rj=r.forwardRef((function(e,t){var n=e.id,r=e.title,i=e.children,a=e.bsPrefix,o=e.className,u=e.rootCloseEvent,s=e.menuRole,c=e.disabled,l=e.active,f=e.renderMenuOnMount,d=e.menuVariant,h=et(e,Dj),p=ht(void 0,"nav-item");return(0,at.jsxs)(Oj,Xe(Xe({ref:t},h),{},{className:nt()(o,p),children:[(0,at.jsx)(Oj.Toggle,{id:n,eventKey:null,active:l,disabled:c,childBsPrefix:a,as:BD,children:r}),(0,at.jsx)(Oj.Menu,{role:s,renderOnMount:f,rootCloseEvent:u,variant:d,children:i})]}))}));Rj.displayName="NavDropdown";var Pj=Object.assign(Rj,{Item:Oj.Item,ItemText:Oj.ItemText,Divider:Oj.Divider,Header:Oj.Header}),Lj={header:{width:"100%",fontWeight:"700",fontSize:"20px",display:"flex"}};var jj=function(){var e=iD(),t=e.login,n=e.handleLogout,i=e.user,a=(0,at.jsxs)("svg",{width:"25px",height:"25px",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"#000000",children:[(0,at.jsx)("ellipse",{cx:"32",cy:"24",rx:"12",ry:"16"}),(0,at.jsx)("path",{d:"M22 33.46s-10.09 2.68-12 8A33 33 0 0 0 8 56h48a33 33 0 0 0-1.94-14.54c-1.93-5.32-12-8-12-8"})]}),o=l((0,r.useState)(!1),2),u=o[0],s=o[1];return window.addEventListener("scroll",(function(){window.scrollY>50&&s(!0),window.scrollY<=50&&s(!1)})),(0,at.jsx)(at.Fragment,{children:(0,at.jsx)("header",{style:Lj.header,children:(0,at.jsx)(uP,{collapseOnSelect:!0,expand:"lg",variant:"dark",style:{backgroundColor:u?"#515151":"#FFFFFF00",position:"fixed",top:u?"0px":"auto",transition:"all .5s",display:"flex",width:"100%",zIndex:"99"},children:(0,at.jsxs)(Br,{children:[(0,at.jsx)(uP.Brand,{as:Ke,to:"/",style:Lj.text,children:"Camisetas La Plata"}),(0,at.jsx)(uP.Toggle,{"aria-controls":"responsive-navbar-nav"}),(0,at.jsxs)(uP.Collapse,{id:"responsive-navbar-nav",children:[(0,at.jsxs)(KD,{className:"me-auto",children:[(0,at.jsx)(KD.Link,{as:Ke,to:"/",children:"Home"}),(0,at.jsx)(KD.Link,{as:Ke,to:"/inventario",children:"Inventario"}),t&&(0,at.jsx)(at.Fragment,{children:(0,at.jsx)(KD.Link,{as:Ke,to:"/productos/ProductosAlta",children:"Agregar Producto"})}),t&&(0,at.jsx)(at.Fragment,{children:(0,at.jsx)(KD.Link,{as:Ke,to:"/cart",children:"Iniciar Compra"})})]}),(0,at.jsxs)(KD,{children:[!t&&(0,at.jsx)(at.Fragment,{children:(0,at.jsxs)(Pj,{title:a,id:"basic-nav-dropdown",style:{color:"#fafafa"},children:[(0,at.jsx)(Pj.Item,{as:Ke,to:"/alta",children:"Registrarse"}),(0,at.jsx)(Pj.Item,{as:Ke,to:"/ingresar",children:"LogIn"})]})}),t&&(0,at.jsx)("div",{children:(0,at.jsx)(Pj,{title:i.nombre,id:"basic-nav-dropdown",style:{color:"#fafafa"},children:(0,at.jsx)(Pj.Item,{onClick:function(){return n()},children:"Salir "})})})]})]})]})})})})},Mj={detalle:{backgroundColor:"#FF8C91",display:"flex",textDecoration:"none",justifyContent:"center"},button:{width:"200px",height:"70px",backgroundColor:"#202d56",borderRadius:"20px"},det:{marginTop:"200px",display:"flex",justifyContent:"center"},text:{color:"#202d56",fontWeight:"700"},talles:{display:"flex"},price:{color:"#202d56",fontWeight:"550",fontSize:"32px"}};var Fj=function(){var e=Ee().detalleId,t=l((0,r.useState)({}),2),n=t[0],i=t[1],a=l((0,r.useState)(!0),2),o=a[0],u=a[1];return(0,r.useEffect)((function(){var t=function(){var t=$e(Ye().mark((function t(){var n;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,GO(e);case 3:n=t.sent,i(n.data()),console.log(n),u(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),(0,at.jsx)(at.Fragment,{children:(0,at.jsx)("div",{style:Mj.detalle,children:(0,at.jsx)(uD,{loading:o,children:(0,at.jsxs)("div",{style:Mj.det,children:[(0,at.jsx)("div",{style:Mj.img,children:(0,at.jsx)("img",{src:n.thumbnail,alt:""})}),(0,at.jsxs)("div",{children:[(0,at.jsx)("h1",{style:Mj.text,children:n.title}),(0,at.jsx)("p",{style:Mj.text,children:n.description}),(0,at.jsxs)("div",{children:[(0,at.jsx)("h3",{style:Mj.text,children:"Seleccione su talle"}),(0,at.jsxs)("div",{style:Mj.talles,children:[(0,at.jsx)("button",{type:"radio",className:"button",children:"S"}),(0,at.jsx)("button",{type:"radio",className:"button",children:"M"}),(0,at.jsx)("button",{type:"radio",className:"button",children:"L"})]})]}),(0,at.jsxs)("p",{style:Mj.price,children:["$ ",n.price]}),(0,at.jsx)("p",{children:n.warranty}),(0,at.jsx)(LO,{type:"submit",style:Mj.button,className:"botonCompra",children:(0,at.jsx)(Ke,{to:"/compra/",style:{color:"white",textDecoration:"none"},children:" Comprar Ahora"})})]})]})})})})};var Vj=function(e){var t=e.label;return(0,at.jsx)(at.Fragment,{children:["radio"].map((function(e){return(0,at.jsx)("div",{className:"mb-3",children:(0,at.jsx)(ln.Check,{label:t,name:"group1",type:e})},"inline-".concat(e))}))})};var Uj={separador:{height:"500px",backgroundColor:"#027fbb",display:"flex",justifyContent:"center"},h1:{color:"white",marginTop:"200px",fontSize:"60px",fontWeight:"900"},container:{maxWidth:"370px",marginTop:"50px"},button:{width:"100%",height:"70px",backgroundColor:"#202d56"}};var Bj=function(){var e=l((0,r.useState)({variant:"",text:""}),2),t=e[0],n=e[1],i=l((0,r.useState)(!1),2),a=i[0],o=i[1],u=l((0,r.useState)([]),2),s=u[0],c=u[1];return(0,r.useEffect)((function(){var e=function(){var e=$e(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://apis.datos.gob.ar/georef/api/provincias?campos=id,nombre").then((function(e){return e.json()}));case 3:t=e.sent,console.log(t),c(t.provincias),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),console.log("prov",s),(0,r.useEffect)((function(){a&&new Promise((function(e){return setTimeout(e,2e3)})).then((function(){o(!1),n({variant:"success",text:"\xa1Gracias por su compra!",duration:3e3,link:"/"})}))}),[a]),(0,at.jsx)(at.Fragment,{children:(0,at.jsxs)("div",{children:[(0,at.jsx)("div",{style:Uj.separador,children:(0,at.jsx)("h1",{style:Uj.h1,children:"COMPRA"})}),(0,at.jsx)(Br,{style:Uj.container,children:(0,at.jsxs)(ln,{children:[(0,at.jsxs)("div",{children:[(0,at.jsx)("p",{children:"Seleccione su Metodo de Pago"}),(0,at.jsx)(Vj,{label:"Mercado Pago"}),(0,at.jsx)(Vj,{label:"Tarjeta"}),(0,at.jsx)(Vj,{label:"Pago Facil / Rapipago"})]}),(0,at.jsx)("p",{children:"Provincia"}),(0,at.jsx)(ln.Select,{children:s.map((function(e){return(0,at.jsx)("option",{value:e.id,children:e.nombre},e.id)}))}),(0,at.jsx)(Fr,{label:"Ciudad"}),(0,at.jsx)(Fr,{label:"Direccion"}),(0,at.jsx)(LO,{style:Uj.button,variant:"primary",type:"submit",disabled:a,onClick:a?null:function(){return o(!0)},children:a?"Loading\u2026":" Comprar"}),t&&(0,at.jsx)(DO,Xe({},t))]})})]})})};n.p;var qj=function(e,t){var n=(0,r.useRef)(!0);(0,r.useEffect)((function(){if(!n.current)return e();n.current=!1}),t)},zj=Math.pow(2,31)-1;function Kj(e,t,n){var r=n-Date.now();e.current=r<=zj?setTimeout(t,r):setTimeout((function(){return Kj(e,t,n)}),zj)}function Wj(){var e=EA(),t=(0,r.useRef)();return vR((function(){return clearTimeout(t.current)})),(0,r.useMemo)((function(){var n=function(){return clearTimeout(t.current)};return{set:function(r,i){void 0===i&&(i=0),e()&&(n(),i<=zj?t.current=setTimeout(r,i):Kj(t,r,Date.now()+i))},clear:n}}),[])}var Gj=Rt("carousel-caption"),Hj=["as","bsPrefix","className"],Qj=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.bsPrefix,a=e.className,o=et(e,Hj),u=nt()(a,ht(i,"carousel-item"));return(0,at.jsx)(r,Xe(Xe({ref:t},o),{},{className:u}))}));Qj.displayName="CarouselItem";var Xj=Qj,Yj=["as","bsPrefix","slide","fade","controls","indicators","indicatorLabels","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","variant","className","children"],Jj={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:(0,at.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:(0,at.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};var $j=r.forwardRef((function(e,t){var n=mA(e,{activeIndex:"onSelect"}),i=n.as,a=void 0===i?"div":i,o=n.bsPrefix,u=n.slide,s=n.fade,c=n.controls,f=n.indicators,d=n.indicatorLabels,h=n.activeIndex,p=n.onSelect,v=n.onSlide,m=n.onSlid,y=n.interval,g=n.keyboard,k=n.onKeyDown,b=n.pause,w=n.onMouseOver,x=n.onMouseOut,E=n.wrap,I=n.touch,_=n.onTouchStart,S=n.onTouchMove,T=n.onTouchEnd,C=n.prevIcon,N=n.prevLabel,A=n.nextIcon,O=n.nextLabel,D=n.variant,R=n.className,P=n.children,L=et(n,Yj),j=ht(o,"carousel"),M=pt(),F=(0,r.useRef)(null),V=l((0,r.useState)("next"),2),U=V[0],B=V[1],q=l((0,r.useState)(!1),2),z=q[0],K=q[1],W=l((0,r.useState)(!1),2),G=W[0],H=W[1],Q=l((0,r.useState)(h||0),2),X=Q[0],Y=Q[1];(0,r.useEffect)((function(){G||h===X||(F.current?B(F.current):B((h||0)>X?"next":"prev"),u&&H(!0),Y(h||0))}),[h,G,X,u]),(0,r.useEffect)((function(){F.current&&(F.current=null)}));var J,$=0;!function(e,t){var n=0;r.Children.forEach(e,(function(e){r.isValidElement(e)&&t(e,n++)}))}(P,(function(e,t){++$,t===h&&(J=e.props.interval)}));var Z=bA(J),ee=(0,r.useCallback)((function(e){if(!G){var t=X-1;if(t<0){if(!E)return;t=$-1}F.current="prev",null==p||p(t,e)}}),[G,X,p,E,$]),te=wA((function(e){if(!G){var t=X+1;if(t>=$){if(!E)return;t=0}F.current="next",null==p||p(t,e)}})),ne=(0,r.useRef)();(0,r.useImperativeHandle)(t,(function(){return{element:ne.current,prev:ee,next:te}}));var re=wA((function(){!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;var t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(ne.current)&&(M?ee():te())})),ie="next"===U?"start":"end";qj((function(){u||(null==v||v(X,ie),null==m||m(X,ie))}),[X]);var ae="".concat(j,"-item-").concat(U),oe="".concat(j,"-item-").concat(ie),ue=(0,r.useCallback)((function(e){cO(e),null==v||v(X,ie)}),[v,X,ie]),se=(0,r.useCallback)((function(){H(!1),null==m||m(X,ie)}),[m,X,ie]),ce=(0,r.useCallback)((function(e){if(g&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void(M?te(e):ee(e));case"ArrowRight":return e.preventDefault(),void(M?ee(e):te(e))}null==k||k(e)}),[g,k,ee,te,M]),le=(0,r.useCallback)((function(e){"hover"===b&&K(!0),null==w||w(e)}),[b,w]),fe=(0,r.useCallback)((function(e){K(!1),null==x||x(e)}),[x]),de=(0,r.useRef)(0),he=(0,r.useRef)(0),pe=Wj(),ve=(0,r.useCallback)((function(e){de.current=e.touches[0].clientX,he.current=0,"hover"===b&&K(!0),null==_||_(e)}),[b,_]),me=(0,r.useCallback)((function(e){e.touches&&e.touches.length>1?he.current=0:he.current=e.touches[0].clientX-de.current,null==S||S(e)}),[S]),ye=(0,r.useCallback)((function(e){if(I){var t=he.current;Math.abs(t)>40&&(t>0?ee(e):te(e))}"hover"===b&&pe.set((function(){K(!1)}),y||void 0),null==T||T(e)}),[I,b,ee,te,pe,y,T]),ge=null!=y&&!z&&!G,ke=(0,r.useRef)();(0,r.useEffect)((function(){var e,t;if(ge){var n=M?ee:te;return ke.current=window.setInterval(document.visibilityState?re:n,null!=(e=null!=(t=Z.current)?t:y)?e:void 0),function(){null!==ke.current&&clearInterval(ke.current)}}}),[ge,ee,te,Z,y,re,M]);var be=(0,r.useMemo)((function(){return f&&Array.from({length:$},(function(e,t){return function(e){null==p||p(t,e)}}))}),[f,$,p]);return(0,at.jsxs)(a,Xe(Xe({ref:ne},L),{},{onKeyDown:ce,onMouseOver:le,onMouseOut:fe,onTouchStart:ve,onTouchMove:me,onTouchEnd:ye,className:nt()(R,j,u&&"slide",s&&"".concat(j,"-fade"),D&&"".concat(j,"-").concat(D)),children:[f&&(0,at.jsx)("div",{className:"".concat(j,"-indicators"),children:wt(P,(function(e,t){return(0,at.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=d&&d.length?d[t]:"Slide ".concat(t+1),className:t===X?"active":void 0,onClick:be?be[t]:void 0,"aria-current":t===X},t)}))}),(0,at.jsx)("div",{className:"".concat(j,"-inner"),children:wt(P,(function(e,t){var n=t===X;return u?(0,at.jsx)(vO,{in:n,onEnter:n?ue:void 0,onEntered:n?se:void 0,addEndListener:sO,children:function(t,i){return r.cloneElement(e,Xe(Xe({},i),{},{className:nt()(e.props.className,n&&"entered"!==t&&ae,("entered"===t||"exiting"===t)&&"active",("entering"===t||"exiting"===t)&&oe)}))}}):r.cloneElement(e,{className:nt()(e.props.className,n&&"active")})}))}),c&&(0,at.jsxs)(at.Fragment,{children:[(E||0!==h)&&(0,at.jsxs)(RA,{className:"".concat(j,"-control-prev"),onClick:ee,children:[C,N&&(0,at.jsx)("span",{className:"visually-hidden",children:N})]}),(E||h!==$-1)&&(0,at.jsxs)(RA,{className:"".concat(j,"-control-next"),onClick:te,children:[A,O&&(0,at.jsx)("span",{className:"visually-hidden",children:O})]})]})]}))}));$j.displayName="Carousel",$j.defaultProps=Jj;var Zj=Object.assign($j,{Caption:Gj,Item:Xj}),eM={carousel:{width:"500px",height:"500px"}};var tM=function(){var e=l((0,r.useState)(0),2),t=e[0],n=e[1],i=l((0,r.useState)([]),2),a=i[0],o=i[1],u=l((0,r.useState)(!1),2),s=u[0],c=u[1],f=function(){c(!0)},d=function(){c(!1)};return(0,r.useEffect)((function(){var e=function(){var e=$e(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,KO();case 3:t=e.sent,console.log(t),o(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,at.jsx)(Zj,{activeIndex:t,onSelect:function(e,t){n(e)},style:eM.carousel,children:a.map((function(e){return(0,at.jsx)(Zj.Item,{style:{opacity:s?"0.5":"1",transition:"opacity 1s"},onMouseEnter:f,onMouseLeave:d,children:(0,at.jsx)("img",{className:"d-block w-100",src:e.data().thumbnail,alt:"First slide",width:"500px",height:"500px"})},e.id)}))})},nM={main:{width:"100%",height:"1080px",backgroundColor:"#FFAE00",display:"flex",justifyContent:"space-evenly"},carousel:{width:"500px",marginTop:"200px"},text:{color:"white",marginTop:"300px",fontWeight:"1300"}};var rM=function(){return(0,at.jsx)(at.Fragment,{children:(0,at.jsxs)("div",{style:nM.main,children:[(0,at.jsxs)("div",{style:nM.text,children:[(0,at.jsx)("h1",{style:{fontWeight:"700",fontFamily:"'Visby CF',sansSerif"},children:"EL BEBEDERO"}),(0,at.jsx)("h1",{style:{fontWeight:"700"},children:"Sistema Punto de Venta"})]}),(0,at.jsx)("div",{style:nM.carousel,children:(0,at.jsx)(tM,{})})]})})};var iM=function(){return console.log(fA),(0,at.jsx)(at.Fragment,{children:(0,at.jsx)(rM,{})})},aM={separador:{height:"500px",backgroundColor:"#027fbb",display:"flex",justifyContent:"center"},h1:{color:"white",marginTop:"200px",fontSize:"60px",fontWeight:"900"},container:{maxWidth:"370px",marginTop:"50px",marginBottom:"50px"},button:{width:"100%",height:"70px",backgroundColor:"#202d56"}};var oM=function(){var e=Mr({mode:"onChange"}),t=e.register,n=e.handleSubmit,i=e.formState.errors,a=l((0,r.useState)({variant:"",text:""}),2),o=a[0],u=a[1],s=l((0,r.useState)(!1),2),c=s[0],f=s[1],d=function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),f(!0),e.prev=2,e.next=5,QO(t);case 5:e.sent&&(u({variant:"success",text:"\xa1Exitoso!",duration:1500}),f(!1),window.location.reload(!1)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),u({variant:"danger",text:"Error"}),f(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,at.jsxs)("div",{children:[(0,at.jsx)("div",{style:aM.separador,children:(0,at.jsx)("h1",{style:aM.h1,children:"AGREGAR PRODUCTO"})}),(0,at.jsx)(Br,{style:aM.container,children:(0,at.jsxs)(ln,{onSubmit:n(d),children:[(0,at.jsx)(Fr,{label:"Precio",register:Xe({},t("price",{required:!0}))}),i.nombre&&(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:"This field is required"})}),(0,at.jsx)(Fr,{label:"Titulo",register:Xe({},t("title",{required:!0}))}),i.apellido&&(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:"This field is required"})}),(0,at.jsx)(Fr,{label:"Categoria",register:Xe({},t("category",{required:!0}))}),i.email&&(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:"This field is required"})}),(0,at.jsx)(Fr,{label:"Codigo de baras",type:"number",register:Xe({},t("Barcode",{required:!0}))}),i.email&&(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:"This field is required"})}),(0,at.jsx)(Fr,{label:"Stock",register:Xe({},t("stock",{required:!0}))}),i.email&&(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:"This field is required"})}),(0,at.jsx)(VO,{variant:"primary",type:"submit",loading:c,style:aM.button,children:"Guardar"}),o&&(0,at.jsx)(DO,Xe({},o))]})})]})},uM={separador:{height:"500px",backgroundColor:"#027fbb",display:"flex",justifyContent:"center"},h1:{color:"white",marginTop:"200px",fontSize:"60px",fontWeight:"900"}};var sM=function(){var e=l((0,r.useState)(!0),2),t=e[0],n=e[1],i=Mr({mode:"onChange"}),a=i.register,o=i.handleSubmit,u=i.formState.errors,s=i.setValue,c=xe(),f=Ee().detalleId;(0,r.useEffect)((function(){var e=function(){var e=$e(Ye().mark((function e(){var t;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,GO(f);case 3:t=e.sent,s("title",t.data().title),s("price",t.data().price),s("category",t.data().category),s("stock",t.data().stock),s("Barcode",t.data().Barcode),n(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[f,s]);var d=function(){var e=$e(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);try{YO(f,t)&&c("/inventario")}catch(wM){console.log(wM)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,at.jsxs)(at.Fragment,{children:[(0,at.jsx)("div",{style:uM.separador,children:(0,at.jsx)("h1",{style:uM.h1,children:"EDICI\xd3N"})}),(0,at.jsx)(uD,{loading:t,children:(0,at.jsx)("div",{children:(0,at.jsx)(Br,{children:(0,at.jsxs)(ln,{onSubmit:o(d),children:[(0,at.jsx)(Fr,{label:"Precio",register:Xe({},a("price",{required:!0}))}),u.nombre&&(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:"This field is required"})}),(0,at.jsx)(Fr,{label:"Titulo",register:Xe({},a("title",{required:!0}))}),u.apellido&&(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:"This field is required"})}),(0,at.jsx)(Fr,{label:"Categoria",register:Xe({},a("category",{required:!0}))}),u.email&&(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:"This field is required"})}),(0,at.jsx)(Fr,{label:"Codigo de baras",register:Xe({},a("Barcode",{required:!0}))}),u.email&&(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:"This field is required"})}),(0,at.jsx)(Fr,{label:"Stock",register:Xe({},a("stock",{required:!0}))}),u.email&&(0,at.jsx)("div",{children:(0,at.jsx)("span",{children:"This field is required"})}),(0,at.jsx)(LO,{variant:"primary",type:"submit",children:"Guardar"}),(0,at.jsx)(LO,{variant:"danger",type:"submit",onClick:function(){try{var e=function(e){return $O.apply(this,arguments)}(f);e&&c("/")}catch(wM){console.log(wM)}},children:"Eliminar"})]})})})})]})},cM=n.p+"static/media/Instagram_icon.png.e291349581f33a4f4b3e.webp",lM=n.p+"static/media/WhatsApp_icon.png.c7dacebb181e85b92e70.webp",fM=n.p+"static/media/Gmail_icon_(2020).svg.27f35c965a2996c3456e.webp",dM=n.p+"static/media/3721984-removebg-preview.c6767d8de8b92e22174a.png";var hM=function(){return(0,at.jsx)(at.Fragment,{children:(0,at.jsxs)("footer",{children:[(0,at.jsx)("div",{className:"container-footer-all",children:(0,at.jsxs)("div",{className:"container-body",children:[(0,at.jsxs)("div",{className:"colum1",children:[(0,at.jsx)("h1",{children:"Mas informacion de la compa\xf1ia"}),(0,at.jsx)("p",{children:" Esta compa\xf1ia se dedica a la venta y distribucion de camisetas originales importadas, este texto es solo para llenara informacion en el cuadro de informacion de la compa\xf1ia."})]}),(0,at.jsxs)("div",{className:"colum2",children:[(0,at.jsx)("h1",{children:"Redes Sociales"}),(0,at.jsxs)("div",{className:"row",children:[(0,at.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAAFoCAMAAABNO5HnAAAAP1BMVEVHcEwoqOcoqOcoqOcoqOcoqOcoqOcoqOcoqOcoqOf39/f6+PdCsulfvex+ye6b1PDM5vS13vLd7fXy9ffp8vbPqKHyAAAACnRSTlMAN8L/2nRXHO+b0W8OrwAAELtJREFUeNrsndmWmzAMhocQSIg3wLz/sxZI0mwsxpbkBXw3bU/O5Kv4tVr8/R3nOMc5znGOc5zjHOc4xOdyuWRZVvan+H+Gn/o/7P/q4OPON+vJVtXpdD5fr/nvuV6v5/PpVFU99+wgboO4JzzwnaI7c64D8YH3Qc+UcY94C+Ef3lVx0F61YxfGb6enfdj2vCGDMH6z7cO00SEfsCco93KBAvk/7F5GLgfl6pzjn96w98yaiPLTP+6UNS3l3bLO6Ck/WWc7MuYC1/ut+cbichjzYdZgyuzTmN/NOmm17jUjD+akqyBZcc6DOuciS1Kar3lw55qcWAeJOT3UwWJOC/UlZMzpoL6E5gKn3eLlwHygNjjlKY/l9CnM4QMPqU5CNSLXj4hU4z0vj00/LnGpxrt+RGXU5TmP9pzLw5wPo07GnCMy6sjNORqjjjPYmAg/wo6pL8U1T+RcQ46psypP6IQrH/F7wSh8YkKy8ZKPIKONPMETnnxkpzzJE1r0kZo8hyrU6clzkEKdpjyHJ9Spcw6FdKpuMDSXmJ3zHZxzdoQb+wg+9sLZN+nymu/mXMsjfE6d9L44+0td9sbZF+n9cfZDeo+cfZDeJ2d6j1julDM16f1ypiW9n3zQb46Y7ZozXYVp75ypqqaX0175Cv6fNEEnIKJ+CudCCDkeITh3/TjZvD6CoOcSCWchVVO3nda34Witu7ZWUjjQFm3z9lOFnqjEYMlC1d2N9ef2fvofddtIYcuZqfefi70H0D3lVn8h/oDd1dLCrkXNbpIunA4+4OCynqf8hH1rG2HBuRNkQV7oAQdX7W2F8sOu9TbUvW7cWPv1IOCFHoEHHKaY76y3oJbd8LnN9x9X+3SEsjbHPKLuFDf8D7yHLvLnb4odOkLe6E2YB/1grTSS5/u/7wRRfekSsiOU7UbMT/1YM2r+/GRWT1U9LvsS6P7htuE8nHZZqUXz1CM2af0IGeKyQAvhVTZu9qeTS/+B3f//wG7a9sFlOlsWaNVyb5yHGNflzPnEPop5fTBrZtoAGWkELTrW+CItWjfOfdw29auLz2BRzz2ywNH0ikCr/ldSMbnBj/PrErlsus+PrWd/gYowsuPDl9XSiz13zpy/bJoL2fxkPgtfDjLGW4vs5FygGYFuvNs07yGPhb+fOLBeEEbAGG8tsnt4o5pHynkgrVTT1K2+TZaklp/WiiolFN0j1aJ2iLwG4vzIFGeLq83y71ESpYSKGf5C0KcB5LwYa6+IIpB4VOZ2pUlDD6lpOK8HVBVJLemhHAZiFqhAr2nKuu+BiDzWi/3SNKOFTrwDEQ6gtKXYppSMLMiTRLrx85BylJrHepeQfz7BrKUhzYmE46exIiefWecO4npxVHy5JCLSRMLxE7KqmUe2QvaEU48wBel3D0zoCHkzl5a5+UOTtrdiPkjTGDSrxXdbiykMf1jafWWNTprGoL85D32Abi7Wc7neYtImnE6DsUkrRs957NIuJL8O+WFh5P1tenHOIQeFQX+o8aOttRS9Fnih3fxDjBt7kMTQH0XqR1trsZpjHeIZ9b2FnptPQcwRa3TlYJ36wPyoUWuBUPLIrk7GhUga3xW+PZBcvBouK+VJS5OuHJ9ihlbLw3aFr8GaYdT6bWZkrb5Q4Rn0slwidQKQlUPfo42hefg1BLxmOVbDBxWAdWmU7hZHVo5GCqlU3XZffS2DemmFZtC5ZIZaF0/MMdx8mepr6fXvYmHSFZBeIrhERVS329xosTFpU4NeNy+teFwSbd9osQk8CrDnmN1qWPkgq0RbiWABX+UwF8wWVD6IKqTfWYGhtWyseJjfohAmrWhQ+RDaB2djWymg69CbvjYDlA/pwaA3dPc31aXLDYrZGZoEmFF7CDo25bhbWi0nDNfUiEhBs23TKieE2G5TsAVl1A0LVp+3Ji0VloGBKDUx6O3JbQUf263n4AhGTQuabVc84wivQIy2WCt5RKCZVWBawLtCm/6dq35Qgq6tUq0Tgiu0KD1sXS3gDbS10Bm6wwo/3HKSaqLwzsUeKnhXaJkSs9YeNc1Mh9NjZ+QOy62falVNYzdr1BQpeOembkaDeBWRiVmjJigqOV9cqBCUw/6bs97bWBgOQZnUGbSBdpTbP9XhFhrrn1FOIVUbfy3nQYkSQTmc3BNjevN6NIJWlvM9vgpBOVwf5nE9Gg8q7GB1jq0dpdXHuuYQvVlvUGuCsMN9/UiJoBwQgUDvGBtTCeFdBKArnA1VALI5bLM02xzK0UUa4BLfinaUlh8LdFt42Byq1vWaIDd0L5yXOEuL4So9bFyJy/2mLMx9QKLCWT4KmkUMhr0Em0A73CeOF7vhmf2yRtjHmd2XPc+t1lYRgF6slTpsH0XYNTDQ7tp6xM1p4w6IzSMF0l55pO0Z4/isHnn3wIdd/cPBLv5DgK6w1o8if/lRTXTXtW1d19jX39xTw8UAL3Pap0s05ckWlh8BguaYIu24IFp6mD5EG+bgmCLtulBXHaCNRNp5QzRvWCqkIUDPinTmvPKc14mQZh0A6FmRBtjhL9pESEOAnhVpiJ3nqZAG2cFVgYyCpU1aQ4A+ob4tIQ3SIKBnvKHd6z/kT18kCdIgoGe8YWEZO/90sUUCsQcI6BlvaOcL5cTAgNNrJFICXQH6QnkfGPhsQDm8GCWlqGPaG1r6Qvmo9OjPZp+MXKhB4uhpb2iZF776dwPrV0dENFEbNQzoSW9o2QB/b5SO77+8N0T48Japndc6Zlrhlgn4d1dprM93bV03TVt3O7foybDDMgGfKfeP5fl469MMyKIrwAS8TqY0iiAdJ8CRDpUiaIie4cxwh3WlI03QQC86mYjvrKv+Qh+gt8R3tuONRJtviTkzqCWUJRzoJL0hImj7PlaKIs2g1m0VgH2sJEUaCnQFCJq36Zm0FmigHRqGTXqgO6hNWye4EfQUtYOBvRT6J2Nx6czy5OIOqMRwImNxaoEnF3fAvQHzB7TTOJjoUgMNtjT/JzV0m7tLzh1KPNBuQzOJuUMNt0k1A8vAU0zDO7jlwCUsaJmUSbM6WNBpqTTka7ehQScVeDCFB9p5CD2lWBrypdsFNGiRUGkJ8k3Q4KC9bIQP3xcigE7nShakL0QAnY54MBk26GSCaS0CB53IzVm4YjQa6DRkGlSicUAn0gJQ4YNOwiGCSvQP6DI/SD8OqESD1zrSIQ0r0XigoyetZSSgYycNqxw/oDPAz4755iwDVo48A1+K8hFPH31ZnC74D+l4b852Ahc00A6JV90jUqGGm1HCmFSaFOrmFiNqJrFBn4BBDzdn2e6VY+JaFjjoKK+DQ8ccExcNqxzhiDo21MDKATrxv+wUo0LNgLOVKdBFjnRk0zG2V+WYuCyEBroXENXe4mCtBT7oMkc8XDatDp816JzBdKkDOjWcYq3qTrOgaUMH0ZNXlMEzlikNkaoJeVkKuCucunR/OeUUR8g63MKdAv+6U+8IgQPNpw2Di0E9AnaL8K5wch8bXCAtxgVW4/slerw9dy7uohG2P4SP7aZX/cDFd7y9v2BifL9EXbdt2+kbCz7o0BIedAH4PrKJ85ijYfcTSQyNENtNr2MDjO/iHMJDMOjJBYOA8V2MA0soBj29QBowvovxngWCQc+sRAes3/HuMOi5oAO2rBTfWCmGQc8s6oasdsR2Gw7HoGdWz4NWOxp2GPTsq4Ugqx2RmTSKQc+9HgS2mxVV4KFRDHr2hTegtf+YdodhVDnm8kL42n9E6WEnUDjPvpQMtvYfz80hhDr0oi+EHjmIZU4afsZgRaLBO+GxiAeOJ1x6FSp0gzYK8cDJVfLFl/tCN2ijqOIhecLF11WDz4XFINNInnDxBezw40qy26twLEk0xhRN6A4RTTiWJBpluEMFTZqhCcfkSAfq8G7IpBGFY1GicUYdwyXN8IQjv5aLoFEm8GSws+h4wrEY3KEN/ssuSNKswROOFeXAGpMOMp5mLZ5wzJdIkad3RYCXlrXM/SkH2qUhroKTD0SBXlcOxCsWMqzCB6pArysH5uR/UEaNK9AGyoGmHaNSB3PpEDOCNlMO5OtZsg7jKj6qIzRSDuxbQzwI1EzhcjZRDlTteKD2fcUC2RGaKQf+jcMhqvZ6lRazlLReIaW9COfzKi1a1/tVIf0zO0VOce5XaZML7NZ6K9SXaJ+wu9QCO2NXSOAO3wNr+t6VRP9WlSlnAnforXyq8TkbukKsBUsTutHQKzQBZ2NXiJ4dPs3ZQ42agrNRVkgX4XEfG8RIOJ8uG0CjR3heduKRcDaO7SgiPC8L8VhHwvm8yaBRIzw/dWkizhsNuo/wsEyay9bP7BcN5y2xHaZJ+6qSEuTdW5MV1KTF115HVhNx3m7QCCbN/a3PxK6LOhg0uEl7xKwbKs42Bg1r0uPWTE9lfq3yPGCDBjRp7nMPLGslGWc7gwYyae7RmCndoL1BQ6SHPWXPnVgyeR6SQkuDdq14cKk8r9ilygYtk0IAk+aDKXvfjkkqG9urHK4mPa4gDWBbNNOUsuFk0Nvq0s8NpK0OYnUjZbRhUYf+abVcZ8JipeTrKNU0df3YQBrEbB27NYKW87X8czrVXNHiBZQ9t5AGNPzcSlrZsA/t1sqlAU7wv6szsTm7hHar/lDUob4Mi1qdXT3hmj8M82VYrGs4PWc3T7joD721slecYC3oMTt7wvWSR2gvw6J3giCe0CA/5DIcqWat8oLZKSc0FI8x/mgDEWclvGAGEg6DemmPmgXgAz1hhhIOo+LSgJrtFDOYcKyLx1NA2B4xAwqHYbOFKy9ukd1a5REzpHAYl/E8NLoHzNwnZpBUxaJTKyjbsKzXDOkXs3U/1r0HwKm6hN41A6jG8SMexj1xPt7XxKbs35hHgb78wZPe0EAc7mvise4lo5b+jRk4stsS4/2yZhi2XKsgKENHdvatWvB7yIzptpGBUEYRaOvRpWHsAAY2G005BF1GiqDdL2vxx/gBs2d8hyxCogwfQYNcuOgt+/4q1G24x3/ftU1vyWFBBukSwjnEn8GPwbYfQwlslTDTXTu+vTY4xpiOEOwC4oi7aXrg4w4J9n1uN931gB/vB86DPcUf8gEaT7+/WnmYvempP899LEcML2DOAz8VNucNGWLKp7r84ZM+HZxPBJwR73pGc3ADjoM0Nec+yNs16XP5R3bK6345Xwk575k0Lef9kqbm3KeIuyR9Lf7+DtJpct4jaT+c90faF+e9eUR6P7hP0j457ylHPHvlvB/SvjnvpcJEV0fad3369K89c9ttGIZhqGxYtvz/Pzx767qiu6FbE4sy+ZY8HhBHDOKA8w7/XHoTIenj54YXzsE/XdZ9puw1PtbPjbvxEfQk+jiD8UXtSM8fpOOJ2pee44ram56j6sOjNgLqw9Qx50Drw9/a+KyPAKW23sR/8G+i3ysYqtQYdcYvNUqdwUuNVOdLqSHnR64Cl6Zw/ijaBDEJyx/Wk6AGyR+I1gD0B6o1wFDjY4ZQNbKcgVDHwewadSzMblHHw/yK2ttZLBoR89sCcbSrc4il8S3qml0YxHKNjPki6+UGKT3JDhkGsZVl1ibbZFWtbZcy39r6fNal1yYb5lzWu1I+l/XelK+sj72Nlkn5nXXSXuyg46eJlI+FTcg/wB4aeQZtK0MXhPx7tf9BezJmkR/p9sD9EO9BeCBmj/+Ee/LWPokX+5K5WZl8u07CRPwE4i2lVEf0mvk0XjbyZRiGYRiGYc7PC/mTPlsTAZdsAAAAAElFTkSuQmCC"}),(0,at.jsx)("a",{href:" https://twitter.com/Ivan_lamo01",target:"_blank",children:(0,at.jsx)("label",{children:"Siguenos en Twitter"})})]}),(0,at.jsxs)("div",{className:"row",children:[(0,at.jsx)("img",{src:cM}),(0,at.jsx)("a",{href:" https://www.instagram.com/ivan_lamonega/?hl=es-la",target:"_blank",children:(0,at.jsx)("label",{children:"Siguenos en Instagram"})})]})]}),(0,at.jsxs)("div",{className:"colum3",children:[(0,at.jsx)("h1",{children:"Informacion Contactos"}),(0,at.jsxs)("div",{className:"row2",children:[(0,at.jsx)("img",{src:dM}),(0,at.jsx)("label",{children:"La Plata, Argentina Calle 126 y 43 Casa # 493"})]}),(0,at.jsxs)("div",{className:"row2",children:[(0,at.jsx)("img",{src:lM}),(0,at.jsx)("label",{children:"+54-2213591991"})]}),(0,at.jsxs)("div",{className:"row2",children:[(0,at.jsx)("img",{src:fM}),(0,at.jsx)("label",{children:"Cristiancedano1030@gmail.com"})]})]})]})}),(0,at.jsx)("div",{className:"container-footer",children:(0,at.jsxs)("div",{className:"footer",children:[(0,at.jsxs)("div",{className:"copyright",children:["\xa9 2023 Todos los Derechos Reservados | ",(0,at.jsx)("a",{href:"#",children:"IvanLamo"})]}),(0,at.jsxs)("div",{className:"information",children:[(0,at.jsx)("a",{href:"#",children:"Informacion Compa\xf1ia"})," | ",(0,at.jsx)("a",{href:"#",children:"Privacion y Politica"})," | ",(0,at.jsx)("a",{href:"#",children:"Terminos y Condiciones"})]})]})})]})})},pM=(0,r.createContext)(),vM=function(e){var t=e.children,n=l((0,r.useState)([]),2),i=n[0],a=n[1];return(0,at.jsx)(pM.Provider,{value:{cart:i,addToCart:function(e){a((function(t){return t.find((function(t){return t.id===e.id}))?t.map((function(t){return t.id===e.id?Xe(Xe({},t),{},{quantity:t.quantity+1}):t})):[].concat(d(t),[Xe(Xe({},e),{},{quantity:1})])}))},removeFromCart:function(e){a((function(t){return t.filter((function(t){return t.id!==e}))}))},updateCartQuantity:function(e,t){a((function(n){return n.map((function(n){return n.id===e?Xe(Xe({},n),{},{quantity:t}):n}))}))},clearCart:function(){return a([])}},children:t})};var mM=function(){var e=(0,r.useContext)(pM),t=e.cart,n=e.addToCart,i=e.removeFromCart,a=e.updateCartQuantity,o=e.clearCart,u=l((0,r.useState)(""),2),s=u[0],c=u[1],f=l((0,r.useState)(""),2),d=f[0],h=f[1],p=l((0,r.useState)(0),2),v=p[0],m=p[1],y=function(){var e=$e(Ye().mark((function e(r){var i,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,ZO(s);case 4:(i=e.sent)?((o=t.find((function(e){return e.id===i.id})))?a(i.id,o.quantity+1):n(Xe(Xe({},i),{},{quantity:1})),c("")):alert("Producto no encontrado"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error al buscar el producto:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=$e(Ye().mark((function e(r){var i,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,eD(d);case 4:(i=e.sent)?((o=t.find((function(e){return e.id===i.id})))?a(i.id,o.quantity+1):n(Xe(Xe({},i),{},{quantity:1})),h("")):alert("Producto no encontrado"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error al buscar el producto:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=$e(Ye().mark((function e(t,n){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(t,n);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=$e(Ye().mark((function e(){var n,r,i,a,u;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=C(t),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=24;break}if(!((i=r.value)&&i.data&&i.data.Barcode)){e.next=21;break}return e.next=9,ZO(i.data.Barcode);case 9:if(!(a=e.sent)){e.next=19;break}if(!((u=a.data.stock-i.quantity)>=0)){e.next=17;break}return e.next=15,tD(a.id,u);case 15:e.next=19;break;case 17:return alert("No hay suficiente stock para ".concat(a.data.title)),e.abrupt("return");case 19:e.next=22;break;case 21:console.error("Producto inv\xe1lido en el carrito:",i);case 22:e.next=4;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(2),n.e(e.t0);case 29:return e.prev=29,n.f(),e.finish(29);case 32:o(),alert("Compra confirmada y stock actualizado"),e.next=39;break;case 36:e.prev=36,e.t1=e.catch(0),console.error("Error al confirmar la compra:",e.t1);case 39:case"end":return e.stop()}}),e,null,[[0,36],[2,26,29,32]])})));return function(){return e.apply(this,arguments)}}(),w=(0,r.useCallback)((function(){var e=t.reduce((function(e,t){return e+t.data.price*t.quantity}),0);m(e)}),[t]);return(0,r.useEffect)((function(){w()}),[t,w]),(0,at.jsxs)("div",{className:"cart-container",children:[(0,at.jsx)("h2",{children:"Carrito de Compras"}),(0,at.jsxs)("form",{onSubmit:y,className:"cart-form",children:[(0,at.jsx)("input",{type:"text",value:s,onChange:function(e){return c(e.target.value)},placeholder:"Buscar por c\xf3digo de barras",className:"cart-input"}),(0,at.jsx)("button",{type:"submit",className:"cart-button",children:"Agregar por c\xf3digo de barras"})]}),(0,at.jsxs)("form",{onSubmit:g,className:"cart-form",children:[(0,at.jsx)("input",{type:"text",value:d,onChange:function(e){return h(e.target.value)},placeholder:"Buscar por t\xedtulo",className:"cart-input"}),(0,at.jsx)("button",{type:"submit",className:"cart-button",children:"Agregar por t\xedtulo"})]}),(0,at.jsx)("button",{onClick:o,className:"cart-button clear-button",children:"Vaciar Carrito"}),(0,at.jsxs)("h3",{children:["Total: $",v.toFixed(2)]}),0===t.length?(0,at.jsx)("p",{children:"El carrito est\xe1 vac\xedo"}):(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("table",{className:"cart-table",children:[(0,at.jsx)("thead",{className:"cart-table-header",children:(0,at.jsxs)("tr",{children:[(0,at.jsx)("th",{children:"Barcode"}),(0,at.jsx)("th",{children:"T\xedtulo"}),(0,at.jsx)("th",{children:"Precio"}),(0,at.jsx)("th",{children:"Cantidad"}),(0,at.jsx)("th",{children:"Acciones"})]})}),(0,at.jsx)("tbody",{children:t.map((function(e){return(0,at.jsxs)("tr",{children:[(0,at.jsx)("td",{children:e.data.Barcode}),(0,at.jsx)("td",{children:e.data.title}),(0,at.jsx)("td",{children:e.data.price}),(0,at.jsx)("td",{children:(0,at.jsx)("input",{type:"number",min:"1",value:e.quantity,onChange:function(t){return k(e.id,parseInt(t.target.value))},className:"quantity-input"})}),(0,at.jsx)("td",{children:(0,at.jsx)("button",{onClick:function(){return i(e.id)},className:"cart-button",children:"Eliminar"})})]},e.id)}))})]}),(0,at.jsx)("button",{onClick:b,className:"cart-button confirm-button",children:"Confirmar Compra"})]})]})};var yM=function(){return(0,at.jsx)(rD,{children:(0,at.jsx)(vM,{children:(0,at.jsxs)("div",{className:"App",children:[(0,at.jsx)(jj,{}),(0,at.jsxs)(je,{children:[(0,at.jsx)(Pe,{path:"/",element:(0,at.jsx)(iM,{})}),(0,at.jsx)(Pe,{path:"/inventario",element:(0,at.jsx)(fD,{})}),(0,at.jsx)(Pe,{path:"/cart",element:(0,at.jsx)(mM,{})}),(0,at.jsx)(Pe,{path:"/alta",element:(0,at.jsx)(BO,{})}),(0,at.jsx)(Pe,{path:"/ingresar",element:(0,at.jsx)(vD,{})}),(0,at.jsx)(Pe,{path:"/detalle/:detalleId",element:(0,at.jsx)(Fj,{})}),(0,at.jsx)(Pe,{path:"/detalle/editar/:detalleId",element:(0,at.jsx)(sM,{})}),(0,at.jsx)(Pe,{path:"/compra",element:(0,at.jsx)(Bj,{})}),(0,at.jsx)(Pe,{path:"/productos/ProductosAlta",element:(0,at.jsx)(oM,{})})]}),(0,at.jsx)(hM,{})]})})})},gM={body:{fontFamily:"'Visby CF',sansSerif"}};var kM=function(){return(0,at.jsx)("div",{className:"App",style:gM.body,children:(0,at.jsx)(qe,{children:(0,at.jsx)(yM,{})})})},bM=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};a.createRoot(document.getElementById("root")).render((0,at.jsx)(r.StrictMode,{children:(0,at.jsx)(kM,{})})),bM()}()}();
//# sourceMappingURL=main.49c23b60.js.map